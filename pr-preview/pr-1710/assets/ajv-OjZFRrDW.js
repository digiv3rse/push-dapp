import{dI as fl,s as hl,__tla as pl}from"./index-mlEuGbHv.js";import{u as ml}from"./ucs2length-xALg2LS9.js";let qo,yl=Promise.all([(()=>{try{return pl}catch{}})()]).then(async()=>{function Ko(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(a,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var yr={exports:{}},ga={},be={},nt={},St={},z={},Nt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class a extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((j,A)=>`${j}${A}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((j,A)=>(A instanceof r&&(j[A.str]=(j[A.str]||0)+1),j),{})}}e._Code=a,e.nil=new a("");function o(h,...w){const j=[h[0]];let A=0;for(;A<w.length;)f(j,w[A]),j.push(h[++A]);return new a(j)}e._=o;const i=new a("+");function l(h,...w){const j=[C(h[0])];let A=0;for(;A<w.length;)j.push(i),f(j,w[A]),j.push(i,C(h[++A]));return y(j),new a(j)}e.str=l;function f(h,w){w instanceof a?h.push(...w._items):w instanceof r?h.push(w):h.push(g(w))}e.addCodeArg=f;function y(h){let w=1;for(;w<h.length-1;){if(h[w]===i){const j=p(h[w-1],h[w+1]);if(j!==void 0){h.splice(w-1,3,j);continue}h[w++]="+"}w++}}function p(h,w){if(w==='""')return h;if(h==='""')return w;if(typeof h=="string")return w instanceof r||h[h.length-1]!=='"'?void 0:typeof w!="string"?`${h.slice(0,-1)}${w}"`:w[0]==='"'?h.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(h instanceof r))return`"${h}${w.slice(1)}`}function m(h,w){return w.emptyStr()?h:h.emptyStr()?w:l`${h}${w}`}e.strConcat=m;function g(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:C(Array.isArray(h)?h.join(","):h)}function k(h){return new a(C(h))}e.stringify=k;function C(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=C;function b(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new a(`.${h}`):o`[${h}]`}e.getProperty=b;function N(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new a(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=N;function $(h){return new a(h.toString())}e.regexpCode=$})(Nt);var vr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Nt;class r extends Error{constructor(p){super(`CodeGen: "code" for ${p} not defined`),this.value=p.value}}var a;(function(y){y[y.Started=0]="Started",y[y.Completed=1]="Completed"})(a||(e.UsedValueState=a={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:p,parent:m}={}){this._names={},this._prefixes=p,this._parent=m}toName(p){return p instanceof t.Name?p:this.name(p)}name(p){return new t.Name(this._newName(p))}_newName(p){const m=this._names[p]||this._nameGroup(p);return`${p}${m.index++}`}_nameGroup(p){var m,g;if(!((g=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||g===void 0)&&g.has(p)||this._prefixes&&!this._prefixes.has(p))throw new Error(`CodeGen: prefix "${p}" is not allowed in this scope`);return this._names[p]={prefix:p,index:0}}}e.Scope=o;class i extends t.Name{constructor(p,m){super(m),this.prefix=p}setValue(p,{property:m,itemIndex:g}){this.value=p,this.scopePath=(0,t._)`.${new t.Name(m)}[${g}]`}}e.ValueScopeName=i;const l=(0,t._)`\n`;class f extends o{constructor(p){super(p),this._values={},this._scope=p.scope,this.opts={...p,_n:p.lines?l:t.nil}}get(){return this._scope}name(p){return new i(p,this._newName(p))}value(p,m){var g;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(p),{prefix:C}=k,b=(g=m.key)!==null&&g!==void 0?g:m.ref;let N=this._values[C];if(N){const w=N.get(b);if(w)return w}else N=this._values[C]=new Map;N.set(b,k);const $=this._scope[C]||(this._scope[C]=[]),h=$.length;return $[h]=m.ref,k.setValue(m,{property:C,itemIndex:h}),k}getValue(p,m){const g=this._values[p];if(g)return g.get(m)}scopeRefs(p,m=this._values){return this._reduceValues(m,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,t._)`${p}${g.scopePath}`})}scopeCode(p=this._values,m,g){return this._reduceValues(p,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},m,g)}_reduceValues(p,m,g={},k){let C=t.nil;for(const b in p){const N=p[b];if(!N)continue;const $=g[b]=g[b]||new Map;N.forEach(h=>{if($.has(h))return;$.set(h,a.Started);let w=m(h);if(w){const j=this.opts.es5?e.varKinds.var:e.varKinds.const;C=(0,t._)`${C}${j} ${h} = ${w};${this.opts._n}`}else if(w=k==null?void 0:k(h))C=(0,t._)`${C}${w}${this.opts._n}`;else throw new r(h);$.set(h,a.Completed)})}return C}}e.ValueScope=f})(vr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Nt,r=vr;var a=Nt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return a.Name}});var o=vr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(n,u){return this}}class l extends i{constructor(n,u,P){super(),this.varKind=n,this.name=u,this.rhs=P}render({es5:n,_n:u}){const P=n?r.varKinds.var:this.varKind,R=this.rhs===void 0?"":` = ${this.rhs}`;return`${P} ${this.name}${R};`+u}optimizeNames(n,u){if(n[this.name.str])return this.rhs&&(this.rhs=fe(this.rhs,n,u)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class f extends i{constructor(n,u,P){super(),this.lhs=n,this.rhs=u,this.sideEffects=P}render({_n:n}){return`${this.lhs} = ${this.rhs};`+n}optimizeNames(n,u){if(!(this.lhs instanceof t.Name&&!n[this.lhs.str]&&!this.sideEffects))return this.rhs=fe(this.rhs,n,u),this}get names(){const n=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Ie(n,this.rhs)}}class y extends f{constructor(n,u,P,R){super(n,P,R),this.op=u}render({_n:n}){return`${this.lhs} ${this.op}= ${this.rhs};`+n}}class p extends i{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`${this.label}:`+n}}class m extends i{constructor(n){super(),this.label=n,this.names={}}render({_n:n}){return`break${this.label?` ${this.label}`:""};`+n}}class g extends i{constructor(n){super(),this.error=n}render({_n:n}){return`throw ${this.error};`+n}get names(){return this.error.names}}class k extends i{constructor(n){super(),this.code=n}render({_n:n}){return`${this.code};`+n}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(n,u){return this.code=fe(this.code,n,u),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class C extends i{constructor(n=[]){super(),this.nodes=n}render(n){return this.nodes.reduce((u,P)=>u+P.render(n),"")}optimizeNodes(){const{nodes:n}=this;let u=n.length;for(;u--;){const P=n[u].optimizeNodes();Array.isArray(P)?n.splice(u,1,...P):P?n[u]=P:n.splice(u,1)}return n.length>0?this:void 0}optimizeNames(n,u){const{nodes:P}=this;let R=P.length;for(;R--;){const T=P[R];T.optimizeNames(n,u)||(Ye(n,T.names),P.splice(R,1))}return P.length>0?this:void 0}get names(){return this.nodes.reduce((n,u)=>se(n,u.names),{})}}class b extends C{render(n){return"{"+n._n+super.render(n)+"}"+n._n}}class N extends C{}class $ extends b{}$.kind="else";class h extends b{constructor(n,u){super(u),this.condition=n}render(n){let u=`if(${this.condition})`+super.render(n);return this.else&&(u+="else "+this.else.render(n)),u}optimizeNodes(){super.optimizeNodes();const n=this.condition;if(n===!0)return this.nodes;let u=this.else;if(u){const P=u.optimizeNodes();u=this.else=Array.isArray(P)?new $(P):P}if(u)return n===!1?u instanceof h?u:u.nodes:this.nodes.length?this:new h(et(n),u instanceof h?[u]:u.nodes);if(!(n===!1||!this.nodes.length))return this}optimizeNames(n,u){var P;if(this.else=(P=this.else)===null||P===void 0?void 0:P.optimizeNames(n,u),!!(super.optimizeNames(n,u)||this.else))return this.condition=fe(this.condition,n,u),this}get names(){const n=super.names;return Ie(n,this.condition),this.else&&se(n,this.else.names),n}}h.kind="if";class w extends b{}w.kind="for";class j extends w{constructor(n){super(),this.iteration=n}render(n){return`for(${this.iteration})`+super.render(n)}optimizeNames(n,u){if(super.optimizeNames(n,u))return this.iteration=fe(this.iteration,n,u),this}get names(){return se(super.names,this.iteration.names)}}class A extends w{constructor(n,u,P,R){super(),this.varKind=n,this.name=u,this.from=P,this.to=R}render(n){const u=n.es5?r.varKinds.var:this.varKind,{name:P,from:R,to:T}=this;return`for(${u} ${P}=${R}; ${P}<${T}; ${P}++)`+super.render(n)}get names(){const n=Ie(super.names,this.from);return Ie(n,this.to)}}class D extends w{constructor(n,u,P,R){super(),this.loop=n,this.varKind=u,this.name=P,this.iterable=R}render(n){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(n)}optimizeNames(n,u){if(super.optimizeNames(n,u))return this.iterable=fe(this.iterable,n,u),this}get names(){return se(super.names,this.iterable.names)}}class J extends b{constructor(n,u,P){super(),this.name=n,this.args=u,this.async=P}render(n){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(n)}}J.kind="func";class ae extends C{render(n){return"return "+super.render(n)}}ae.kind="return";class Ne extends b{render(n){let u="try"+super.render(n);return this.catch&&(u+=this.catch.render(n)),this.finally&&(u+=this.finally.render(n)),u}optimizeNodes(){var n,u;return super.optimizeNodes(),(n=this.catch)===null||n===void 0||n.optimizeNodes(),(u=this.finally)===null||u===void 0||u.optimizeNodes(),this}optimizeNames(n,u){var P,R;return super.optimizeNames(n,u),(P=this.catch)===null||P===void 0||P.optimizeNames(n,u),(R=this.finally)===null||R===void 0||R.optimizeNames(n,u),this}get names(){const n=super.names;return this.catch&&se(n,this.catch.names),this.finally&&se(n,this.finally.names),n}}class xe extends b{constructor(n){super(),this.error=n}render(n){return`catch(${this.error})`+super.render(n)}}xe.kind="catch";class Fe extends b{render(n){return"finally"+super.render(n)}}Fe.kind="finally";class Ue{constructor(n,u={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...u,_n:u.lines?`
`:""},this._extScope=n,this._scope=new r.Scope({parent:n}),this._nodes=[new N]}toString(){return this._root.render(this.opts)}name(n){return this._scope.name(n)}scopeName(n){return this._extScope.name(n)}scopeValue(n,u){const P=this._extScope.value(n,u);return(this._values[P.prefix]||(this._values[P.prefix]=new Set)).add(P),P}getScopeValue(n,u){return this._extScope.getValue(n,u)}scopeRefs(n){return this._extScope.scopeRefs(n,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(n,u,P,R){const T=this._scope.toName(u);return P!==void 0&&R&&(this._constants[T.str]=P),this._leafNode(new l(n,T,P)),T}const(n,u,P){return this._def(r.varKinds.const,n,u,P)}let(n,u,P){return this._def(r.varKinds.let,n,u,P)}var(n,u,P){return this._def(r.varKinds.var,n,u,P)}assign(n,u,P){return this._leafNode(new f(n,u,P))}add(n,u){return this._leafNode(new y(n,e.operators.ADD,u))}code(n){return typeof n=="function"?n():n!==t.nil&&this._leafNode(new k(n)),this}object(...n){const u=["{"];for(const[P,R]of n)u.length>1&&u.push(","),u.push(P),(P!==R||this.opts.es5)&&(u.push(":"),(0,t.addCodeArg)(u,R));return u.push("}"),new t._Code(u)}if(n,u,P){if(this._blockNode(new h(n)),u&&P)this.code(u).else().code(P).endIf();else if(u)this.code(u).endIf();else if(P)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(n){return this._elseNode(new h(n))}else(){return this._elseNode(new $)}endIf(){return this._endBlockNode(h,$)}_for(n,u){return this._blockNode(n),u&&this.code(u).endFor(),this}for(n,u){return this._for(new j(n),u)}forRange(n,u,P,R,T=this.opts.es5?r.varKinds.var:r.varKinds.let){const H=this._scope.toName(n);return this._for(new A(T,H,u,P),()=>R(H))}forOf(n,u,P,R=r.varKinds.const){const T=this._scope.toName(n);if(this.opts.es5){const H=u instanceof t.Name?u:this.var("_arr",u);return this.forRange("_i",0,(0,t._)`${H}.length`,G=>{this.var(T,(0,t._)`${H}[${G}]`),P(T)})}return this._for(new D("of",R,T,u),()=>P(T))}forIn(n,u,P,R=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(n,(0,t._)`Object.keys(${u})`,P);const T=this._scope.toName(n);return this._for(new D("in",R,T,u),()=>P(T))}endFor(){return this._endBlockNode(w)}label(n){return this._leafNode(new p(n))}break(n){return this._leafNode(new m(n))}return(n){const u=new ae;if(this._blockNode(u),this.code(n),u.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(ae)}try(n,u,P){if(!u&&!P)throw new Error('CodeGen: "try" without "catch" and "finally"');const R=new Ne;if(this._blockNode(R),this.code(n),u){const T=this.name("e");this._currNode=R.catch=new xe(T),u(T)}return P&&(this._currNode=R.finally=new Fe,this.code(P)),this._endBlockNode(xe,Fe)}throw(n){return this._leafNode(new g(n))}block(n,u){return this._blockStarts.push(this._nodes.length),n&&this.code(n).endBlock(u),this}endBlock(n){const u=this._blockStarts.pop();if(u===void 0)throw new Error("CodeGen: not in self-balancing block");const P=this._nodes.length-u;if(P<0||n!==void 0&&P!==n)throw new Error(`CodeGen: wrong number of nodes: ${P} vs ${n} expected`);return this._nodes.length=u,this}func(n,u=t.nil,P,R){return this._blockNode(new J(n,u,P)),R&&this.code(R).endFunc(),this}endFunc(){return this._endBlockNode(J)}optimize(n=1){for(;n-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(n){return this._currNode.nodes.push(n),this}_blockNode(n){this._currNode.nodes.push(n),this._nodes.push(n)}_endBlockNode(n,u){const P=this._currNode;if(P instanceof n||u&&P instanceof u)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${u?`${n.kind}/${u.kind}`:n.kind}"`)}_elseNode(n){const u=this._currNode;if(!(u instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=u.else=n,this}get _root(){return this._nodes[0]}get _currNode(){const n=this._nodes;return n[n.length-1]}set _currNode(n){const u=this._nodes;u[u.length-1]=n}}e.CodeGen=Ue;function se(_,n){for(const u in n)_[u]=(_[u]||0)+(n[u]||0);return _}function Ie(_,n){return n instanceof t._CodeOrName?se(_,n.names):_}function fe(_,n,u){if(_ instanceof t.Name)return P(_);if(!R(_))return _;return new t._Code(_._items.reduce((T,H)=>(H instanceof t.Name&&(H=P(H)),H instanceof t._Code?T.push(...H._items):T.push(H),T),[]));function P(T){const H=u[T.str];return H===void 0||n[T.str]!==1?T:(delete n[T.str],H)}function R(T){return T instanceof t._Code&&T._items.some(H=>H instanceof t.Name&&n[H.str]===1&&u[H.str]!==void 0)}}function Ye(_,n){for(const u in n)_[u]=(_[u]||0)-(n[u]||0)}function et(_){return typeof _=="boolean"||typeof _=="number"||_===null?!_:(0,t._)`!${O(_)}`}e.not=et;const yt=v(e.operators.AND);function Mt(..._){return _.reduce(yt)}e.and=Mt;const vt=v(e.operators.OR);function x(..._){return _.reduce(vt)}e.or=x;function v(_){return(n,u)=>n===t.nil?u:u===t.nil?n:(0,t._)`${O(n)} ${_} ${O(u)}`}function O(_){return _ instanceof t.Name?_:(0,t._)`(${_})`}}(z);var I={};Object.defineProperty(I,"__esModule",{value:!0}),I.checkStrictMode=I.getErrorPath=I.Type=I.useFunc=I.setEvaluated=I.evaluatedPropsToName=I.mergeEvaluated=I.eachItem=I.unescapeJsonPointer=I.escapeJsonPointer=I.escapeFragment=I.unescapeFragment=I.schemaRefOrVal=I.schemaHasRulesButRef=I.schemaHasRules=I.checkUnknownRules=I.alwaysValidSchema=I.toHash=void 0;const W=z,zo=Nt;function Lo(e){const t={};for(const r of e)t[r]=!0;return t}I.toHash=Lo;function Ho(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:($a(e,t),!_a(t,e.self.RULES.all))}I.alwaysValidSchema=Ho;function $a(e,t=e.schema){const{opts:r,self:a}=e;if(!r.strictSchema||typeof t=="boolean")return;const o=a.RULES.keywords;for(const i in t)o[i]||Sa(e,`unknown keyword: "${i}"`)}I.checkUnknownRules=$a;function _a(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}I.schemaHasRules=_a;function Go(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}I.schemaHasRulesButRef=Go;function Bo({topSchemaRef:e,schemaPath:t},r,a,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,W._)`${r}`}return(0,W._)`${e}${t}${(0,W.getProperty)(a)}`}I.schemaRefOrVal=Bo;function Qo(e){return wa(decodeURIComponent(e))}I.unescapeFragment=Qo;function Jo(e){return encodeURIComponent(gr(e))}I.escapeFragment=Jo;function gr(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}I.escapeJsonPointer=gr;function wa(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}I.unescapeJsonPointer=wa;function Wo(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}I.eachItem=Wo;function ba({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:a}){return(o,i,l,f)=>{const y=l===void 0?i:l instanceof W.Name?(i instanceof W.Name?e(o,i,l):t(o,i,l),l):i instanceof W.Name?(t(o,l,i),i):r(i,l);return f===W.Name&&!(y instanceof W.Name)?a(o,y):y}}I.mergeEvaluated={props:ba({mergeNames:(e,t,r)=>e.if((0,W._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,W._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,W._)`${r} || {}`).code((0,W._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,W._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,W._)`${r} || {}`),$r(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:Ea}),items:ba({mergeNames:(e,t,r)=>e.if((0,W._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,W._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,W._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,W._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function Ea(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,W._)`{}`);return t!==void 0&&$r(e,r,t),r}I.evaluatedPropsToName=Ea;function $r(e,t,r){Object.keys(r).forEach(a=>e.assign((0,W._)`${t}${(0,W.getProperty)(a)}`,!0))}I.setEvaluated=$r;const Pa={};function Xo(e,t){return e.scopeValue("func",{ref:t,code:Pa[t.code]||(Pa[t.code]=new zo._Code(t.code))})}I.useFunc=Xo;var _r;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(_r||(I.Type=_r={}));function Zo(e,t,r){if(e instanceof W.Name){const a=t===_r.Num;return r?a?(0,W._)`"[" + ${e} + "]"`:(0,W._)`"['" + ${e} + "']"`:a?(0,W._)`"/" + ${e}`:(0,W._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,W.getProperty)(e).toString():"/"+gr(e)}I.getErrorPath=Zo;function Sa(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}I.checkStrictMode=Sa;var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});const ue=z,Yo={data:new ue.Name("data"),valCxt:new ue.Name("valCxt"),instancePath:new ue.Name("instancePath"),parentData:new ue.Name("parentData"),parentDataProperty:new ue.Name("parentDataProperty"),rootData:new ue.Name("rootData"),dynamicAnchors:new ue.Name("dynamicAnchors"),vErrors:new ue.Name("vErrors"),errors:new ue.Name("errors"),this:new ue.Name("this"),self:new ue.Name("self"),scope:new ue.Name("scope"),json:new ue.Name("json"),jsonPos:new ue.Name("jsonPos"),jsonLen:new ue.Name("jsonLen"),jsonPart:new ue.Name("jsonPart")};Oe.default=Yo,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=z,r=I,a=Oe;e.keywordError={message:({keyword:$})=>(0,t.str)`must pass "${$}" keyword validation`},e.keyword$DataError={message:({keyword:$,schemaType:h})=>h?(0,t.str)`"${$}" keyword must be ${h} ($data)`:(0,t.str)`"${$}" keyword is invalid ($data)`};function o($,h=e.keywordError,w,j){const{it:A}=$,{gen:D,compositeRule:J,allErrors:ae}=A,Ne=g($,h,w);j??(J||ae)?y(D,Ne):p(A,(0,t._)`[${Ne}]`)}e.reportError=o;function i($,h=e.keywordError,w){const{it:j}=$,{gen:A,compositeRule:D,allErrors:J}=j,ae=g($,h,w);y(A,ae),D||J||p(j,a.default.vErrors)}e.reportExtraError=i;function l($,h){$.assign(a.default.errors,h),$.if((0,t._)`${a.default.vErrors} !== null`,()=>$.if(h,()=>$.assign((0,t._)`${a.default.vErrors}.length`,h),()=>$.assign(a.default.vErrors,null)))}e.resetErrorsCount=l;function f({gen:$,keyword:h,schemaValue:w,data:j,errsCount:A,it:D}){if(A===void 0)throw new Error("ajv implementation error");const J=$.name("err");$.forRange("i",A,a.default.errors,ae=>{$.const(J,(0,t._)`${a.default.vErrors}[${ae}]`),$.if((0,t._)`${J}.instancePath === undefined`,()=>$.assign((0,t._)`${J}.instancePath`,(0,t.strConcat)(a.default.instancePath,D.errorPath))),$.assign((0,t._)`${J}.schemaPath`,(0,t.str)`${D.errSchemaPath}/${h}`),D.opts.verbose&&($.assign((0,t._)`${J}.schema`,w),$.assign((0,t._)`${J}.data`,j))})}e.extendErrors=f;function y($,h){const w=$.const("err",h);$.if((0,t._)`${a.default.vErrors} === null`,()=>$.assign(a.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${a.default.vErrors}.push(${w})`),$.code((0,t._)`${a.default.errors}++`)}function p($,h){const{gen:w,validateName:j,schemaEnv:A}=$;A.$async?w.throw((0,t._)`new ${$.ValidationError}(${h})`):(w.assign((0,t._)`${j}.errors`,h),w.return(!1))}const m={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function g($,h,w){const{createErrors:j}=$.it;return j===!1?(0,t._)`{}`:k($,h,w)}function k($,h,w={}){const{gen:j,it:A}=$,D=[C(A,w),b($,w)];return N($,h,D),j.object(...D)}function C({errorPath:$},{instancePath:h}){const w=h?(0,t.str)`${$}${(0,r.getErrorPath)(h,r.Type.Str)}`:$;return[a.default.instancePath,(0,t.strConcat)(a.default.instancePath,w)]}function b({keyword:$,it:{errSchemaPath:h}},{schemaPath:w,parentSchema:j}){let A=j?h:(0,t.str)`${h}/${$}`;return w&&(A=(0,t.str)`${A}${(0,r.getErrorPath)(w,r.Type.Str)}`),[m.schemaPath,A]}function N($,{params:h,message:w},j){const{keyword:A,data:D,schemaValue:J,it:ae}=$,{opts:Ne,propertyName:xe,topSchemaRef:Fe,schemaPath:Ue}=ae;j.push([m.keyword,A],[m.params,typeof h=="function"?h($):h||(0,t._)`{}`]),Ne.messages&&j.push([m.message,typeof w=="function"?w($):w]),Ne.verbose&&j.push([m.schema,J],[m.parentSchema,(0,t._)`${Fe}${Ue}`],[a.default.data,D]),xe&&j.push([m.propertyName,xe])}}(St),Object.defineProperty(nt,"__esModule",{value:!0}),nt.boolOrEmptySchema=nt.topBoolOrEmptySchema=void 0;const es=St,ts=z,rs=Oe,as={message:"boolean schema is false"};function os(e){const{gen:t,schema:r,validateName:a}=e;r===!1?Na(e,!1):typeof r=="object"&&r.$async===!0?t.return(rs.default.data):(t.assign((0,ts._)`${a}.errors`,null),t.return(!0))}nt.topBoolOrEmptySchema=os;function ss(e,t){const{gen:r,schema:a}=e;a===!1?(r.var(t,!1),Na(e)):r.var(t,!0)}nt.boolOrEmptySchema=ss;function Na(e,t){const{gen:r,data:a}=e,o={gen:r,keyword:"false schema",data:a,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,es.reportError)(o,as,void 0,t)}var ce={},Be={};Object.defineProperty(Be,"__esModule",{value:!0}),Be.getRules=Be.isJSONType=void 0;const ns=["string","number","integer","boolean","null","object","array"],is=new Set(ns);function cs(e){return typeof e=="string"&&is.has(e)}Be.isJSONType=cs;function ls(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Be.getRules=ls;var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.shouldUseRule=Me.shouldUseGroup=Me.schemaHasRulesForType=void 0;function ds({schema:e,self:t},r){const a=t.RULES.types[r];return a&&a!==!0&&ka(e,a)}Me.schemaHasRulesForType=ds;function ka(e,t){return t.rules.some(r=>Oa(e,r))}Me.shouldUseGroup=ka;function Oa(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(a=>e[a]!==void 0))}Me.shouldUseRule=Oa,Object.defineProperty(ce,"__esModule",{value:!0}),ce.reportTypeError=ce.checkDataTypes=ce.checkDataType=ce.coerceAndCheckDataType=ce.getJSONTypes=ce.getSchemaTypes=ce.DataType=void 0;const us=Be,fs=Me,hs=St,K=z,Ca=I;var it;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(it||(ce.DataType=it={}));function ps(e){const t=ja(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ce.getSchemaTypes=ps;function ja(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(us.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ce.getJSONTypes=ja;function ms(e,t){const{gen:r,data:a,opts:o}=e,i=ys(t,o.coerceTypes),l=t.length>0&&!(i.length===0&&t.length===1&&(0,fs.schemaHasRulesForType)(e,t[0]));if(l){const f=br(t,a,o.strictNumbers,it.Wrong);r.if(f,()=>{i.length?vs(e,t,i):Er(e)})}return l}ce.coerceAndCheckDataType=ms;const xa=new Set(["string","number","integer","boolean","null"]);function ys(e,t){return t?e.filter(r=>xa.has(r)||t==="array"&&r==="array"):[]}function vs(e,t,r){const{gen:a,data:o,opts:i}=e,l=a.let("dataType",(0,K._)`typeof ${o}`),f=a.let("coerced",(0,K._)`undefined`);i.coerceTypes==="array"&&a.if((0,K._)`${l} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>a.assign(o,(0,K._)`${o}[0]`).assign(l,(0,K._)`typeof ${o}`).if(br(t,o,i.strictNumbers),()=>a.assign(f,o))),a.if((0,K._)`${f} !== undefined`);for(const p of r)(xa.has(p)||p==="array"&&i.coerceTypes==="array")&&y(p);a.else(),Er(e),a.endIf(),a.if((0,K._)`${f} !== undefined`,()=>{a.assign(o,f),gs(e,f)});function y(p){switch(p){case"string":a.elseIf((0,K._)`${l} == "number" || ${l} == "boolean"`).assign(f,(0,K._)`"" + ${o}`).elseIf((0,K._)`${o} === null`).assign(f,(0,K._)`""`);return;case"number":a.elseIf((0,K._)`${l} == "boolean" || ${o} === null
              || (${l} == "string" && ${o} && ${o} == +${o})`).assign(f,(0,K._)`+${o}`);return;case"integer":a.elseIf((0,K._)`${l} === "boolean" || ${o} === null
              || (${l} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(f,(0,K._)`+${o}`);return;case"boolean":a.elseIf((0,K._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(f,!1).elseIf((0,K._)`${o} === "true" || ${o} === 1`).assign(f,!0);return;case"null":a.elseIf((0,K._)`${o} === "" || ${o} === 0 || ${o} === false`),a.assign(f,null);return;case"array":a.elseIf((0,K._)`${l} === "string" || ${l} === "number"
              || ${l} === "boolean" || ${o} === null`).assign(f,(0,K._)`[${o}]`)}}}function gs({gen:e,parentData:t,parentDataProperty:r},a){e.if((0,K._)`${t} !== undefined`,()=>e.assign((0,K._)`${t}[${r}]`,a))}function wr(e,t,r,a=it.Correct){const o=a===it.Correct?K.operators.EQ:K.operators.NEQ;let i;switch(e){case"null":return(0,K._)`${t} ${o} null`;case"array":i=(0,K._)`Array.isArray(${t})`;break;case"object":i=(0,K._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=l((0,K._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=l();break;default:return(0,K._)`typeof ${t} ${o} ${e}`}return a===it.Correct?i:(0,K.not)(i);function l(f=K.nil){return(0,K.and)((0,K._)`typeof ${t} == "number"`,f,r?(0,K._)`isFinite(${t})`:K.nil)}}ce.checkDataType=wr;function br(e,t,r,a){if(e.length===1)return wr(e[0],t,r,a);let o;const i=(0,Ca.toHash)(e);if(i.array&&i.object){const l=(0,K._)`typeof ${t} != "object"`;o=i.null?l:(0,K._)`!${t} || ${l}`,delete i.null,delete i.array,delete i.object}else o=K.nil;i.number&&delete i.integer;for(const l in i)o=(0,K.and)(o,wr(l,t,r,a));return o}ce.checkDataTypes=br;const $s={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,K._)`{type: ${e}}`:(0,K._)`{type: ${t}}`};function Er(e){const t=_s(e);(0,hs.reportError)(t,$s)}ce.reportTypeError=Er;function _s(e){const{gen:t,data:r,schema:a}=e,o=(0,Ca.schemaRefOrVal)(e,a,"type");return{gen:t,keyword:"type",data:r,schema:a.type,schemaCode:o,schemaValue:o,parentSchema:a,params:{},it:e}}var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.assignDefaults=void 0;const ct=z,ws=I;function bs(e,t){const{properties:r,items:a}=e.schema;if(t==="object"&&r)for(const o in r)Ia(e,o,r[o].default);else t==="array"&&Array.isArray(a)&&a.forEach((o,i)=>Ia(e,i,o.default))}Gt.assignDefaults=bs;function Ia(e,t,r){const{gen:a,compositeRule:o,data:i,opts:l}=e;if(r===void 0)return;const f=(0,ct._)`${i}${(0,ct.getProperty)(t)}`;if(o){(0,ws.checkStrictMode)(e,`default is ignored for: ${f}`);return}let y=(0,ct._)`${f} === undefined`;l.useDefaults==="empty"&&(y=(0,ct._)`${y} || ${f} === null || ${f} === ""`),a.if(y,(0,ct._)`${f} = ${(0,ct.stringify)(r)}`)}var Ce={},L={};Object.defineProperty(L,"__esModule",{value:!0}),L.validateUnion=L.validateArray=L.usePattern=L.callValidateCode=L.schemaProperties=L.allSchemaProperties=L.noPropertyInData=L.propertyInData=L.isOwnProperty=L.hasPropFunc=L.reportMissingProp=L.checkMissingProp=L.checkReportMissingProp=void 0;const Y=z,Pr=I,ze=Oe,Es=I;function Ps(e,t){const{gen:r,data:a,it:o}=e;r.if(Nr(r,a,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Y._)`${t}`},!0),e.error()})}L.checkReportMissingProp=Ps;function Ss({gen:e,data:t,it:{opts:r}},a,o){return(0,Y.or)(...a.map(i=>(0,Y.and)(Nr(e,t,i,r.ownProperties),(0,Y._)`${o} = ${i}`)))}L.checkMissingProp=Ss;function Ns(e,t){e.setParams({missingProperty:t},!0),e.error()}L.reportMissingProp=Ns;function Ra(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Y._)`Object.prototype.hasOwnProperty`})}L.hasPropFunc=Ra;function Sr(e,t,r){return(0,Y._)`${Ra(e)}.call(${t}, ${r})`}L.isOwnProperty=Sr;function ks(e,t,r,a){const o=(0,Y._)`${t}${(0,Y.getProperty)(r)} !== undefined`;return a?(0,Y._)`${o} && ${Sr(e,t,r)}`:o}L.propertyInData=ks;function Nr(e,t,r,a){const o=(0,Y._)`${t}${(0,Y.getProperty)(r)} === undefined`;return a?(0,Y.or)(o,(0,Y.not)(Sr(e,t,r))):o}L.noPropertyInData=Nr;function Ta(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}L.allSchemaProperties=Ta;function Os(e,t){return Ta(t).filter(r=>!(0,Pr.alwaysValidSchema)(e,t[r]))}L.schemaProperties=Os;function Cs({schemaCode:e,data:t,it:{gen:r,topSchemaRef:a,schemaPath:o,errorPath:i},it:l},f,y,p){const m=p?(0,Y._)`${e}, ${t}, ${a}${o}`:t,g=[[ze.default.instancePath,(0,Y.strConcat)(ze.default.instancePath,i)],[ze.default.parentData,l.parentData],[ze.default.parentDataProperty,l.parentDataProperty],[ze.default.rootData,ze.default.rootData]];l.opts.dynamicRef&&g.push([ze.default.dynamicAnchors,ze.default.dynamicAnchors]);const k=(0,Y._)`${m}, ${r.object(...g)}`;return y!==Y.nil?(0,Y._)`${f}.call(${y}, ${k})`:(0,Y._)`${f}(${k})`}L.callValidateCode=Cs;const js=(0,Y._)`new RegExp`;function xs({gen:e,it:{opts:t}},r){const a=t.unicodeRegExp?"u":"",{regExp:o}=t.code,i=o(r,a);return e.scopeValue("pattern",{key:i.toString(),ref:i,code:(0,Y._)`${o.code==="new RegExp"?js:(0,Es.useFunc)(e,o)}(${r}, ${a})`})}L.usePattern=xs;function Is(e){const{gen:t,data:r,keyword:a,it:o}=e,i=t.name("valid");if(o.allErrors){const f=t.let("valid",!0);return l(()=>t.assign(f,!1)),f}return t.var(i,!0),l(()=>t.break()),i;function l(f){const y=t.const("len",(0,Y._)`${r}.length`);t.forRange("i",0,y,p=>{e.subschema({keyword:a,dataProp:p,dataPropType:Pr.Type.Num},i),t.if((0,Y.not)(i),f)})}}L.validateArray=Is;function Rs(e){const{gen:t,schema:r,keyword:a,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(f=>(0,Pr.alwaysValidSchema)(o,f))&&!o.opts.unevaluated)return;const i=t.let("valid",!1),l=t.name("_valid");t.block(()=>r.forEach((f,y)=>{const p=e.subschema({keyword:a,schemaProp:y,compositeRule:!0},l);t.assign(i,(0,Y._)`${i} || ${l}`),e.mergeValidEvaluated(p,l)||t.if((0,Y.not)(i))})),e.result(i,()=>e.reset(),()=>e.error(!0))}L.validateUnion=Rs,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.validateKeywordUsage=Ce.validSchemaType=Ce.funcKeywordCode=Ce.macroKeywordCode=void 0;const he=z,Qe=Oe,Ts=L,As=St;function Ds(e,t){const{gen:r,keyword:a,schema:o,parentSchema:i,it:l}=e,f=t.macro.call(l.self,o,i,l),y=Da(r,a,f);l.opts.validateSchema!==!1&&l.self.validateSchema(f,!0);const p=r.name("valid");e.subschema({schema:f,schemaPath:he.nil,errSchemaPath:`${l.errSchemaPath}/${a}`,topSchemaRef:y,compositeRule:!0},p),e.pass(p,()=>e.error(!0))}Ce.macroKeywordCode=Ds;function Ms(e,t){var r;const{gen:a,keyword:o,schema:i,parentSchema:l,$data:f,it:y}=e;Fs(y,t);const p=!f&&t.compile?t.compile.call(y.self,i,l,y):t.validate,m=Da(a,o,p),g=a.let("valid");e.block$data(g,k),e.ok((r=t.valid)!==null&&r!==void 0?r:g);function k(){if(t.errors===!1)N(),t.modifying&&Aa(e),$(()=>e.error());else{const h=t.async?C():b();t.modifying&&Aa(e),$(()=>Vs(e,h))}}function C(){const h=a.let("ruleErrs",null);return a.try(()=>N((0,he._)`await `),w=>a.assign(g,!1).if((0,he._)`${w} instanceof ${y.ValidationError}`,()=>a.assign(h,(0,he._)`${w}.errors`),()=>a.throw(w))),h}function b(){const h=(0,he._)`${m}.errors`;return a.assign(h,null),N(he.nil),h}function N(h=t.async?(0,he._)`await `:he.nil){const w=y.opts.passContext?Qe.default.this:Qe.default.self,j=!("compile"in t&&!f||t.schema===!1);a.assign(g,(0,he._)`${h}${(0,Ts.callValidateCode)(e,m,w,j)}`,t.modifying)}function $(h){var w;a.if((0,he.not)((w=t.valid)!==null&&w!==void 0?w:g),h)}}Ce.funcKeywordCode=Ms;function Aa(e){const{gen:t,data:r,it:a}=e;t.if(a.parentData,()=>t.assign(r,(0,he._)`${a.parentData}[${a.parentDataProperty}]`))}function Vs(e,t){const{gen:r}=e;r.if((0,he._)`Array.isArray(${t})`,()=>{r.assign(Qe.default.vErrors,(0,he._)`${Qe.default.vErrors} === null ? ${t} : ${Qe.default.vErrors}.concat(${t})`).assign(Qe.default.errors,(0,he._)`${Qe.default.vErrors}.length`),(0,As.extendErrors)(e)},()=>e.error())}function Fs({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Da(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,he.stringify)(r)})}function Us(e,t,r=!1){return!t.length||t.some(a=>a==="array"?Array.isArray(e):a==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==a||r&&typeof e>"u")}Ce.validSchemaType=Us;function qs({schema:e,opts:t,self:r,errSchemaPath:a},o,i){if(Array.isArray(o.keyword)?!o.keyword.includes(i):o.keyword!==i)throw new Error("ajv implementation error");const l=o.dependencies;if(l!=null&&l.some(f=>!Object.prototype.hasOwnProperty.call(e,f)))throw new Error(`parent schema must have dependencies of ${i}: ${l.join(",")}`);if(o.validateSchema&&!o.validateSchema(e[i])){const f=`keyword "${i}" value is invalid at path "${a}": `+r.errorsText(o.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(f);else throw new Error(f)}}Ce.validateKeywordUsage=qs;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.extendSubschemaMode=Le.extendSubschemaData=Le.getSubschema=void 0;const je=z,Ma=I;function Ks(e,{keyword:t,schemaProp:r,schema:a,schemaPath:o,errSchemaPath:i,topSchemaRef:l}){if(t!==void 0&&a!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const f=e.schema[t];return r===void 0?{schema:f,schemaPath:(0,je._)`${e.schemaPath}${(0,je.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:f[r],schemaPath:(0,je._)`${e.schemaPath}${(0,je.getProperty)(t)}${(0,je.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ma.escapeFragment)(r)}`}}if(a!==void 0){if(o===void 0||i===void 0||l===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:a,schemaPath:o,topSchemaRef:l,errSchemaPath:i}}throw new Error('either "keyword" or "schema" must be passed')}Le.getSubschema=Ks;function zs(e,t,{dataProp:r,dataPropType:a,data:o,dataTypes:i,propertyName:l}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=t;if(r!==void 0){const{errorPath:p,dataPathArr:m,opts:g}=t,k=f.let("data",(0,je._)`${t.data}${(0,je.getProperty)(r)}`,!0);y(k),e.errorPath=(0,je.str)`${p}${(0,Ma.getErrorPath)(r,a,g.jsPropertySyntax)}`,e.parentDataProperty=(0,je._)`${r}`,e.dataPathArr=[...m,e.parentDataProperty]}if(o!==void 0){const p=o instanceof je.Name?o:f.let("data",o,!0);y(p),l!==void 0&&(e.propertyName=l)}i&&(e.dataTypes=i);function y(p){e.data=p,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,p]}}Le.extendSubschemaData=zs;function Ls(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:a,createErrors:o,allErrors:i}){a!==void 0&&(e.compositeRule=a),o!==void 0&&(e.createErrors=o),i!==void 0&&(e.allErrors=i),e.jtdDiscriminator=t,e.jtdMetadata=r}Le.extendSubschemaMode=Ls;var le={},Va=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var a,o,i;if(Array.isArray(t)){if(a=t.length,a!=r.length)return!1;for(o=a;o--!==0;)if(!e(t[o],r[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),a=i.length,a!==Object.keys(r).length)return!1;for(o=a;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=a;o--!==0;){var l=i[o];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},Fa={exports:{}},He=Fa.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var a=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};Bt(t,a,o,e,"",e)};He.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},He.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},He.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},He.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Bt(e,t,r,a,o,i,l,f,y,p){if(a&&typeof a=="object"&&!Array.isArray(a)){t(a,o,i,l,f,y,p);for(var m in a){var g=a[m];if(Array.isArray(g)){if(m in He.arrayKeywords)for(var k=0;k<g.length;k++)Bt(e,t,r,g[k],o+"/"+m+"/"+k,i,o,m,a,k)}else if(m in He.propsKeywords){if(g&&typeof g=="object")for(var C in g)Bt(e,t,r,g[C],o+"/"+m+"/"+Hs(C),i,o,m,a,C)}else(m in He.keywords||e.allKeys&&!(m in He.skipKeywords))&&Bt(e,t,r,g,o+"/"+m,i,o,m,a)}r(a,o,i,l,f,y,p)}}function Hs(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Gs=Fa.exports;Object.defineProperty(le,"__esModule",{value:!0}),le.getSchemaRefs=le.resolveUrl=le.normalizeId=le._getFullPath=le.getFullPath=le.inlineRef=void 0;const Bs=I,Qs=Va,Js=Gs,Ws=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Xs(e,t=!0){return typeof e=="boolean"?!0:t===!0?!kr(e):t?Ua(e)<=t:!1}le.inlineRef=Xs;const Zs=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function kr(e){for(const t in e){if(Zs.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(kr)||typeof r=="object"&&kr(r))return!0}return!1}function Ua(e){let t=0;for(const r in e)if(r==="$ref"||(t++,!Ws.has(r)&&(typeof e[r]=="object"&&(0,Bs.eachItem)(e[r],a=>t+=Ua(a)),t===1/0)))return 1/0;return t}function qa(e,t="",r){r!==!1&&(t=lt(t));const a=e.parse(t);return Ka(e,a)}le.getFullPath=qa;function Ka(e,t){return e.serialize(t).split("#")[0]+"#"}le._getFullPath=Ka;const Ys=/#\/?$/;function lt(e){return e?e.replace(Ys,""):""}le.normalizeId=lt;function en(e,t,r){return r=lt(r),e.resolve(t,r)}le.resolveUrl=en;const tn=/^[a-z_][-a-z0-9._]*$/i;function rn(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:a}=this.opts,o=lt(e[r]||t),i={"":o},l=qa(a,o,!1),f={},y=new Set;return Js(e,{allKeys:!0},(g,k,C,b)=>{if(b===void 0)return;const N=l+k;let $=i[b];typeof g[r]=="string"&&($=h.call(this,g[r])),w.call(this,g.$anchor),w.call(this,g.$dynamicAnchor),i[k]=$;function h(j){const A=this.opts.uriResolver.resolve;if(j=lt($?A($,j):j),y.has(j))throw m(j);y.add(j);let D=this.refs[j];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?p(g,D.schema,j):j!==lt(N)&&(j[0]==="#"?(p(g,f[j],j),f[j]=g):this.refs[j]=N),j}function w(j){if(typeof j=="string"){if(!tn.test(j))throw new Error(`invalid anchor "${j}"`);h.call(this,`#${j}`)}}}),f;function p(g,k,C){if(k!==void 0&&!Qs(g,k))throw m(C)}function m(g){return new Error(`reference "${g}" resolves to more than one schema`)}}le.getSchemaRefs=rn,Object.defineProperty(be,"__esModule",{value:!0}),be.getData=be.KeywordCxt=be.validateFunctionCode=void 0;const za=nt,La=ce,Or=Me,Qt=ce,an=Gt,kt=Ce,Cr=Le,M=z,U=Oe,on=le,Ve=I,Ot=St;function sn(e){if(Qa(e)&&(Ja(e),Ba(e))){ln(e);return}Ha(e,()=>(0,za.topBoolOrEmptySchema)(e))}be.validateFunctionCode=sn;function Ha({gen:e,validateName:t,schema:r,schemaEnv:a,opts:o},i){o.code.es5?e.func(t,(0,M._)`${U.default.data}, ${U.default.valCxt}`,a.$async,()=>{e.code((0,M._)`"use strict"; ${Ga(r,o)}`),cn(e,o),e.code(i)}):e.func(t,(0,M._)`${U.default.data}, ${nn(o)}`,a.$async,()=>e.code(Ga(r,o)).code(i))}function nn(e){return(0,M._)`{${U.default.instancePath}="", ${U.default.parentData}, ${U.default.parentDataProperty}, ${U.default.rootData}=${U.default.data}${e.dynamicRef?(0,M._)`, ${U.default.dynamicAnchors}={}`:M.nil}}={}`}function cn(e,t){e.if(U.default.valCxt,()=>{e.var(U.default.instancePath,(0,M._)`${U.default.valCxt}.${U.default.instancePath}`),e.var(U.default.parentData,(0,M._)`${U.default.valCxt}.${U.default.parentData}`),e.var(U.default.parentDataProperty,(0,M._)`${U.default.valCxt}.${U.default.parentDataProperty}`),e.var(U.default.rootData,(0,M._)`${U.default.valCxt}.${U.default.rootData}`),t.dynamicRef&&e.var(U.default.dynamicAnchors,(0,M._)`${U.default.valCxt}.${U.default.dynamicAnchors}`)},()=>{e.var(U.default.instancePath,(0,M._)`""`),e.var(U.default.parentData,(0,M._)`undefined`),e.var(U.default.parentDataProperty,(0,M._)`undefined`),e.var(U.default.rootData,U.default.data),t.dynamicRef&&e.var(U.default.dynamicAnchors,(0,M._)`{}`)})}function ln(e){const{schema:t,opts:r,gen:a}=e;Ha(e,()=>{r.$comment&&t.$comment&&Xa(e),pn(e),a.let(U.default.vErrors,null),a.let(U.default.errors,0),r.unevaluated&&dn(e),Wa(e),vn(e)})}function dn(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,M._)`${r}.evaluated`),t.if((0,M._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,M._)`${e.evaluated}.props`,(0,M._)`undefined`)),t.if((0,M._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,M._)`${e.evaluated}.items`,(0,M._)`undefined`))}function Ga(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,M._)`/*# sourceURL=${r} */`:M.nil}function un(e,t){if(Qa(e)&&(Ja(e),Ba(e))){fn(e,t);return}(0,za.boolOrEmptySchema)(e,t)}function Ba({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Qa(e){return typeof e.schema!="boolean"}function fn(e,t){const{schema:r,gen:a,opts:o}=e;o.$comment&&r.$comment&&Xa(e),mn(e),yn(e);const i=a.const("_errs",U.default.errors);Wa(e,i),a.var(t,(0,M._)`${i} === ${U.default.errors}`)}function Ja(e){(0,Ve.checkUnknownRules)(e),hn(e)}function Wa(e,t){if(e.opts.jtd)return Za(e,[],!1,t);const r=(0,La.getSchemaTypes)(e.schema),a=(0,La.coerceAndCheckDataType)(e,r);Za(e,r,!a,t)}function hn(e){const{schema:t,errSchemaPath:r,opts:a,self:o}=e;t.$ref&&a.ignoreKeywordsWithRef&&(0,Ve.schemaHasRulesButRef)(t,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function pn(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Ve.checkStrictMode)(e,"default is ignored in the schema root")}function mn(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,on.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function yn(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function Xa({gen:e,schemaEnv:t,schema:r,errSchemaPath:a,opts:o}){const i=r.$comment;if(o.$comment===!0)e.code((0,M._)`${U.default.self}.logger.log(${i})`);else if(typeof o.$comment=="function"){const l=(0,M.str)`${a}/$comment`,f=e.scopeValue("root",{ref:t.root});e.code((0,M._)`${U.default.self}.opts.$comment(${i}, ${l}, ${f}.schema)`)}}function vn(e){const{gen:t,schemaEnv:r,validateName:a,ValidationError:o,opts:i}=e;r.$async?t.if((0,M._)`${U.default.errors} === 0`,()=>t.return(U.default.data),()=>t.throw((0,M._)`new ${o}(${U.default.vErrors})`)):(t.assign((0,M._)`${a}.errors`,U.default.vErrors),i.unevaluated&&gn(e),t.return((0,M._)`${U.default.errors} === 0`))}function gn({gen:e,evaluated:t,props:r,items:a}){r instanceof M.Name&&e.assign((0,M._)`${t}.props`,r),a instanceof M.Name&&e.assign((0,M._)`${t}.items`,a)}function Za(e,t,r,a){const{gen:o,schema:i,data:l,allErrors:f,opts:y,self:p}=e,{RULES:m}=p;if(i.$ref&&(y.ignoreKeywordsWithRef||!(0,Ve.schemaHasRulesButRef)(i,m))){o.block(()=>ro(e,"$ref",m.all.$ref.definition));return}y.jtd||$n(e,t),o.block(()=>{for(const k of m.rules)g(k);g(m.post)});function g(k){(0,Or.shouldUseGroup)(i,k)&&(k.type?(o.if((0,Qt.checkDataType)(k.type,l,y.strictNumbers)),Ya(e,k),t.length===1&&t[0]===k.type&&r&&(o.else(),(0,Qt.reportTypeError)(e)),o.endIf()):Ya(e,k),f||o.if((0,M._)`${U.default.errors} === ${a||0}`))}}function Ya(e,t){const{gen:r,schema:a,opts:{useDefaults:o}}=e;o&&(0,an.assignDefaults)(e,t.type),r.block(()=>{for(const i of t.rules)(0,Or.shouldUseRule)(a,i)&&ro(e,i.keyword,i.definition,t.type)})}function $n(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(_n(e,t),e.opts.allowUnionTypes||wn(e,t),bn(e,e.dataTypes))}function _n(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{eo(e.dataTypes,r)||jr(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Pn(e,t)}}function wn(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&jr(e,"use allowUnionTypes to allow union type keyword")}function bn(e,t){const r=e.self.RULES.all;for(const a in r){const o=r[a];if(typeof o=="object"&&(0,Or.shouldUseRule)(e.schema,o)){const{type:i}=o.definition;i.length&&!i.some(l=>En(t,l))&&jr(e,`missing type "${i.join(",")}" for keyword "${a}"`)}}}function En(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function eo(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Pn(e,t){const r=[];for(const a of e.dataTypes)eo(t,a)?r.push(a):t.includes("integer")&&a==="number"&&r.push("integer");e.dataTypes=r}function jr(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,Ve.checkStrictMode)(e,t,e.opts.strictTypes)}class to{constructor(t,r,a){if((0,kt.validateKeywordUsage)(t,r,a),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=a,this.data=t.data,this.schema=t.schema[a],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Ve.schemaRefOrVal)(t,this.schema,a,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",ao(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,kt.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${a} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",U.default.errors))}result(t,r,a){this.failResult((0,M.not)(t),r,a)}failResult(t,r,a){this.gen.if(t),a?a():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,M.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,M._)`${r} !== undefined && (${(0,M.or)(this.invalid$data(),t)})`)}error(t,r,a){if(r){this.setParams(r),this._error(t,a),this.setParams({});return}this._error(t,a)}_error(t,r){(t?Ot.reportExtraError:Ot.reportError)(this,this.def.error,r)}$dataError(){(0,Ot.reportError)(this,this.def.$dataError||Ot.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ot.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,a=M.nil){this.gen.block(()=>{this.check$data(t,a),r()})}check$data(t=M.nil,r=M.nil){if(!this.$data)return;const{gen:a,schemaCode:o,schemaType:i,def:l}=this;a.if((0,M.or)((0,M._)`${o} === undefined`,r)),t!==M.nil&&a.assign(t,!0),(i.length||l.validateSchema)&&(a.elseIf(this.invalid$data()),this.$dataError(),t!==M.nil&&a.assign(t,!1)),a.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:a,def:o,it:i}=this;return(0,M.or)(l(),f());function l(){if(a.length){if(!(r instanceof M.Name))throw new Error("ajv implementation error");const y=Array.isArray(a)?a:[a];return(0,M._)`${(0,Qt.checkDataTypes)(y,r,i.opts.strictNumbers,Qt.DataType.Wrong)}`}return M.nil}function f(){if(o.validateSchema){const y=t.scopeValue("validate$data",{ref:o.validateSchema});return(0,M._)`!${y}(${r})`}return M.nil}}subschema(t,r){const a=(0,Cr.getSubschema)(this.it,t);(0,Cr.extendSubschemaData)(a,this.it,t),(0,Cr.extendSubschemaMode)(a,t);const o={...this.it,...a,items:void 0,props:void 0};return un(o,r),o}mergeEvaluated(t,r){const{it:a,gen:o}=this;a.opts.unevaluated&&(a.props!==!0&&t.props!==void 0&&(a.props=Ve.mergeEvaluated.props(o,t.props,a.props,r)),a.items!==!0&&t.items!==void 0&&(a.items=Ve.mergeEvaluated.items(o,t.items,a.items,r)))}mergeValidEvaluated(t,r){const{it:a,gen:o}=this;if(a.opts.unevaluated&&(a.props!==!0||a.items!==!0))return o.if(r,()=>this.mergeEvaluated(t,M.Name)),!0}}be.KeywordCxt=to;function ro(e,t,r,a){const o=new to(e,r,t);"code"in r?r.code(o,a):o.$data&&r.validate?(0,kt.funcKeywordCode)(o,r):"macro"in r?(0,kt.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,kt.funcKeywordCode)(o,r)}const Sn=/^\/(?:[^~]|~0|~1)*$/,Nn=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ao(e,{dataLevel:t,dataNames:r,dataPathArr:a}){let o,i;if(e==="")return U.default.rootData;if(e[0]==="/"){if(!Sn.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);o=e,i=U.default.rootData}else{const p=Nn.exec(e);if(!p)throw new Error(`Invalid JSON-pointer: ${e}`);const m=+p[1];if(o=p[2],o==="#"){if(m>=t)throw new Error(y("property/index",m));return a[t-m]}if(m>t)throw new Error(y("data",m));if(i=r[t-m],!o)return i}let l=i;const f=o.split("/");for(const p of f)p&&(i=(0,M._)`${i}${(0,M.getProperty)((0,Ve.unescapeJsonPointer)(p))}`,l=(0,M._)`${l} && ${i}`);return l;function y(p,m){return`Cannot access ${p} ${m} levels up, current level is ${t}`}}be.getData=ao;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});class kn extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Ct.default=kn;var dt={};Object.defineProperty(dt,"__esModule",{value:!0});const xr=le;class On extends Error{constructor(t,r,a,o){super(o||`can't resolve reference ${a} from id ${r}`),this.missingRef=(0,xr.resolveUrl)(t,r,a),this.missingSchema=(0,xr.normalizeId)((0,xr.getFullPath)(t,this.missingRef))}}dt.default=On;var pe={};Object.defineProperty(pe,"__esModule",{value:!0}),pe.resolveSchema=pe.getCompilingSchema=pe.resolveRef=pe.compileSchema=pe.SchemaEnv=void 0;const Ee=z,Cn=Ct,Je=Oe,Pe=le,oo=I,jn=be;class Jt{constructor(t){var r;this.refs={},this.dynamicAnchors={};let a;typeof t.schema=="object"&&(a=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,Pe.normalizeId)(a==null?void 0:a[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=a==null?void 0:a.$async,this.refs={}}}pe.SchemaEnv=Jt;function Ir(e){const t=so.call(this,e);if(t)return t;const r=(0,Pe.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:a,lines:o}=this.opts.code,{ownProperties:i}=this.opts,l=new Ee.CodeGen(this.scope,{es5:a,lines:o,ownProperties:i});let f;e.$async&&(f=l.scopeValue("Error",{ref:Cn.default,code:(0,Ee._)`require("ajv/dist/runtime/validation_error").default`}));const y=l.scopeName("validate");e.validateName=y;const p={gen:l,allErrors:this.opts.allErrors,data:Je.default.data,parentData:Je.default.parentData,parentDataProperty:Je.default.parentDataProperty,dataNames:[Je.default.data],dataPathArr:[Ee.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Ee.stringify)(e.schema)}:{ref:e.schema}),validateName:y,ValidationError:f,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Ee.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Ee._)`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e),(0,jn.validateFunctionCode)(p),l.optimize(this.opts.code.optimize);const g=l.toString();m=`${l.scopeRefs(Je.default.scope)}return ${g}`,this.opts.code.process&&(m=this.opts.code.process(m,e));const k=new Function(`${Je.default.self}`,`${Je.default.scope}`,m)(this,this.scope.get());if(this.scope.value(y,{ref:k}),k.errors=null,k.schema=e.schema,k.schemaEnv=e,e.$async&&(k.$async=!0),this.opts.code.source===!0&&(k.source={validateName:y,validateCode:g,scopeValues:l._values}),this.opts.unevaluated){const{props:C,items:b}=p;k.evaluated={props:C instanceof Ee.Name?void 0:C,items:b instanceof Ee.Name?void 0:b,dynamicProps:C instanceof Ee.Name,dynamicItems:b instanceof Ee.Name},k.source&&(k.source.evaluated=(0,Ee.stringify)(k.evaluated))}return e.validate=k,e}catch(g){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),g}finally{this._compilations.delete(e)}}pe.compileSchema=Ir;function xn(e,t,r){var a;r=(0,Pe.resolveUrl)(this.opts.uriResolver,t,r);const o=e.refs[r];if(o)return o;let i=Tn.call(this,e,r);if(i===void 0){const l=(a=e.localRefs)===null||a===void 0?void 0:a[r],{schemaId:f}=this.opts;l&&(i=new Jt({schema:l,schemaId:f,root:e,baseId:t}))}if(i!==void 0)return e.refs[r]=In.call(this,i)}pe.resolveRef=xn;function In(e){return(0,Pe.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ir.call(this,e)}function so(e){for(const t of this._compilations)if(Rn(t,e))return t}pe.getCompilingSchema=so;function Rn(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Tn(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Wt.call(this,e,t)}function Wt(e,t){const r=this.opts.uriResolver.parse(t),a=(0,Pe._getFullPath)(this.opts.uriResolver,r);let o=(0,Pe.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&a===o)return Rr.call(this,r,e);const i=(0,Pe.normalizeId)(a),l=this.refs[i]||this.schemas[i];if(typeof l=="string"){const f=Wt.call(this,e,l);return typeof(f==null?void 0:f.schema)!="object"?void 0:Rr.call(this,r,f)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||Ir.call(this,l),i===(0,Pe.normalizeId)(t)){const{schema:f}=l,{schemaId:y}=this.opts,p=f[y];return p&&(o=(0,Pe.resolveUrl)(this.opts.uriResolver,o,p)),new Jt({schema:f,schemaId:y,root:e,baseId:o})}return Rr.call(this,r,l)}}pe.resolveSchema=Wt;const An=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Rr(e,{baseId:t,schema:r,root:a}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(const f of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const y=r[(0,oo.unescapeFragment)(f)];if(y===void 0)return;r=y;const p=typeof r=="object"&&r[this.opts.schemaId];!An.has(f)&&p&&(t=(0,Pe.resolveUrl)(this.opts.uriResolver,t,p))}let i;if(typeof r!="boolean"&&r.$ref&&!(0,oo.schemaHasRulesButRef)(r,this.RULES)){const f=(0,Pe.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=Wt.call(this,a,f)}const{schemaId:l}=this.opts;if(i=i||new Jt({schema:r,schemaId:l,root:a,baseId:t}),i.schema!==i.root.schema)return i}const Dn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Mn="Meta-schema for $data reference (JSON AnySchema extension proposal)",Vn="object",Fn=["$data"],Un={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},qn=!1,Kn={$id:Dn,description:Mn,type:Vn,required:Fn,properties:Un,additionalProperties:qn};var Tr={},Ar={exports:{}};(function(e,t){(function(r,a){a(t)})(fl,function(r){function a(){for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];if(c.length>1){c[0]=c[0].slice(0,-1);for(var E=c.length-1,S=1;S<E;++S)c[S]=c[S].slice(1,-1);return c[E]=c[E].slice(1),c.join("")}else return c[0]}function o(s){return"(?:"+s+")"}function i(s){return s===void 0?"undefined":s===null?"null":Object.prototype.toString.call(s).split(" ").pop().split("]").shift().toLowerCase()}function l(s){return s.toUpperCase()}function f(s){return s!=null?s instanceof Array?s:typeof s.length!="number"||s.split||s.setInterval||s.call?[s]:Array.prototype.slice.call(s):[]}function y(s,c){var d=s;if(c)for(var E in c)d[E]=c[E];return d}function p(s){var c="[A-Za-z]",d="[0-9]",E=a(d,"[A-Fa-f]"),S=o(o("%[EFef]"+E+"%"+E+E+"%"+E+E)+"|"+o("%[89A-Fa-f]"+E+"%"+E+E)+"|"+o("%"+E+E)),F="[\\:\\/\\?\\#\\[\\]\\@]",V="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Q=a(F,V),ne=s?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",X=s?"[\\uE000-\\uF8FF]":"[]",B=a(c,d,"[\\-\\.\\_\\~]",ne);o(c+a(c,d,"[\\+\\-\\.]")+"*"),o(o(S+"|"+a(B,V,"[\\:]"))+"*");var ee=o(o("25[0-5]")+"|"+o("2[0-4]"+d)+"|"+o("1"+d+d)+"|"+o("0?[1-9]"+d)+"|0?0?"+d),oe=o(ee+"\\."+ee+"\\."+ee+"\\."+ee),q=o(E+"{1,4}"),ie=o(o(q+"\\:"+q)+"|"+oe),Z=o(o(q+"\\:")+"{6}"+ie),_e=o("\\:\\:"+o(q+"\\:")+"{5}"+ie),Pt=o(o(q)+"?\\:\\:"+o(q+"\\:")+"{4}"+ie),ke=o(o(o(q+"\\:")+"{0,1}"+q)+"?\\:\\:"+o(q+"\\:")+"{3}"+ie),qe=o(o(o(q+"\\:")+"{0,2}"+q)+"?\\:\\:"+o(q+"\\:")+"{2}"+ie),at=o(o(o(q+"\\:")+"{0,3}"+q)+"?\\:\\:"+q+"\\:"+ie),ot=o(o(o(q+"\\:")+"{0,4}"+q)+"?\\:\\:"+ie),we=o(o(o(q+"\\:")+"{0,5}"+q)+"?\\:\\:"+q),Ke=o(o(o(q+"\\:")+"{0,6}"+q)+"?\\:\\:"),st=o([Z,_e,Pt,ke,qe,at,ot,we,Ke].join("|")),De=o(o(B+"|"+S)+"+");o("[vV]"+E+"+\\."+a(B,V,"[\\:]")+"+"),o(o(S+"|"+a(B,V))+"*");var fr=o(S+"|"+a(B,V,"[\\:\\@]"));return o(o(S+"|"+a(B,V,"[\\@]"))+"+"),o(o(fr+"|"+a("[\\/\\?]",X))+"*"),{NOT_SCHEME:new RegExp(a("[^]",c,d,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",B,V),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",B,V),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",B,V),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",B,V),"g"),NOT_QUERY:new RegExp(a("[^\\%]",B,V,"[\\:\\@\\/\\?]",X),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",B,V,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",B,V),"g"),UNRESERVED:new RegExp(B,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",B,Q),"g"),PCT_ENCODED:new RegExp(S,"g"),IPV4ADDRESS:new RegExp("^("+oe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+st+")"+o(o("\\%25|\\%(?!"+E+"{2})")+"("+De+")")+"?\\]?$")}}var m=p(!1),g=p(!0),k=function(){function s(c,d){var E=[],S=!0,F=!1,V=void 0;try{for(var Q=c[Symbol.iterator](),ne;!(S=(ne=Q.next()).done)&&(E.push(ne.value),!(d&&E.length===d));S=!0);}catch(X){F=!0,V=X}finally{try{!S&&Q.return&&Q.return()}finally{if(F)throw V}}return E}return function(c,d){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return s(c,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=function(s){if(Array.isArray(s)){for(var c=0,d=Array(s.length);c<s.length;c++)d[c]=s[c];return d}else return Array.from(s)},b=2147483647,N=36,$=1,h=26,w=38,j=700,A=72,D=128,J="-",ae=/^xn--/,Ne=/[^\0-\x7E]/,xe=/[\x2E\u3002\uFF0E\uFF61]/g,Fe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ue=N-$,se=Math.floor,Ie=String.fromCharCode;function fe(s){throw new RangeError(Fe[s])}function Ye(s,c){for(var d=[],E=s.length;E--;)d[E]=c(s[E]);return d}function et(s,c){var d=s.split("@"),E="";d.length>1&&(E=d[0]+"@",s=d[1]),s=s.replace(xe,".");var S=s.split("."),F=Ye(S,c).join(".");return E+F}function yt(s){for(var c=[],d=0,E=s.length;d<E;){var S=s.charCodeAt(d++);if(S>=55296&&S<=56319&&d<E){var F=s.charCodeAt(d++);(F&64512)==56320?c.push(((S&1023)<<10)+(F&1023)+65536):(c.push(S),d--)}else c.push(S)}return c}var Mt=function(s){return String.fromCodePoint.apply(String,C(s))},vt=function(s){return s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:N},x=function(s,c){return s+22+75*(s<26)-((c!=0)<<5)},v=function(s,c,d){var E=0;for(s=d?se(s/j):s>>1,s+=se(s/c);s>Ue*h>>1;E+=N)s=se(s/Ue);return se(E+(Ue+1)*s/(s+w))},O=function(s){var c=[],d=s.length,E=0,S=D,F=A,V=s.lastIndexOf(J);V<0&&(V=0);for(var Q=0;Q<V;++Q)s.charCodeAt(Q)>=128&&fe("not-basic"),c.push(s.charCodeAt(Q));for(var ne=V>0?V+1:0;ne<d;){for(var X=E,B=1,ee=N;;ee+=N){ne>=d&&fe("invalid-input");var oe=vt(s.charCodeAt(ne++));(oe>=N||oe>se((b-E)/B))&&fe("overflow"),E+=oe*B;var q=ee<=F?$:ee>=F+h?h:ee-F;if(oe<q)break;var ie=N-q;B>se(b/ie)&&fe("overflow"),B*=ie}var Z=c.length+1;F=v(E-X,Z,X==0),se(E/Z)>b-S&&fe("overflow"),S+=se(E/Z),E%=Z,c.splice(E++,0,S)}return String.fromCodePoint.apply(String,c)},_=function(s){var c=[];s=yt(s);var d=s.length,E=D,S=0,F=A,V=!0,Q=!1,ne=void 0;try{for(var X=s[Symbol.iterator](),B;!(V=(B=X.next()).done);V=!0){var ee=B.value;ee<128&&c.push(Ie(ee))}}catch(Ht){Q=!0,ne=Ht}finally{try{!V&&X.return&&X.return()}finally{if(Q)throw ne}}var oe=c.length,q=oe;for(oe&&c.push(J);q<d;){var ie=b,Z=!0,_e=!1,Pt=void 0;try{for(var ke=s[Symbol.iterator](),qe;!(Z=(qe=ke.next()).done);Z=!0){var at=qe.value;at>=E&&at<ie&&(ie=at)}}catch(Ht){_e=!0,Pt=Ht}finally{try{!Z&&ke.return&&ke.return()}finally{if(_e)throw Pt}}var ot=q+1;ie-E>se((b-S)/ot)&&fe("overflow"),S+=(ie-E)*ot,E=ie;var we=!0,Ke=!1,st=void 0;try{for(var De=s[Symbol.iterator](),fr;!(we=(fr=De.next()).done);we=!0){var Vo=fr.value;if(Vo<E&&++S>b&&fe("overflow"),Vo==E){for(var hr=S,pr=N;;pr+=N){var mr=pr<=F?$:pr>=F+h?h:pr-F;if(hr<mr)break;var Fo=hr-mr,Uo=N-mr;c.push(Ie(x(mr+Fo%Uo,0))),hr=se(Fo/Uo)}c.push(Ie(x(hr,0))),F=v(S,ot,q==oe),S=0,++q}}}catch(Ht){Ke=!0,st=Ht}finally{try{!we&&De.return&&De.return()}finally{if(Ke)throw st}}++S,++E}return c.join("")},n=function(s){return et(s,function(c){return ae.test(c)?O(c.slice(4).toLowerCase()):c})},u=function(s){return et(s,function(c){return Ne.test(c)?"xn--"+_(c):c})},P={version:"2.1.0",ucs2:{decode:yt,encode:Mt},decode:O,encode:_,toASCII:u,toUnicode:n},R={};function T(s){var c=s.charCodeAt(0),d=void 0;return c<16?d="%0"+c.toString(16).toUpperCase():c<128?d="%"+c.toString(16).toUpperCase():c<2048?d="%"+(c>>6|192).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase():d="%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase(),d}function H(s){for(var c="",d=0,E=s.length;d<E;){var S=parseInt(s.substr(d+1,2),16);if(S<128)c+=String.fromCharCode(S),d+=3;else if(S>=194&&S<224){if(E-d>=6){var F=parseInt(s.substr(d+4,2),16);c+=String.fromCharCode((S&31)<<6|F&63)}else c+=s.substr(d,6);d+=6}else if(S>=224){if(E-d>=9){var V=parseInt(s.substr(d+4,2),16),Q=parseInt(s.substr(d+7,2),16);c+=String.fromCharCode((S&15)<<12|(V&63)<<6|Q&63)}else c+=s.substr(d,9);d+=9}else c+=s.substr(d,3),d+=3}return c}function G(s,c){function d(E){var S=H(E);return S.match(c.UNRESERVED)?S:E}return s.scheme&&(s.scheme=String(s.scheme).replace(c.PCT_ENCODED,d).toLowerCase().replace(c.NOT_SCHEME,"")),s.userinfo!==void 0&&(s.userinfo=String(s.userinfo).replace(c.PCT_ENCODED,d).replace(c.NOT_USERINFO,T).replace(c.PCT_ENCODED,l)),s.host!==void 0&&(s.host=String(s.host).replace(c.PCT_ENCODED,d).toLowerCase().replace(c.NOT_HOST,T).replace(c.PCT_ENCODED,l)),s.path!==void 0&&(s.path=String(s.path).replace(c.PCT_ENCODED,d).replace(s.scheme?c.NOT_PATH:c.NOT_PATH_NOSCHEME,T).replace(c.PCT_ENCODED,l)),s.query!==void 0&&(s.query=String(s.query).replace(c.PCT_ENCODED,d).replace(c.NOT_QUERY,T).replace(c.PCT_ENCODED,l)),s.fragment!==void 0&&(s.fragment=String(s.fragment).replace(c.PCT_ENCODED,d).replace(c.NOT_FRAGMENT,T).replace(c.PCT_ENCODED,l)),s}function te(s){return s.replace(/^0*(.*)/,"$1")||"0"}function Re(s,c){var d=s.match(c.IPV4ADDRESS)||[],E=k(d,2),S=E[1];return S?S.split(".").map(te).join("."):s}function gt(s,c){var d=s.match(c.IPV6ADDRESS)||[],E=k(d,3),S=E[1],F=E[2];if(S){for(var V=S.toLowerCase().split("::").reverse(),Q=k(V,2),ne=Q[0],X=Q[1],B=X?X.split(":").map(te):[],ee=ne.split(":").map(te),oe=c.IPV4ADDRESS.test(ee[ee.length-1]),q=oe?7:8,ie=ee.length-q,Z=Array(q),_e=0;_e<q;++_e)Z[_e]=B[_e]||ee[ie+_e]||"";oe&&(Z[q-1]=Re(Z[q-1],c));var Pt=Z.reduce(function(we,Ke,st){if(!Ke||Ke==="0"){var De=we[we.length-1];De&&De.index+De.length===st?De.length++:we.push({index:st,length:1})}return we},[]),ke=Pt.sort(function(we,Ke){return Ke.length-we.length})[0],qe=void 0;if(ke&&ke.length>1){var at=Z.slice(0,ke.index),ot=Z.slice(ke.index+ke.length);qe=at.join(":")+"::"+ot.join(":")}else qe=Z.join(":");return F&&(qe+="%"+F),qe}else return s}var Vt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Ft="".match(/(){0}/)[1]===void 0;function ve(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d={},E=c.iri!==!1?g:m;c.reference==="suffix"&&(s=(c.scheme?c.scheme+":":"")+"//"+s);var S=s.match(Vt);if(S){Ft?(d.scheme=S[1],d.userinfo=S[3],d.host=S[4],d.port=parseInt(S[5],10),d.path=S[6]||"",d.query=S[7],d.fragment=S[8],isNaN(d.port)&&(d.port=S[5])):(d.scheme=S[1]||void 0,d.userinfo=s.indexOf("@")!==-1?S[3]:void 0,d.host=s.indexOf("//")!==-1?S[4]:void 0,d.port=parseInt(S[5],10),d.path=S[6]||"",d.query=s.indexOf("?")!==-1?S[7]:void 0,d.fragment=s.indexOf("#")!==-1?S[8]:void 0,isNaN(d.port)&&(d.port=s.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?S[4]:void 0)),d.host&&(d.host=gt(Re(d.host,E),E)),d.scheme===void 0&&d.userinfo===void 0&&d.host===void 0&&d.port===void 0&&!d.path&&d.query===void 0?d.reference="same-document":d.scheme===void 0?d.reference="relative":d.fragment===void 0?d.reference="absolute":d.reference="uri",c.reference&&c.reference!=="suffix"&&c.reference!==d.reference&&(d.error=d.error||"URI is not a "+c.reference+" reference.");var F=R[(c.scheme||d.scheme||"").toLowerCase()];if(!c.unicodeSupport&&(!F||!F.unicodeSupport)){if(d.host&&(c.domainHost||F&&F.domainHost))try{d.host=P.toASCII(d.host.replace(E.PCT_ENCODED,H).toLowerCase())}catch(V){d.error=d.error||"Host's domain name can not be converted to ASCII via punycode: "+V}G(d,m)}else G(d,E);F&&F.parse&&F.parse(d,c)}else d.error=d.error||"URI can not be parsed.";return d}function Ut(s,c){var d=c.iri!==!1?g:m,E=[];return s.userinfo!==void 0&&(E.push(s.userinfo),E.push("@")),s.host!==void 0&&E.push(gt(Re(String(s.host),d),d).replace(d.IPV6ADDRESS,function(S,F,V){return"["+F+(V?"%25"+V:"")+"]"})),(typeof s.port=="number"||typeof s.port=="string")&&(E.push(":"),E.push(String(s.port))),E.length?E.join(""):void 0}var $t=/^\.\.?\//,_t=/^\/\.(\/|$)/,wt=/^\/\.\.(\/|$)/,qt=/^\/?(?:.|\n)*?(?=\/|$)/;function Te(s){for(var c=[];s.length;)if(s.match($t))s=s.replace($t,"");else if(s.match(_t))s=s.replace(_t,"/");else if(s.match(wt))s=s.replace(wt,"/"),c.pop();else if(s==="."||s==="..")s="";else{var d=s.match(qt);if(d){var E=d[0];s=s.slice(E.length),c.push(E)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function ye(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=c.iri?g:m,E=[],S=R[(c.scheme||s.scheme||"").toLowerCase()];if(S&&S.serialize&&S.serialize(s,c),s.host&&!d.IPV6ADDRESS.test(s.host)&&(c.domainHost||S&&S.domainHost))try{s.host=c.iri?P.toUnicode(s.host):P.toASCII(s.host.replace(d.PCT_ENCODED,H).toLowerCase())}catch(Q){s.error=s.error||"Host's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+Q}G(s,d),c.reference!=="suffix"&&s.scheme&&(E.push(s.scheme),E.push(":"));var F=Ut(s,c);if(F!==void 0&&(c.reference!=="suffix"&&E.push("//"),E.push(F),s.path&&s.path.charAt(0)!=="/"&&E.push("/")),s.path!==void 0){var V=s.path;!c.absolutePath&&(!S||!S.absolutePath)&&(V=Te(V)),F===void 0&&(V=V.replace(/^\/\//,"/%2F")),E.push(V)}return s.query!==void 0&&(E.push("?"),E.push(s.query)),s.fragment!==void 0&&(E.push("#"),E.push(s.fragment)),E.join("")}function bt(s,c){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments[3],S={};return E||(s=ve(ye(s,d),d),c=ve(ye(c,d),d)),d=d||{},!d.tolerant&&c.scheme?(S.scheme=c.scheme,S.userinfo=c.userinfo,S.host=c.host,S.port=c.port,S.path=Te(c.path||""),S.query=c.query):(c.userinfo!==void 0||c.host!==void 0||c.port!==void 0?(S.userinfo=c.userinfo,S.host=c.host,S.port=c.port,S.path=Te(c.path||""),S.query=c.query):(c.path?(c.path.charAt(0)==="/"?S.path=Te(c.path):((s.userinfo!==void 0||s.host!==void 0||s.port!==void 0)&&!s.path?S.path="/"+c.path:s.path?S.path=s.path.slice(0,s.path.lastIndexOf("/")+1)+c.path:S.path=c.path,S.path=Te(S.path)),S.query=c.query):(S.path=s.path,c.query!==void 0?S.query=c.query:S.query=s.query),S.userinfo=s.userinfo,S.host=s.host,S.port=s.port),S.scheme=s.scheme),S.fragment=c.fragment,S}function Kt(s,c,d){var E=y({scheme:"null"},d);return ye(bt(ve(s,E),ve(c,E),E,!0),E)}function tt(s,c){return typeof s=="string"?s=ye(ve(s,c),c):i(s)==="object"&&(s=ve(ye(s,c),c)),s}function zt(s,c,d){return typeof s=="string"?s=ye(ve(s,d),d):i(s)==="object"&&(s=ye(s,d)),typeof c=="string"?c=ye(ve(c,d),d):i(c)==="object"&&(c=ye(c,d)),s===c}function ur(s,c){return s&&s.toString().replace(!c||!c.iri?m.ESCAPE:g.ESCAPE,T)}function $e(s,c){return s&&s.toString().replace(!c||!c.iri?m.PCT_ENCODED:g.PCT_ENCODED,H)}var rt={scheme:"http",domainHost:!0,parse:function(s,c){return s.host||(s.error=s.error||"HTTP URIs must have a host."),s},serialize:function(s,c){var d=String(s.scheme).toLowerCase()==="https";return(s.port===(d?443:80)||s.port==="")&&(s.port=void 0),s.path||(s.path="/"),s}},jo={scheme:"https",domainHost:rt.domainHost,parse:rt.parse,serialize:rt.serialize};function xo(s){return typeof s.secure=="boolean"?s.secure:String(s.scheme).toLowerCase()==="wss"}var Lt={scheme:"ws",domainHost:!0,parse:function(s,c){var d=s;return d.secure=xo(d),d.resourceName=(d.path||"/")+(d.query?"?"+d.query:""),d.path=void 0,d.query=void 0,d},serialize:function(s,c){if((s.port===(xo(s)?443:80)||s.port==="")&&(s.port=void 0),typeof s.secure=="boolean"&&(s.scheme=s.secure?"wss":"ws",s.secure=void 0),s.resourceName){var d=s.resourceName.split("?"),E=k(d,2),S=E[0],F=E[1];s.path=S&&S!=="/"?S:void 0,s.query=F,s.resourceName=void 0}return s.fragment=void 0,s}},Io={scheme:"wss",domainHost:Lt.domainHost,parse:Lt.parse,serialize:Lt.serialize},tl={},Ro="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ae="[0-9A-Fa-f]",rl=o(o("%[EFef]"+Ae+"%"+Ae+Ae+"%"+Ae+Ae)+"|"+o("%[89A-Fa-f]"+Ae+"%"+Ae+Ae)+"|"+o("%"+Ae+Ae)),al="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",ol="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",sl=a(ol,'[\\"\\\\]'),nl="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",il=new RegExp(Ro,"g"),Et=new RegExp(rl,"g"),cl=new RegExp(a("[^]",al,"[\\.]",'[\\"]',sl),"g"),To=new RegExp(a("[^]",Ro,nl),"g"),ll=To;function va(s){var c=H(s);return c.match(il)?c:s}var Ao={scheme:"mailto",parse:function(s,c){var d=s,E=d.to=d.path?d.path.split(","):[];if(d.path=void 0,d.query){for(var S=!1,F={},V=d.query.split("&"),Q=0,ne=V.length;Q<ne;++Q){var X=V[Q].split("=");switch(X[0]){case"to":for(var B=X[1].split(","),ee=0,oe=B.length;ee<oe;++ee)E.push(B[ee]);break;case"subject":d.subject=$e(X[1],c);break;case"body":d.body=$e(X[1],c);break;default:S=!0,F[$e(X[0],c)]=$e(X[1],c);break}}S&&(d.headers=F)}d.query=void 0;for(var q=0,ie=E.length;q<ie;++q){var Z=E[q].split("@");if(Z[0]=$e(Z[0]),c.unicodeSupport)Z[1]=$e(Z[1],c).toLowerCase();else try{Z[1]=P.toASCII($e(Z[1],c).toLowerCase())}catch(_e){d.error=d.error||"Email address's domain name can not be converted to ASCII via punycode: "+_e}E[q]=Z.join("@")}return d},serialize:function(s,c){var d=s,E=f(s.to);if(E){for(var S=0,F=E.length;S<F;++S){var V=String(E[S]),Q=V.lastIndexOf("@"),ne=V.slice(0,Q).replace(Et,va).replace(Et,l).replace(cl,T),X=V.slice(Q+1);try{X=c.iri?P.toUnicode(X):P.toASCII($e(X,c).toLowerCase())}catch(q){d.error=d.error||"Email address's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+q}E[S]=ne+"@"+X}d.path=E.join(",")}var B=s.headers=s.headers||{};s.subject&&(B.subject=s.subject),s.body&&(B.body=s.body);var ee=[];for(var oe in B)B[oe]!==tl[oe]&&ee.push(oe.replace(Et,va).replace(Et,l).replace(To,T)+"="+B[oe].replace(Et,va).replace(Et,l).replace(ll,T));return ee.length&&(d.query=ee.join("&")),d}},dl=/^([^\:]+)\:(.*)/,Do={scheme:"urn",parse:function(s,c){var d=s.path&&s.path.match(dl),E=s;if(d){var S=c.scheme||E.scheme||"urn",F=d[1].toLowerCase(),V=d[2],Q=S+":"+(c.nid||F),ne=R[Q];E.nid=F,E.nss=V,E.path=void 0,ne&&(E=ne.parse(E,c))}else E.error=E.error||"URN can not be parsed.";return E},serialize:function(s,c){var d=c.scheme||s.scheme||"urn",E=s.nid,S=d+":"+(c.nid||E),F=R[S];F&&(s=F.serialize(s,c));var V=s,Q=s.nss;return V.path=(E||c.nid)+":"+Q,V}},ul=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Mo={scheme:"urn:uuid",parse:function(s,c){var d=s;return d.uuid=d.nss,d.nss=void 0,!c.tolerant&&(!d.uuid||!d.uuid.match(ul))&&(d.error=d.error||"UUID is not valid."),d},serialize:function(s,c){var d=s;return d.nss=(s.uuid||"").toLowerCase(),d}};R[rt.scheme]=rt,R[jo.scheme]=jo,R[Lt.scheme]=Lt,R[Io.scheme]=Io,R[Ao.scheme]=Ao,R[Do.scheme]=Do,R[Mo.scheme]=Mo,r.SCHEMES=R,r.pctEncChar=T,r.pctDecChars=H,r.parse=ve,r.removeDotSegments=Te,r.serialize=ye,r.resolveComponents=bt,r.resolve=Kt,r.normalize=tt,r.equal=zt,r.escapeComponent=ur,r.unescapeComponent=$e,Object.defineProperty(r,"__esModule",{value:!0})})})(Ar,Ar.exports);var zn=Ar.exports;Object.defineProperty(Tr,"__esModule",{value:!0});const no=zn;no.code='require("ajv/dist/runtime/uri").default',Tr.default=no,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=be;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=z;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const a=Ct,o=dt,i=Be,l=pe,f=z,y=le,p=ce,m=I,g=Kn,k=Tr,C=(x,v)=>new RegExp(x,v);C.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],N=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),$={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function j(x){var v,O,_,n,u,P,R,T,H,G,te,Re,gt,Vt,Ft,ve,Ut,$t,_t,wt,qt,Te,ye,bt,Kt;const tt=x.strict,zt=(v=x.code)===null||v===void 0?void 0:v.optimize,ur=zt===!0||zt===void 0?1:zt||0,$e=(_=(O=x.code)===null||O===void 0?void 0:O.regExp)!==null&&_!==void 0?_:C,rt=(n=x.uriResolver)!==null&&n!==void 0?n:k.default;return{strictSchema:(P=(u=x.strictSchema)!==null&&u!==void 0?u:tt)!==null&&P!==void 0?P:!0,strictNumbers:(T=(R=x.strictNumbers)!==null&&R!==void 0?R:tt)!==null&&T!==void 0?T:!0,strictTypes:(G=(H=x.strictTypes)!==null&&H!==void 0?H:tt)!==null&&G!==void 0?G:"log",strictTuples:(Re=(te=x.strictTuples)!==null&&te!==void 0?te:tt)!==null&&Re!==void 0?Re:"log",strictRequired:(Vt=(gt=x.strictRequired)!==null&&gt!==void 0?gt:tt)!==null&&Vt!==void 0?Vt:!1,code:x.code?{...x.code,optimize:ur,regExp:$e}:{optimize:ur,regExp:$e},loopRequired:(Ft=x.loopRequired)!==null&&Ft!==void 0?Ft:w,loopEnum:(ve=x.loopEnum)!==null&&ve!==void 0?ve:w,meta:(Ut=x.meta)!==null&&Ut!==void 0?Ut:!0,messages:($t=x.messages)!==null&&$t!==void 0?$t:!0,inlineRefs:(_t=x.inlineRefs)!==null&&_t!==void 0?_t:!0,schemaId:(wt=x.schemaId)!==null&&wt!==void 0?wt:"$id",addUsedSchema:(qt=x.addUsedSchema)!==null&&qt!==void 0?qt:!0,validateSchema:(Te=x.validateSchema)!==null&&Te!==void 0?Te:!0,validateFormats:(ye=x.validateFormats)!==null&&ye!==void 0?ye:!0,unicodeRegExp:(bt=x.unicodeRegExp)!==null&&bt!==void 0?bt:!0,int32range:(Kt=x.int32range)!==null&&Kt!==void 0?Kt:!0,uriResolver:rt}}class A{constructor(v={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,v=this.opts={...v,...j(v)};const{es5:O,lines:_}=this.opts.code;this.scope=new f.ValueScope({scope:{},prefixes:N,es5:O,lines:_}),this.logger=se(v.logger);const n=v.validateFormats;v.validateFormats=!1,this.RULES=(0,i.getRules)(),D.call(this,$,v,"NOT SUPPORTED"),D.call(this,h,v,"DEPRECATED","warn"),this._metaOpts=Fe.call(this),v.formats&&Ne.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),v.keywords&&xe.call(this,v.keywords),typeof v.meta=="object"&&this.addMetaSchema(v.meta),ae.call(this),v.validateFormats=n}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:v,meta:O,schemaId:_}=this.opts;let n=g;_==="id"&&(n={...g},n.id=n.$id,delete n.$id),O&&v&&this.addMetaSchema(n,n[_],!1)}defaultMeta(){const{meta:v,schemaId:O}=this.opts;return this.opts.defaultMeta=typeof v=="object"?v[O]||v:void 0}validate(v,O){let _;if(typeof v=="string"){if(_=this.getSchema(v),!_)throw new Error(`no schema with key or ref "${v}"`)}else _=this.compile(v);const n=_(O);return"$async"in _||(this.errors=_.errors),n}compile(v,O){const _=this._addSchema(v,O);return _.validate||this._compileSchemaEnv(_)}compileAsync(v,O){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:_}=this.opts;return n.call(this,v,O);async function n(G,te){await u.call(this,G.$schema);const Re=this._addSchema(G,te);return Re.validate||P.call(this,Re)}async function u(G){G&&!this.getSchema(G)&&await n.call(this,{$ref:G},!0)}async function P(G){try{return this._compileSchemaEnv(G)}catch(te){if(!(te instanceof o.default))throw te;return R.call(this,te),await T.call(this,te.missingSchema),P.call(this,G)}}function R({missingSchema:G,missingRef:te}){if(this.refs[G])throw new Error(`AnySchema ${G} is loaded but ${te} cannot be resolved`)}async function T(G){const te=await H.call(this,G);this.refs[G]||await u.call(this,te.$schema),this.refs[G]||this.addSchema(te,G,O)}async function H(G){const te=this._loading[G];if(te)return te;try{return await(this._loading[G]=_(G))}finally{delete this._loading[G]}}}addSchema(v,O,_,n=this.opts.validateSchema){if(Array.isArray(v)){for(const P of v)this.addSchema(P,void 0,_,n);return this}let u;if(typeof v=="object"){const{schemaId:P}=this.opts;if(u=v[P],u!==void 0&&typeof u!="string")throw new Error(`schema ${P} must be string`)}return O=(0,y.normalizeId)(O||u),this._checkUnique(O),this.schemas[O]=this._addSchema(v,_,O,n,!0),this}addMetaSchema(v,O,_=this.opts.validateSchema){return this.addSchema(v,O,!0,_),this}validateSchema(v,O){if(typeof v=="boolean")return!0;let _;if(_=v.$schema,_!==void 0&&typeof _!="string")throw new Error("$schema must be a string");if(_=_||this.opts.defaultMeta||this.defaultMeta(),!_)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const n=this.validate(_,v);if(!n&&O){const u="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(u);else throw new Error(u)}return n}getSchema(v){let O;for(;typeof(O=J.call(this,v))=="string";)v=O;if(O===void 0){const{schemaId:_}=this.opts,n=new l.SchemaEnv({schema:{},schemaId:_});if(O=l.resolveSchema.call(this,n,v),!O)return;this.refs[v]=O}return O.validate||this._compileSchemaEnv(O)}removeSchema(v){if(v instanceof RegExp)return this._removeAllSchemas(this.schemas,v),this._removeAllSchemas(this.refs,v),this;switch(typeof v){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const O=J.call(this,v);return typeof O=="object"&&this._cache.delete(O.schema),delete this.schemas[v],delete this.refs[v],this}case"object":{const O=v;this._cache.delete(O);let _=v[this.opts.schemaId];return _&&(_=(0,y.normalizeId)(_),delete this.schemas[_],delete this.refs[_]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(v){for(const O of v)this.addKeyword(O);return this}addKeyword(v,O){let _;if(typeof v=="string")_=v,typeof O=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),O.keyword=_);else if(typeof v=="object"&&O===void 0){if(O=v,_=O.keyword,Array.isArray(_)&&!_.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(fe.call(this,_,O),!O)return(0,m.eachItem)(_,u=>Ye.call(this,u)),this;yt.call(this,O);const n={...O,type:(0,p.getJSONTypes)(O.type),schemaType:(0,p.getJSONTypes)(O.schemaType)};return(0,m.eachItem)(_,n.type.length===0?u=>Ye.call(this,u,n):u=>n.type.forEach(P=>Ye.call(this,u,n,P))),this}getKeyword(v){const O=this.RULES.all[v];return typeof O=="object"?O.definition:!!O}removeKeyword(v){const{RULES:O}=this;delete O.keywords[v],delete O.all[v];for(const _ of O.rules){const n=_.rules.findIndex(u=>u.keyword===v);n>=0&&_.rules.splice(n,1)}return this}addFormat(v,O){return typeof O=="string"&&(O=new RegExp(O)),this.formats[v]=O,this}errorsText(v=this.errors,{separator:O=", ",dataVar:_="data"}={}){return!v||v.length===0?"No errors":v.map(n=>`${_}${n.instancePath} ${n.message}`).reduce((n,u)=>n+O+u)}$dataMetaSchema(v,O){const _=this.RULES.all;v=JSON.parse(JSON.stringify(v));for(const n of O){const u=n.split("/").slice(1);let P=v;for(const R of u)P=P[R];for(const R in _){const T=_[R];if(typeof T!="object")continue;const{$data:H}=T.definition,G=P[R];H&&G&&(P[R]=vt(G))}}return v}_removeAllSchemas(v,O){for(const _ in v){const n=v[_];(!O||O.test(_))&&(typeof n=="string"?delete v[_]:n&&!n.meta&&(this._cache.delete(n.schema),delete v[_]))}}_addSchema(v,O,_,n=this.opts.validateSchema,u=this.opts.addUsedSchema){let P;const{schemaId:R}=this.opts;if(typeof v=="object")P=v[R];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof v!="boolean")throw new Error("schema must be object or boolean")}let T=this._cache.get(v);if(T!==void 0)return T;_=(0,y.normalizeId)(P||_);const H=y.getSchemaRefs.call(this,v,_);return T=new l.SchemaEnv({schema:v,schemaId:R,meta:O,baseId:_,localRefs:H}),this._cache.set(T.schema,T),u&&!_.startsWith("#")&&(_&&this._checkUnique(_),this.refs[_]=T),n&&this.validateSchema(v,!0),T}_checkUnique(v){if(this.schemas[v]||this.refs[v])throw new Error(`schema with key or id "${v}" already exists`)}_compileSchemaEnv(v){if(v.meta?this._compileMetaSchema(v):l.compileSchema.call(this,v),!v.validate)throw new Error("ajv implementation error");return v.validate}_compileMetaSchema(v){const O=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,v)}finally{this.opts=O}}}A.ValidationError=a.default,A.MissingRefError=o.default,e.default=A;function D(x,v,O,_="error"){for(const n in x){const u=n;u in v&&this.logger[_](`${O}: option ${n}. ${x[u]}`)}}function J(x){return x=(0,y.normalizeId)(x),this.schemas[x]||this.refs[x]}function ae(){const x=this.opts.schemas;if(x)if(Array.isArray(x))this.addSchema(x);else for(const v in x)this.addSchema(x[v],v)}function Ne(){for(const x in this.opts.formats){const v=this.opts.formats[x];v&&this.addFormat(x,v)}}function xe(x){if(Array.isArray(x)){this.addVocabulary(x);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const v in x){const O=x[v];O.keyword||(O.keyword=v),this.addKeyword(O)}}function Fe(){const x={...this.opts};for(const v of b)delete x[v];return x}const Ue={log(){},warn(){},error(){}};function se(x){if(x===!1)return Ue;if(x===void 0)return console;if(x.log&&x.warn&&x.error)return x;throw new Error("logger must implement log, warn and error methods")}const Ie=/^[a-z_$][a-z0-9_$:-]*$/i;function fe(x,v){const{RULES:O}=this;if((0,m.eachItem)(x,_=>{if(O.keywords[_])throw new Error(`Keyword ${_} is already defined`);if(!Ie.test(_))throw new Error(`Keyword ${_} has invalid name`)}),!!v&&v.$data&&!("code"in v||"validate"in v))throw new Error('$data keyword must have "code" or "validate" function')}function Ye(x,v,O){var _;const n=v==null?void 0:v.post;if(O&&n)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:u}=this;let P=n?u.post:u.rules.find(({type:T})=>T===O);if(P||(P={type:O,rules:[]},u.rules.push(P)),u.keywords[x]=!0,!v)return;const R={keyword:x,definition:{...v,type:(0,p.getJSONTypes)(v.type),schemaType:(0,p.getJSONTypes)(v.schemaType)}};v.before?et.call(this,P,R,v.before):P.rules.push(R),u.all[x]=R,(_=v.implements)===null||_===void 0||_.forEach(T=>this.addKeyword(T))}function et(x,v,O){const _=x.rules.findIndex(n=>n.keyword===O);_>=0?x.rules.splice(_,0,v):(x.rules.push(v),this.logger.warn(`rule ${O} is not defined`))}function yt(x){let{metaSchema:v}=x;v!==void 0&&(x.$data&&this.opts.$data&&(v=vt(v)),x.validateSchema=this.compile(v,!0))}const Mt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function vt(x){return{anyOf:[x,Mt]}}}(ga);var Dr={},Mr={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});const Ln={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Vr.default=Ln;var We={};Object.defineProperty(We,"__esModule",{value:!0}),We.callRef=We.getValidate=void 0;const Hn=dt,io=L,me=z,ut=Oe,co=pe,Xt=I,Gn={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:a}=e,{baseId:o,schemaEnv:i,validateName:l,opts:f,self:y}=a,{root:p}=i;if((r==="#"||r==="#/")&&o===p.baseId)return g();const m=co.resolveRef.call(y,p,o,r);if(m===void 0)throw new Hn.default(a.opts.uriResolver,o,r);if(m instanceof co.SchemaEnv)return k(m);return C(m);function g(){if(i===p)return Zt(e,l,i,i.$async);const b=t.scopeValue("root",{ref:p});return Zt(e,(0,me._)`${b}.validate`,p,p.$async)}function k(b){const N=lo(e,b);Zt(e,N,b,b.$async)}function C(b){const N=t.scopeValue("schema",f.code.source===!0?{ref:b,code:(0,me.stringify)(b)}:{ref:b}),$=t.name("valid"),h=e.subschema({schema:b,dataTypes:[],schemaPath:me.nil,topSchemaRef:N,errSchemaPath:r},$);e.mergeEvaluated(h),e.ok($)}}};function lo(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,me._)`${r.scopeValue("wrapper",{ref:t})}.validate`}We.getValidate=lo;function Zt(e,t,r,a){const{gen:o,it:i}=e,{allErrors:l,schemaEnv:f,opts:y}=i,p=y.passContext?ut.default.this:me.nil;a?m():g();function m(){if(!f.$async)throw new Error("async schema referenced by sync schema");const b=o.let("valid");o.try(()=>{o.code((0,me._)`await ${(0,io.callValidateCode)(e,t,p)}`),C(t),l||o.assign(b,!0)},N=>{o.if((0,me._)`!(${N} instanceof ${i.ValidationError})`,()=>o.throw(N)),k(N),l||o.assign(b,!1)}),e.ok(b)}function g(){e.result((0,io.callValidateCode)(e,t,p),()=>C(t),()=>k(t))}function k(b){const N=(0,me._)`${b}.errors`;o.assign(ut.default.vErrors,(0,me._)`${ut.default.vErrors} === null ? ${N} : ${ut.default.vErrors}.concat(${N})`),o.assign(ut.default.errors,(0,me._)`${ut.default.vErrors}.length`)}function C(b){var N;if(!i.opts.unevaluated)return;const $=(N=r==null?void 0:r.validate)===null||N===void 0?void 0:N.evaluated;if(i.props!==!0)if($&&!$.dynamicProps)$.props!==void 0&&(i.props=Xt.mergeEvaluated.props(o,$.props,i.props));else{const h=o.var("props",(0,me._)`${b}.evaluated.props`);i.props=Xt.mergeEvaluated.props(o,h,i.props,me.Name)}if(i.items!==!0)if($&&!$.dynamicItems)$.items!==void 0&&(i.items=Xt.mergeEvaluated.items(o,$.items,i.items));else{const h=o.var("items",(0,me._)`${b}.evaluated.items`);i.items=Xt.mergeEvaluated.items(o,h,i.items,me.Name)}}}We.callRef=Zt,We.default=Gn,Object.defineProperty(Mr,"__esModule",{value:!0});const Bn=Vr,Qn=We,Jn=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Bn.default,Qn.default];Mr.default=Jn;var Fr={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0});const Yt=z,Ge=Yt.operators,er={maximum:{okStr:"<=",ok:Ge.LTE,fail:Ge.GT},minimum:{okStr:">=",ok:Ge.GTE,fail:Ge.LT},exclusiveMaximum:{okStr:"<",ok:Ge.LT,fail:Ge.GTE},exclusiveMinimum:{okStr:">",ok:Ge.GT,fail:Ge.LTE}},Wn={message:({keyword:e,schemaCode:t})=>(0,Yt.str)`must be ${er[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Yt._)`{comparison: ${er[e].okStr}, limit: ${t}}`},Xn={keyword:Object.keys(er),type:"number",schemaType:"number",$data:!0,error:Wn,code(e){const{keyword:t,data:r,schemaCode:a}=e;e.fail$data((0,Yt._)`${r} ${er[t].fail} ${a} || isNaN(${r})`)}};Ur.default=Xn;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const jt=z,Zn={message:({schemaCode:e})=>(0,jt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,jt._)`{multipleOf: ${e}}`},Yn={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Zn,code(e){const{gen:t,data:r,schemaCode:a,it:o}=e,i=o.opts.multipleOfPrecision,l=t.let("res"),f=i?(0,jt._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${i}`:(0,jt._)`${l} !== parseInt(${l})`;e.fail$data((0,jt._)`(${a} === 0 || (${l} = ${r}/${a}, ${f}))`)}};qr.default=Yn;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});const Xe=z,ei=I,ti=ml,ri={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,Xe.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,Xe._)`{limit: ${e}}`},ai={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ri,code(e){const{keyword:t,data:r,schemaCode:a,it:o}=e,i=t==="maxLength"?Xe.operators.GT:Xe.operators.LT,l=o.opts.unicode===!1?(0,Xe._)`${r}.length`:(0,Xe._)`${(0,ei.useFunc)(e.gen,ti.default)}(${r})`;e.fail$data((0,Xe._)`${l} ${i} ${a}`)}};Kr.default=ai;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});const oi=L,tr=z,si={message:({schemaCode:e})=>(0,tr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,tr._)`{pattern: ${e}}`},ni={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:si,code(e){const{data:t,$data:r,schema:a,schemaCode:o,it:i}=e,l=i.opts.unicodeRegExp?"u":"",f=r?(0,tr._)`(new RegExp(${o}, ${l}))`:(0,oi.usePattern)(e,a);e.fail$data((0,tr._)`!${f}.test(${t})`)}};zr.default=ni;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});const xt=z,ii={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,xt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,xt._)`{limit: ${e}}`},ci={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:ii,code(e){const{keyword:t,data:r,schemaCode:a}=e,o=t==="maxProperties"?xt.operators.GT:xt.operators.LT;e.fail$data((0,xt._)`Object.keys(${r}).length ${o} ${a}`)}};Lr.default=ci;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const It=L,Rt=z,li=I,di={message:({params:{missingProperty:e}})=>(0,Rt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Rt._)`{missingProperty: ${e}}`},ui={keyword:"required",type:"object",schemaType:"array",$data:!0,error:di,code(e){const{gen:t,schema:r,schemaCode:a,data:o,$data:i,it:l}=e,{opts:f}=l;if(!i&&r.length===0)return;const y=r.length>=f.loopRequired;if(l.allErrors?p():m(),f.strictRequired){const C=e.parentSchema.properties,{definedProperties:b}=e.it;for(const N of r)if((C==null?void 0:C[N])===void 0&&!b.has(N)){const $=l.schemaEnv.baseId+l.errSchemaPath,h=`required property "${N}" is not defined at "${$}" (strictRequired)`;(0,li.checkStrictMode)(l,h,l.opts.strictRequired)}}function p(){if(y||i)e.block$data(Rt.nil,g);else for(const C of r)(0,It.checkReportMissingProp)(e,C)}function m(){const C=t.let("missing");if(y||i){const b=t.let("valid",!0);e.block$data(b,()=>k(C,b)),e.ok(b)}else t.if((0,It.checkMissingProp)(e,r,C)),(0,It.reportMissingProp)(e,C),t.else()}function g(){t.forOf("prop",a,C=>{e.setParams({missingProperty:C}),t.if((0,It.noPropertyInData)(t,o,C,f.ownProperties),()=>e.error())})}function k(C,b){e.setParams({missingProperty:C}),t.forOf(C,a,()=>{t.assign(b,(0,It.propertyInData)(t,o,C,f.ownProperties)),t.if((0,Rt.not)(b),()=>{e.error(),t.break()})},Rt.nil)}}};Hr.default=ui;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const Tt=z,fi={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Tt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Tt._)`{limit: ${e}}`},hi={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:fi,code(e){const{keyword:t,data:r,schemaCode:a}=e,o=t==="maxItems"?Tt.operators.GT:Tt.operators.LT;e.fail$data((0,Tt._)`${r}.length ${o} ${a}`)}};Gr.default=hi;var Br={},At={};Object.defineProperty(At,"__esModule",{value:!0});const uo=Va;uo.code='require("ajv/dist/runtime/equal").default',At.default=uo,Object.defineProperty(Br,"__esModule",{value:!0});const Qr=ce,de=z,pi=I,mi=At,yi={message:({params:{i:e,j:t}})=>(0,de.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,de._)`{i: ${e}, j: ${t}}`},vi={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:yi,code(e){const{gen:t,data:r,$data:a,schema:o,parentSchema:i,schemaCode:l,it:f}=e;if(!a&&!o)return;const y=t.let("valid"),p=i.items?(0,Qr.getSchemaTypes)(i.items):[];e.block$data(y,m,(0,de._)`${l} === false`),e.ok(y);function m(){const b=t.let("i",(0,de._)`${r}.length`),N=t.let("j");e.setParams({i:b,j:N}),t.assign(y,!0),t.if((0,de._)`${b} > 1`,()=>(g()?k:C)(b,N))}function g(){return p.length>0&&!p.some(b=>b==="object"||b==="array")}function k(b,N){const $=t.name("item"),h=(0,Qr.checkDataTypes)(p,$,f.opts.strictNumbers,Qr.DataType.Wrong),w=t.const("indices",(0,de._)`{}`);t.for((0,de._)`;${b}--;`,()=>{t.let($,(0,de._)`${r}[${b}]`),t.if(h,(0,de._)`continue`),p.length>1&&t.if((0,de._)`typeof ${$} == "string"`,(0,de._)`${$} += "_"`),t.if((0,de._)`typeof ${w}[${$}] == "number"`,()=>{t.assign(N,(0,de._)`${w}[${$}]`),e.error(),t.assign(y,!1).break()}).code((0,de._)`${w}[${$}] = ${b}`)})}function C(b,N){const $=(0,pi.useFunc)(t,mi.default),h=t.name("outer");t.label(h).for((0,de._)`;${b}--;`,()=>t.for((0,de._)`${N} = ${b}; ${N}--;`,()=>t.if((0,de._)`${$}(${r}[${b}], ${r}[${N}])`,()=>{e.error(),t.assign(y,!1).break(h)})))}}};Br.default=vi;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const Wr=z,gi=I,$i=At,_i={message:"must be equal to constant",params:({schemaCode:e})=>(0,Wr._)`{allowedValue: ${e}}`},wi={keyword:"const",$data:!0,error:_i,code(e){const{gen:t,data:r,$data:a,schemaCode:o,schema:i}=e;a||i&&typeof i=="object"?e.fail$data((0,Wr._)`!${(0,gi.useFunc)(t,$i.default)}(${r}, ${o})`):e.fail((0,Wr._)`${i} !== ${r}`)}};Jr.default=wi;var Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});const Dt=z,bi=I,Ei=At,Pi={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Dt._)`{allowedValues: ${e}}`},Si={keyword:"enum",schemaType:"array",$data:!0,error:Pi,code(e){const{gen:t,data:r,$data:a,schema:o,schemaCode:i,it:l}=e;if(!a&&o.length===0)throw new Error("enum must have non-empty array");const f=o.length>=l.opts.loopEnum;let y;const p=()=>y??(y=(0,bi.useFunc)(t,Ei.default));let m;if(f||a)m=t.let("valid"),e.block$data(m,g);else{if(!Array.isArray(o))throw new Error("ajv implementation error");const C=t.const("vSchema",i);m=(0,Dt.or)(...o.map((b,N)=>k(C,N)))}e.pass(m);function g(){t.assign(m,!1),t.forOf("v",i,C=>t.if((0,Dt._)`${p()}(${r}, ${C})`,()=>t.assign(m,!0).break()))}function k(C,b){const N=o[b];return typeof N=="object"&&N!==null?(0,Dt._)`${p()}(${r}, ${C}[${b}])`:(0,Dt._)`${r} === ${N}`}}};Xr.default=Si,Object.defineProperty(Fr,"__esModule",{value:!0});const Ni=Ur,ki=qr,Oi=Kr,Ci=zr,ji=Lr,xi=Hr,Ii=Gr,Ri=Br,Ti=Jr,Ai=Xr,Di=[Ni.default,ki.default,Oi.default,Ci.default,ji.default,xi.default,Ii.default,Ri.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ti.default,Ai.default];Fr.default=Di;var Zr={},ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.validateAdditionalItems=void 0;const Ze=z,Yr=I,Mi={message:({params:{len:e}})=>(0,Ze.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Ze._)`{limit: ${e}}`},Vi={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Mi,code(e){const{parentSchema:t,it:r}=e,{items:a}=t;if(!Array.isArray(a)){(0,Yr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}fo(e,a)}};function fo(e,t){const{gen:r,schema:a,data:o,keyword:i,it:l}=e;l.items=!0;const f=r.const("len",(0,Ze._)`${o}.length`);if(a===!1)e.setParams({len:t.length}),e.pass((0,Ze._)`${f} <= ${t.length}`);else if(typeof a=="object"&&!(0,Yr.alwaysValidSchema)(l,a)){const p=r.var("valid",(0,Ze._)`${f} <= ${t.length}`);r.if((0,Ze.not)(p),()=>y(p)),e.ok(p)}function y(p){r.forRange("i",t.length,f,m=>{e.subschema({keyword:i,dataProp:m,dataPropType:Yr.Type.Num},p),l.allErrors||r.if((0,Ze.not)(p),()=>r.break())})}}ft.validateAdditionalItems=fo,ft.default=Vi;var ea={},ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.validateTuple=void 0;const ho=z,rr=I,Fi=L,Ui={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return po(e,"additionalItems",t);r.items=!0,!(0,rr.alwaysValidSchema)(r,t)&&e.ok((0,Fi.validateArray)(e))}};function po(e,t,r=e.schema){const{gen:a,parentSchema:o,data:i,keyword:l,it:f}=e;m(o),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=rr.mergeEvaluated.items(a,r.length,f.items));const y=a.name("valid"),p=a.const("len",(0,ho._)`${i}.length`);r.forEach((g,k)=>{(0,rr.alwaysValidSchema)(f,g)||(a.if((0,ho._)`${p} > ${k}`,()=>e.subschema({keyword:l,schemaProp:k,dataProp:k},y)),e.ok(y))});function m(g){const{opts:k,errSchemaPath:C}=f,b=r.length,N=b===g.minItems&&(b===g.maxItems||g[t]===!1);if(k.strictTuples&&!N){const $=`"${l}" is ${b}-tuple, but minItems or maxItems/${t} are not specified or different at path "${C}"`;(0,rr.checkStrictMode)(f,$,k.strictTuples)}}}ht.validateTuple=po,ht.default=Ui,Object.defineProperty(ea,"__esModule",{value:!0});const qi=ht,Ki={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,qi.validateTuple)(e,"items")};ea.default=Ki;var ta={};Object.defineProperty(ta,"__esModule",{value:!0});const mo=z,zi=I,Li=L,Hi=ft,Gi={message:({params:{len:e}})=>(0,mo.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,mo._)`{limit: ${e}}`},Bi={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Gi,code(e){const{schema:t,parentSchema:r,it:a}=e,{prefixItems:o}=r;a.items=!0,!(0,zi.alwaysValidSchema)(a,t)&&(o?(0,Hi.validateAdditionalItems)(e,o):e.ok((0,Li.validateArray)(e)))}};ta.default=Bi;var ra={};Object.defineProperty(ra,"__esModule",{value:!0});const ge=z,ar=I,Qi={message:({params:{min:e,max:t}})=>t===void 0?(0,ge.str)`must contain at least ${e} valid item(s)`:(0,ge.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ge._)`{minContains: ${e}}`:(0,ge._)`{minContains: ${e}, maxContains: ${t}}`},Ji={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Qi,code(e){const{gen:t,schema:r,parentSchema:a,data:o,it:i}=e;let l,f;const{minContains:y,maxContains:p}=a;i.opts.next?(l=y===void 0?1:y,f=p):l=1;const m=t.const("len",(0,ge._)`${o}.length`);if(e.setParams({min:l,max:f}),f===void 0&&l===0){(0,ar.checkStrictMode)(i,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&l>f){(0,ar.checkStrictMode)(i,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,ar.alwaysValidSchema)(i,r)){let N=(0,ge._)`${m} >= ${l}`;f!==void 0&&(N=(0,ge._)`${N} && ${m} <= ${f}`),e.pass(N);return}i.items=!0;const g=t.name("valid");f===void 0&&l===1?C(g,()=>t.if(g,()=>t.break())):l===0?(t.let(g,!0),f!==void 0&&t.if((0,ge._)`${o}.length > 0`,k)):(t.let(g,!1),k()),e.result(g,()=>e.reset());function k(){const N=t.name("_valid"),$=t.let("count",0);C(N,()=>t.if(N,()=>b($)))}function C(N,$){t.forRange("i",0,m,h=>{e.subschema({keyword:"contains",dataProp:h,dataPropType:ar.Type.Num,compositeRule:!0},N),$()})}function b(N){t.code((0,ge._)`${N}++`),f===void 0?t.if((0,ge._)`${N} >= ${l}`,()=>t.assign(g,!0).break()):(t.if((0,ge._)`${N} > ${f}`,()=>t.assign(g,!1).break()),l===1?t.assign(g,!0):t.if((0,ge._)`${N} >= ${l}`,()=>t.assign(g,!0)))}}};ra.default=Ji;var yo={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=z,r=I,a=L;e.error={message:({params:{property:y,depsCount:p,deps:m}})=>{const g=p===1?"property":"properties";return(0,t.str)`must have ${g} ${m} when property ${y} is present`},params:({params:{property:y,depsCount:p,deps:m,missingProperty:g}})=>(0,t._)`{property: ${y},
    missingProperty: ${g},
    depsCount: ${p},
    deps: ${m}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(y){const[p,m]=i(y);l(y,p),f(y,m)}};function i({schema:y}){const p={},m={};for(const g in y){if(g==="__proto__")continue;const k=Array.isArray(y[g])?p:m;k[g]=y[g]}return[p,m]}function l(y,p=y.schema){const{gen:m,data:g,it:k}=y;if(Object.keys(p).length===0)return;const C=m.let("missing");for(const b in p){const N=p[b];if(N.length===0)continue;const $=(0,a.propertyInData)(m,g,b,k.opts.ownProperties);y.setParams({property:b,depsCount:N.length,deps:N.join(", ")}),k.allErrors?m.if($,()=>{for(const h of N)(0,a.checkReportMissingProp)(y,h)}):(m.if((0,t._)`${$} && (${(0,a.checkMissingProp)(y,N,C)})`),(0,a.reportMissingProp)(y,C),m.else())}}e.validatePropertyDeps=l;function f(y,p=y.schema){const{gen:m,data:g,keyword:k,it:C}=y,b=m.name("valid");for(const N in p)(0,r.alwaysValidSchema)(C,p[N])||(m.if((0,a.propertyInData)(m,g,N,C.opts.ownProperties),()=>{const $=y.subschema({keyword:k,schemaProp:N},b);y.mergeValidEvaluated($,b)},()=>m.var(b,!0)),y.ok(b))}e.validateSchemaDeps=f,e.default=o})(yo);var aa={};Object.defineProperty(aa,"__esModule",{value:!0});const vo=z,Wi=I,Xi={message:"property name must be valid",params:({params:e})=>(0,vo._)`{propertyName: ${e.propertyName}}`},Zi={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Xi,code(e){const{gen:t,schema:r,data:a,it:o}=e;if((0,Wi.alwaysValidSchema)(o,r))return;const i=t.name("valid");t.forIn("key",a,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},i),t.if((0,vo.not)(i),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(i)}};aa.default=Zi;var or={};Object.defineProperty(or,"__esModule",{value:!0});const sr=L,Se=z,Yi=Oe,nr=I,ec={message:"must NOT have additional properties",params:({params:e})=>(0,Se._)`{additionalProperty: ${e.additionalProperty}}`},tc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:ec,code(e){const{gen:t,schema:r,parentSchema:a,data:o,errsCount:i,it:l}=e;if(!i)throw new Error("ajv implementation error");const{allErrors:f,opts:y}=l;if(l.props=!0,y.removeAdditional!=="all"&&(0,nr.alwaysValidSchema)(l,r))return;const p=(0,sr.allSchemaProperties)(a.properties),m=(0,sr.allSchemaProperties)(a.patternProperties);g(),e.ok((0,Se._)`${i} === ${Yi.default.errors}`);function g(){t.forIn("key",o,$=>{!p.length&&!m.length?b($):t.if(k($),()=>b($))})}function k($){let h;if(p.length>8){const w=(0,nr.schemaRefOrVal)(l,a.properties,"properties");h=(0,sr.isOwnProperty)(t,w,$)}else p.length?h=(0,Se.or)(...p.map(w=>(0,Se._)`${$} === ${w}`)):h=Se.nil;return m.length&&(h=(0,Se.or)(h,...m.map(w=>(0,Se._)`${(0,sr.usePattern)(e,w)}.test(${$})`))),(0,Se.not)(h)}function C($){t.code((0,Se._)`delete ${o}[${$}]`)}function b($){if(y.removeAdditional==="all"||y.removeAdditional&&r===!1){C($);return}if(r===!1){e.setParams({additionalProperty:$}),e.error(),f||t.break();return}if(typeof r=="object"&&!(0,nr.alwaysValidSchema)(l,r)){const h=t.name("valid");y.removeAdditional==="failing"?(N($,h,!1),t.if((0,Se.not)(h),()=>{e.reset(),C($)})):(N($,h),f||t.if((0,Se.not)(h),()=>t.break()))}}function N($,h,w){const j={keyword:"additionalProperties",dataProp:$,dataPropType:nr.Type.Str};w===!1&&Object.assign(j,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(j,h)}}};or.default=tc;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});const rc=be,go=L,sa=I,$o=or,ac={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:o,it:i}=e;i.opts.removeAdditional==="all"&&a.additionalProperties===void 0&&$o.default.code(new rc.KeywordCxt(i,$o.default,"additionalProperties"));const l=(0,go.allSchemaProperties)(r);for(const g of l)i.definedProperties.add(g);i.opts.unevaluated&&l.length&&i.props!==!0&&(i.props=sa.mergeEvaluated.props(t,(0,sa.toHash)(l),i.props));const f=l.filter(g=>!(0,sa.alwaysValidSchema)(i,r[g]));if(f.length===0)return;const y=t.name("valid");for(const g of f)p(g)?m(g):(t.if((0,go.propertyInData)(t,o,g,i.opts.ownProperties)),m(g),i.allErrors||t.else().var(y,!0),t.endIf()),e.it.definedProperties.add(g),e.ok(y);function p(g){return i.opts.useDefaults&&!i.compositeRule&&r[g].default!==void 0}function m(g){e.subschema({keyword:"properties",schemaProp:g,dataProp:g},y)}}};oa.default=ac;var na={};Object.defineProperty(na,"__esModule",{value:!0});const _o=L,ir=z,wo=I,bo=I,oc={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:a,parentSchema:o,it:i}=e,{opts:l}=i,f=(0,_o.allSchemaProperties)(r),y=f.filter(N=>(0,wo.alwaysValidSchema)(i,r[N]));if(f.length===0||y.length===f.length&&(!i.opts.unevaluated||i.props===!0))return;const p=l.strictSchema&&!l.allowMatchingProperties&&o.properties,m=t.name("valid");i.props!==!0&&!(i.props instanceof ir.Name)&&(i.props=(0,bo.evaluatedPropsToName)(t,i.props));const{props:g}=i;k();function k(){for(const N of f)p&&C(N),i.allErrors?b(N):(t.var(m,!0),b(N),t.if(m))}function C(N){for(const $ in p)new RegExp(N).test($)&&(0,wo.checkStrictMode)(i,`property ${$} matches pattern ${N} (use allowMatchingProperties)`)}function b(N){t.forIn("key",a,$=>{t.if((0,ir._)`${(0,_o.usePattern)(e,N)}.test(${$})`,()=>{const h=y.includes(N);h||e.subschema({keyword:"patternProperties",schemaProp:N,dataProp:$,dataPropType:bo.Type.Str},m),i.opts.unevaluated&&g!==!0?t.assign((0,ir._)`${g}[${$}]`,!0):!h&&!i.allErrors&&t.if((0,ir.not)(m),()=>t.break())})})}}};na.default=oc;var ia={};Object.defineProperty(ia,"__esModule",{value:!0});const sc=I,nc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:a}=e;if((0,sc.alwaysValidSchema)(a,r)){e.fail();return}const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};ia.default=nc;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});const ic=L,cc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:ic.validateUnion,error:{message:"must match a schema in anyOf"}};ca.default=cc;var la={};Object.defineProperty(la,"__esModule",{value:!0});const cr=z,lc=I,dc={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,cr._)`{passingSchemas: ${e.passing}}`},uc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:dc,code(e){const{gen:t,schema:r,parentSchema:a,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&a.discriminator)return;const i=r,l=t.let("valid",!1),f=t.let("passing",null),y=t.name("_valid");e.setParams({passing:f}),t.block(p),e.result(l,()=>e.reset(),()=>e.error(!0));function p(){i.forEach((m,g)=>{let k;(0,lc.alwaysValidSchema)(o,m)?t.var(y,!0):k=e.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},y),g>0&&t.if((0,cr._)`${y} && ${l}`).assign(l,!1).assign(f,(0,cr._)`[${f}, ${g}]`).else(),t.if(y,()=>{t.assign(l,!0),t.assign(f,g),k&&e.mergeEvaluated(k,cr.Name)})})}}};la.default=uc;var da={};Object.defineProperty(da,"__esModule",{value:!0});const fc=I,hc={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const o=t.name("valid");r.forEach((i,l)=>{if((0,fc.alwaysValidSchema)(a,i))return;const f=e.subschema({keyword:"allOf",schemaProp:l},o);e.ok(o),e.mergeEvaluated(f)})}};da.default=hc;var ua={};Object.defineProperty(ua,"__esModule",{value:!0});const lr=z,Eo=I,pc={message:({params:e})=>(0,lr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,lr._)`{failingKeyword: ${e.ifClause}}`},mc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:pc,code(e){const{gen:t,parentSchema:r,it:a}=e;r.then===void 0&&r.else===void 0&&(0,Eo.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const o=Po(a,"then"),i=Po(a,"else");if(!o&&!i)return;const l=t.let("valid",!0),f=t.name("_valid");if(y(),e.reset(),o&&i){const m=t.let("ifClause");e.setParams({ifClause:m}),t.if(f,p("then",m),p("else",m))}else o?t.if(f,p("then")):t.if((0,lr.not)(f),p("else"));e.pass(l,()=>e.error(!0));function y(){const m=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);e.mergeEvaluated(m)}function p(m,g){return()=>{const k=e.subschema({keyword:m},f);t.assign(l,f),e.mergeValidEvaluated(k,l),g?t.assign(g,(0,lr._)`${m}`):e.setParams({ifClause:m})}}}};function Po(e,t){const r=e.schema[t];return r!==void 0&&!(0,Eo.alwaysValidSchema)(e,r)}ua.default=mc;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});const yc=I,vc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,yc.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};fa.default=vc,Object.defineProperty(Zr,"__esModule",{value:!0});const gc=ft,$c=ea,_c=ht,wc=ta,bc=ra,Ec=yo,Pc=aa,Sc=or,Nc=oa,kc=na,Oc=ia,Cc=ca,jc=la,xc=da,Ic=ua,Rc=fa;function Tc(e=!1){const t=[Oc.default,Cc.default,jc.default,xc.default,Ic.default,Rc.default,Pc.default,Sc.default,Ec.default,Nc.default,kc.default];return e?t.push($c.default,wc.default):t.push(gc.default,_c.default),t.push(bc.default),t}Zr.default=Tc;var ha={},pa={};Object.defineProperty(pa,"__esModule",{value:!0});const re=z,Ac={message:({schemaCode:e})=>(0,re.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,re._)`{format: ${e}}`},Dc={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ac,code(e,t){const{gen:r,data:a,$data:o,schema:i,schemaCode:l,it:f}=e,{opts:y,errSchemaPath:p,schemaEnv:m,self:g}=f;if(!y.validateFormats)return;o?k():C();function k(){const b=r.scopeValue("formats",{ref:g.formats,code:y.code.formats}),N=r.const("fDef",(0,re._)`${b}[${l}]`),$=r.let("fType"),h=r.let("format");r.if((0,re._)`typeof ${N} == "object" && !(${N} instanceof RegExp)`,()=>r.assign($,(0,re._)`${N}.type || "string"`).assign(h,(0,re._)`${N}.validate`),()=>r.assign($,(0,re._)`"string"`).assign(h,N)),e.fail$data((0,re.or)(w(),j()));function w(){return y.strictSchema===!1?re.nil:(0,re._)`${l} && !${h}`}function j(){const A=m.$async?(0,re._)`(${N}.async ? await ${h}(${a}) : ${h}(${a}))`:(0,re._)`${h}(${a})`,D=(0,re._)`(typeof ${h} == "function" ? ${A} : ${h}.test(${a}))`;return(0,re._)`${h} && ${h} !== true && ${$} === ${t} && !${D}`}}function C(){const b=g.formats[i];if(!b){w();return}if(b===!0)return;const[N,$,h]=j(b);N===t&&e.pass(A());function w(){if(y.strictSchema===!1){g.logger.warn(D());return}throw new Error(D());function D(){return`unknown format "${i}" ignored in schema at path "${p}"`}}function j(D){const J=D instanceof RegExp?(0,re.regexpCode)(D):y.code.formats?(0,re._)`${y.code.formats}${(0,re.getProperty)(i)}`:void 0,ae=r.scopeValue("formats",{key:i,ref:D,code:J});return typeof D=="object"&&!(D instanceof RegExp)?[D.type||"string",D.validate,(0,re._)`${ae}.validate`]:["string",D,ae]}function A(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!m.$async)throw new Error("async format in sync schema");return(0,re._)`await ${h}(${a})`}return typeof $=="function"?(0,re._)`${h}(${a})`:(0,re._)`${h}.test(${a})`}}}};pa.default=Dc,Object.defineProperty(ha,"__esModule",{value:!0});const Mc=pa,Vc=[Mc.default];ha.default=Vc;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.contentVocabulary=pt.metadataVocabulary=void 0,pt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],pt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"],Object.defineProperty(Dr,"__esModule",{value:!0});const Fc=Mr,Uc=Fr,qc=Zr,Kc=ha,So=pt,zc=[Fc.default,Uc.default,(0,qc.default)(),Kc.default,So.metadataVocabulary,So.contentVocabulary];Dr.default=zc;var ma={},dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.DiscrError=void 0;var No;(function(e){e.Tag="tag",e.Mapping="mapping"})(No||(dr.DiscrError=No={})),Object.defineProperty(ma,"__esModule",{value:!0});const mt=z,ya=dr,ko=pe,Lc=dt,Hc=I,Gc={message:({params:{discrError:e,tagName:t}})=>e===ya.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,mt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Bc={keyword:"discriminator",type:"object",schemaType:"object",error:Gc,code(e){const{gen:t,data:r,schema:a,parentSchema:o,it:i}=e,{oneOf:l}=o;if(!i.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=a.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const y=t.let("valid",!1),p=t.const("tag",(0,mt._)`${r}${(0,mt.getProperty)(f)}`);t.if((0,mt._)`typeof ${p} == "string"`,()=>m(),()=>e.error(!1,{discrError:ya.DiscrError.Tag,tag:p,tagName:f})),e.ok(y);function m(){const C=k();t.if(!1);for(const b in C)t.elseIf((0,mt._)`${p} === ${b}`),t.assign(y,g(C[b]));t.else(),e.error(!1,{discrError:ya.DiscrError.Mapping,tag:p,tagName:f}),t.endIf()}function g(C){const b=t.name("valid"),N=e.subschema({keyword:"oneOf",schemaProp:C},b);return e.mergeEvaluated(N,mt.Name),b}function k(){var C;const b={},N=h(o);let $=!0;for(let A=0;A<l.length;A++){let D=l[A];if(D!=null&&D.$ref&&!(0,Hc.schemaHasRulesButRef)(D,i.self.RULES)){const ae=D.$ref;if(D=ko.resolveRef.call(i.self,i.schemaEnv.root,i.baseId,ae),D instanceof ko.SchemaEnv&&(D=D.schema),D===void 0)throw new Lc.default(i.opts.uriResolver,i.baseId,ae)}const J=(C=D==null?void 0:D.properties)===null||C===void 0?void 0:C[f];if(typeof J!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);$=$&&(N||h(D)),w(J,A)}if(!$)throw new Error(`discriminator: "${f}" must be required`);return b;function h({required:A}){return Array.isArray(A)&&A.includes(f)}function w(A,D){if(A.const)j(A.const,D);else if(A.enum)for(const J of A.enum)j(J,D);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function j(A,D){if(typeof A!="string"||A in b)throw new Error(`discriminator: "${f}" values must be unique strings`);b[A]=D}}}};ma.default=Bc;const Qc="http://json-schema.org/draft-07/schema#",Jc="http://json-schema.org/draft-07/schema#",Wc="Core schema meta-schema",Xc={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Zc=["object","boolean"],Yc={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},el={$schema:Qc,$id:Jc,title:Wc,definitions:Xc,type:Zc,properties:Yc,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=ga,a=Dr,o=ma,i=el,l=["/properties"],f="http://json-schema.org/draft-07/schema";class y extends r.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(i,l):i;this.addMetaSchema(b,f,!1),this.refs["http://json-schema.org/schema"]=f}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(f)?f:void 0)}}t.Ajv=y,e.exports=t=y,e.exports.Ajv=y,Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var p=be;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return p.KeywordCxt}});var m=z;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var g=Ct;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return g.default}});var k=dt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(yr,yr.exports);var Oo=yr.exports;let Co;Co=hl(Oo),qo=Ko({__proto__:null,default:Co},[Oo])});export{yl as __tla,qo as a};
