import{m as e,B as s,e8 as d,em as V,r as o,ft as P,e9 as I,D as W,z as ee,dw as te,fu as ne,dx as se,x as re,__tla as ae}from"./index-mlEuGbHv.js";import{I as oe,u as le,t as ie,h as ce,__tla as de}from"./LogoSizeHelper-CjHf-U09.js";import{U as he,b as pe,i as xe,m as ge,c as ue,__tla as me}from"./UniswapWidget-lh0kHGJ7.js";import{C as fe,__tla as je}from"./ContentLayout-C7YEVnzu.js";import{__tla as Ce}from"./slicedToArray-B66lTA9Z.js";import{__tla as ke}from"./index.es-3VPqQJNg.js";import"./browser-CeceZ__e.js";let Y,ye=Promise.all([(()=>{try{return ae}catch{}})(),(()=>{try{return de}catch{}})(),(()=>{try{return me}catch{}})(),(()=>{try{return je}catch{}})(),(()=>{try{return Ce}catch{}})(),(()=>{try{return ke}catch{}})()]).then(async()=>{let T,R,N,U,F,u,M,L,A,z,B,H,O;T=({steps:n,setActiveStepIndex:a,activeStepIndex:l,config:t})=>{const c=i=>{var h,x;!((h=t==null?void 0:t.restrictedBackwardSteps)!=null&&h.includes(i))&&!((x=t==null?void 0:t.restrictedForwardSteps)!=null&&x.includes(i))&&a(i)};return e.jsx(s,{display:"flex",gap:"s8",children:n.map((i,h)=>e.jsxs(s,{display:"flex",flexDirection:"column",gap:"s3",width:"180px",cursor:"pointer",color:l==h?"pink-500":"gray-500",onClick:()=>c(h),children:[e.jsx(d,{textAlign:"center",variant:"h5-semibold",children:i.label}),e.jsx(s,{height:"4px",borderRadius:"r2",backgroundColor:l==h?"pink-500":"gray-500"})]},h))})},R=n=>{const{svgProps:a,...l}=n;return e.jsx(V,{componentName:"CloudUpload",icon:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"inherit",height:"inherit",viewBox:"0 0 53 52",fill:"none",...a,children:[e.jsx("path",{d:"M16.1888 26.3978L26.7966 15.7901L37.4043 26.3978",stroke:"#C4CBD5","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M27.0618 50.0001V16.8509",stroke:"#C4CBD5","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M21.4927 35.4144H11.1502C8.05625 35.0608 1.86841 32.4972 1.86841 25.0718C1.86841 17.6464 8.05625 14.9061 11.1502 14.4641C11.769 10.3094 15.6585 2 26.2662 2C39.2607 2 41.0286 10.8398 41.9126 16.0553C45.0065 15.9669 51.4596 19.2906 51.4596 26.9282C51.2828 29.7569 49.6032 35.4144 44.2993 35.4144C38.9955 35.4144 34.1336 35.4144 32.3656 35.4144",stroke:"#C4CBD5","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),...l})},N=n=>{const{svgProps:a,...l}=n;return e.jsx(V,{componentName:"Swap",icon:e.jsxs("svg",{width:"inherit",height:"inherit",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[e.jsx("path",{d:"M13.25 5L5 13.25H27",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M18.75 27L27 18.75H5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),...l})},U=()=>e.jsxs(s,{display:"flex",flexDirection:"column",alignItems:"center",gap:"s1",alignSelf:"stretch",children:[e.jsx(d,{variant:"h3-semibold",color:{light:"gray-1000",dark:"gray-100"},children:"Create Your Channel"}),e.jsx(d,{variant:"bs-regular",color:{light:"gray-500",dark:"gray-600"},children:"Creating your own notification channel to manage, send and notify users."})]}),F=n=>{var a=new RegExp("^((?:https|http):\\/\\/)((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!a.test(n)},u=n=>n.trim().length==0,M=({channelName:n,channelDesc:a,channelURL:l,errorInfo:t,setChannelName:c,setChannelDesc:i,setChannelURL:h,checkFormInput:x,setChannelInfoDone:w,setActiveStepIndex:m,handleNextStep:f})=>{const j=()=>!!(u(n)||u(a)||u(l)),k=o.useMemo(j,[n,a,l]);return e.jsxs(s,{display:"flex",flexDirection:"column",alignItems:"center",gap:"s10",alignSelf:"stretch",children:[e.jsxs(s,{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"s4",alignSelf:"stretch",children:[e.jsx(s,{width:"100%",children:e.jsx(P,{required:!0,label:"Channel Name",value:n,onChange:r=>{c(r.target.value.slice(.32))},error:!!(t!=null&&t.name),errorMessage:t.name,totalCount:32})}),e.jsx(s,{width:"100%",children:e.jsx(P,{required:!0,value:a,label:"Channel Description",placeholder:"Get notified about ...",description:"Enter a Brief description of the notifications the user will receive",onChange:r=>{i(r.target.value.slice(0,250))},error:!!(t!=null&&t.description),errorMessage:t.description,totalCount:250})}),e.jsx(s,{width:"100%",children:e.jsx(P,{label:"Channel Website URL",required:!0,value:l,onChange:r=>{h(r.target.value.slice(.32))},error:!!(t!=null&&t.url),errorMessage:t.url,totalCount:32})})]}),e.jsx(I,{disabled:k,onClick:()=>{console.log("Next is clicked"),x()&&(w(!0),f(),m(1))},children:"Next"})]})},L=({view:n,imageSrc:a,imageType:l,croppedImage:t,setView:c,setImageSrc:i,setImageType:h,setCroppedImage:x,setUploadDone:w,setActiveStepIndex:m,handleNextStep:f})=>{const j=o.useRef(),k=async r=>{var S;if(x(void 0),c(!0),(S=r==null?void 0:r.files)==null?void 0:S[0]){var y=new FileReader;y.readAsDataURL(r==null?void 0:r.files[0]),y.onloadend=function(){var b,p;i(y.result),h((p=(b=r==null?void 0:r.files)==null?void 0:b[0])==null?void 0:p.type)}}else return"Nothing...."};return e.jsxs(s,{display:"flex",flexDirection:"column",gap:"s8",alignItems:"center",alignSelf:"stretch",children:[e.jsxs(s,{display:"flex",flexDirection:"column",alignItems:"center",gap:"s8",children:[e.jsx(d,{variant:"bes-regular",color:"gray-500",children:"Upload a PNG, JPG upto 1MB. Crop the image to resize to 128px."}),e.jsxs(s,{width:"500px",padding:"s12 s0",display:"flex",flexDirection:"column",alignItems:"center",border:{light:"1px dashed gray-300",dark:"1px dashed gray-700"},borderRadius:"r6",backgroundColor:{light:"gray-100",dark:"gray-1000"},gap:"s6",children:[n?t?e.jsx(s,{width:"128px",height:"128px",borderRadius:"r5",children:e.jsx("img",{style:{borderRadius:"inherit"},width:"100%",height:"100%",src:t,alt:"Cropped Img"})}):e.jsx(oe,{width:"200px",height:"200px",imageSrc:a,imageType:l,onImageCropped:r=>x(r),ref:j}):e.jsx(R,{size:50}),e.jsxs(s,{display:"flex",gap:"s1",children:[e.jsx(d,{variant:"bs-semibold",color:{light:"gray-1000",dark:"gray-600"},children:" Drag and Drop or"}),e.jsx("label",{htmlFor:"file-upload",children:e.jsx(d,{variant:"bs-semibold",color:{light:"pink-600",dark:"pink-400"},css:W`cursor:pointer;`,children:"Browse to Choose"})})]}),e.jsx("input",{id:"file-upload",accept:"image/*",name:"file-upload",hidden:!0,onChange:r=>{k(r.target)},type:"file",className:"sr-only",readOnly:!0})]})]}),!t&&n?e.jsx(I,{onClick:()=>{j.current.showCroppedImage()},children:"Crop Image"}):e.jsx(I,{disabled:!n&&!t,onClick:()=>{w(!0),f(),m(2)},children:"Next"})]})},A=({mintPushToken:n,noOfPushTokensToCheck:a})=>{const l=ee.appEnv==="prod",{isModalOpen:t,showModal:c,ModalComponent:i}=te();return e.jsxs(s,{display:"flex",padding:"s4 s6",backgroundColor:"pink-200",borderRadius:"r0 r0 r4 r4",justifyContent:"space-between",alignItems:"center",children:[e.jsx(d,{variant:"c-regular",color:"gray-1000",children:l?"Your balance is low. Swap to get PUSH Tokens.":"Follow these steps to get Testnet PUSH."}),l?e.jsx(I,{size:"extraSmall",leadingIcon:e.jsx(N,{}),onClick:c,children:"Swap PUSH Token"}):e.jsxs(s,{display:"flex",gap:"s3",children:[e.jsx(ne,{to:"https://chaindrop.org/?chainid=11155111&token=0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",target:"_blank",children:e.jsxs(s,{display:"flex",gap:"s2",alignItems:"baseline",color:"pink-600",cursor:"pointer",children:[e.jsx(s,{border:"1px solid pink-600",width:"16px",height:"15px",borderRadius:"r10",display:"flex",justifyContent:"center",children:e.jsx(d,{variant:"c-regular",children:"1"})}),e.jsx(d,{children:"Sepolia ETH Faucet"})]})}),e.jsxs(s,{display:"flex",gap:"s2",alignItems:"baseline",color:"pink-600",cursor:"pointer",onClick:()=>n(1e3),children:[e.jsx(s,{border:"1px solid pink-600",width:"16px",height:"15px",borderRadius:"r10",display:"flex",justifyContent:"center",children:e.jsx(d,{variant:"c-regular",children:"2"})}),e.jsx(d,{children:"Get Testnet Push"})]})]}),t&&e.jsx(i,{InnerComponent:he,InnerComponentProps:{defaultPushTokenAmount:a},modalPadding:"0px",modalPosition:se.ON_ROOT})]})},z=({channelStakeFees:n,handleCreateChannel:a,setStakeFeesChoosen:l})=>{const{provider:t,account:c,isWalletConnected:i,connect:h}=re(),{loading:x,error:w,executeAsyncFunction:m}=le(xe),[f,j]=o.useState(0),[k,r]=o.useState(!1),y=async C=>{if(i||h(),i){r(!0);const D=await ge({noOfTokens:C,provider:t,account:c});console.log("Token Minted >>>",D),r(!1),j(D)}},S=async()=>{const C=await ue({address:c,provider:t});console.log("Amount in the wallet >>",C),j(C)};o.useEffect(()=>{S(),E()},[f,c]);const b=async()=>{await m()},[p,_]=o.useState(!1),E=async()=>{const C=await pe({address:c,provider:t,noOfPushTokensToCheck:50});console.log("Has Enough Push Token >>>",C),_(!C)};return e.jsxs(s,{display:"flex",flexDirection:"column",alignSelf:"stretch",justifyContent:"center",gap:"s10",children:[e.jsxs(s,{display:"flex",flexDirection:"column",gap:"s4",children:[e.jsxs(s,{display:"flex",flexDirection:"column",alignSelf:"stretch",children:[e.jsxs(s,{display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:{light:"gray-100",dark:"gray-1000"},borderRadius:!k&&p?"r4 r4 r0 r0":"r4",padding:"s4 s6",alignItems:"center",children:[e.jsx(d,{variant:"h4-semibold",color:{light:"gray-1000",dark:"gray-100"},children:"Amout For Staking"}),e.jsxs(s,{children:[e.jsxs(d,{variant:"h4-semibold",color:{light:"pink-500",dark:"pink-400"},children:[n," PUSH"]}),e.jsxs(d,{variant:"bes-semibold",color:"gray-500",children:["Balance: ",f==null?void 0:f.toLocaleString()]})]})]}),!k&&p&&e.jsx(A,{mintPushToken:y,noOfPushTokensToCheck:50})]}),e.jsxs(s,{display:"flex",flexDirection:"row",gap:"s1",justifyContent:"center",children:[e.jsx(d,{variant:"bes-semibold",color:"gray-500",children:"Don't see Push token in your wallet?"}),e.jsx(d,{css:W`
              cursor: pointer;
            `,variant:"bes-semibold",color:"pink-500",onClick:b,children:"Import Token"})]})]}),e.jsx(s,{display:"flex",justifyContent:"center",children:e.jsx(I,{onClick:()=>{l(!0),a()},children:"Create Channel"})})]})},B=[{label:"Channel Info"},{label:"Upload Logo"},{label:"Stake Fees"}],H=50,O=()=>{const[n,a]=o.useState(0),[l,t]=o.useState(H);let c=[1,2];const[i,h]=o.useState(""),[x,w]=o.useState(""),[m,f]=o.useState(""),[j,k]=o.useState(!1),[r,y]=o.useState(void 0),[S,b]=o.useState(void 0),[p,_]=o.useState(void 0),[E,C]=o.useState(void 0),[D,J]=o.useState(!1),[we,$]=o.useState(!1),[Se,K]=o.useState(!1),[Q,v]=o.useState({name:"",description:"",url:""});o.useEffect(()=>{p&&(console.debug("Image cropped",p),ie(p,function(g){const q=ce(g);console.debug("response",q),q.success&&(console.debug("Cropped Image....",p),C(p))}))},[p]);const X=()=>(v(()=>({name:"",description:"",url:""})),u(i)||u(x)||u(m)?(u(i)&&v(g=>({...g,name:"Please, enter the channel name."})),u(x)&&v(g=>({...g,description:"Please, enter the channel description"})),u(m)&&v(g=>({...g,url:"Please, enter the channel url"})),!1):F(m)?!0:(v(g=>({...g,url:"Channel URL is invalid! Please enter a valid url!"})),!1)),G=()=>{n<2&&a(n+1)};c=c.filter(g=>g!==n),console.debug(c);const Z=()=>{};return e.jsxs(s,{padding:"s8",backgroundColor:{light:"white",dark:"gray-900"},borderRadius:"r8",width:"584px",display:"flex",flexDirection:"column",alignItems:"center",gap:"s10",children:[e.jsx(U,{}),e.jsxs(s,{display:"flex",flexDirection:"column",gap:"s8",alignItems:"center",alignSelf:"stretch",children:[e.jsx(T,{steps:B,activeStepIndex:n,setActiveStepIndex:a,config:{restrictedForwardSteps:c}}),n==0&&e.jsx(M,{channelName:i,channelDesc:x,channelURL:m,errorInfo:Q,setChannelName:h,setChannelDesc:w,setChannelURL:f,checkFormInput:X,setChannelInfoDone:J,setActiveStepIndex:a,handleNextStep:G}),n===1&&e.jsx(L,{view:j,imageSrc:r,imageType:S,croppedImage:p,setView:k,setImageSrc:y,setImageType:b,setCroppedImage:_,setUploadDone:$,setActiveStepIndex:a,handleNextStep:G}),n===2&&e.jsx(z,{channelStakeFees:l,handleCreateChannel:Z,setStakeFeesChoosen:K})]})]})},Y=()=>e.jsx(fe,{children:e.jsx(O,{})})});export{ye as __tla,Y as default};
