import{m as n,D as $,eh as V,B as yi,e5 as Bt,e6 as ye,e4 as St,hl as vi,hm as Gl,r as R,hn as ge,ho as Tt,hp as We,hq as $e,hr as kt,ec as _t,hs as Hl,eb as de,ht as nn,hu as Ci,hv as Wl,hw as Mt,hx as rn,hy as _e,hz as Ii,hA as Ei,q as E,X as he,eI as ne,dj as $l,dk as ql,de as X,I as le,d2 as xe,eF as an,_ as ji,fQ as Yl,eG as Ce,x as we,d8 as Bi,dd as qe,d6 as Me,z as fe,c$ as Z,d9 as Jl,hB as Vl,hC as Ye,hD as Kl,E as Re,n as Rt,L as Qt,R as ee,dl as on,d1 as K,dD as je,eO as Be,eJ as oe,d4 as ce,dJ as sn,dK as ln,hE as cn,eY as Xl,dq as Ie,f9 as Je,eE as Si,hF as Ti,eK as Zl,f$ as dn,ew as hn,dF as Qe,fD as ec,dG as De,hG as un,hH as tc,dE as ki,eL as _i,db as nc,hI as ic,hJ as rc,hK as ac,hL as Dt,fl as Mi,er as pn,ds as gn,hM as oc,A as sc,dg as lc,dm as cc,hN as dc,s as Ri,h1 as Ut,hO as hc,hP as uc,h4 as pc,hQ as gc,e1 as Ve,hR as Qi,dR as Di,gO as fc,hS as mc,hT as Ac,hU as Ui,gb as Pt,ei as Ue,gd as xc,fY as wc,g9 as Pi,hV as bc,dH as yc,hW as vc,hX as Cc,hY as Ic,d0 as Se,hZ as Ec,h_ as jc,h$ as Bc,i0 as Sc,i1 as fn,d3 as Tc,S as kc,__tla as _c}from"./index-Bou2qmH6.js";import{S as Mc,N as Rc,__tla as Qc}from"./RedCircle-ClvFGoD6.js";import{M as Li,g as Oi,S as Dc,F as Fi,m as mn,a as Ni,C as zi,b as Gi,U as Uc,c as Pc,i as Lc,__tla as Oc}from"./ChannelInfoList-BDtpG_VL.js";import{T as Fc,__tla as Nc}from"./Tag-Bn_RBOcw.js";import{M as zc,a as Gc,__tla as Hc}from"./EmptyNotificationSettings-9ypViiwV.js";import{c as Hi,a as An,b as Wc,u as Wi,__tla as $c}from"./index.esm-B2PolbhO.js";import{E as qc,__tla as Yc}from"./ErrorFilled-CwxK6nTf.js";import{u as $i,__tla as Jc}from"./useMutation-DRDhs8zi.js";import{__tla as Vc}from"./TransitionGroupContext-CtCulzZi.js";import{__tla as Kc}from"./index.es-CdE-UdSd.js";import"./browser-CeceZ__e.js";import{__tla as Xc}from"./index.esm-BIcxgKPI.js";let qi,Zc=Promise.all([(()=>{try{return _c}catch{}})(),(()=>{try{return Qc}catch{}})(),(()=>{try{return Oc}catch{}})(),(()=>{try{return Nc}catch{}})(),(()=>{try{return Hc}catch{}})(),(()=>{try{return $c}catch{}})(),(()=>{try{return Yc}catch{}})(),(()=>{try{return Jc}catch{}})(),(()=>{try{return Vc}catch{}})(),(()=>{try{return Kc}catch{}})(),(()=>{try{return Xc}catch{}})()]).then(async()=>{const Yi=({steps:e,setActiveStepIndex:i,completedSteps:t})=>{const r=a=>{t!=null&&t.includes(a)&&i(a)};return n.jsx($,{display:"flex",gap:"s8",width:"-webkit-fill-available",children:e.map((a,c)=>n.jsxs($,{display:"flex",flexDirection:"column",gap:"s3",width:"inherit",cursor:"pointer",color:t.includes(c)?"pink-500":"gray-500",onClick:()=>r(c),children:[n.jsx(V,{textAlign:"center",variant:"h5-semibold",display:{ml:"none",dp:"block"},children:a.label}),n.jsx(V,{textAlign:"center",variant:"h6-semibold",display:{ml:"block",dp:"none"},children:a.label}),n.jsx($,{height:"4px",borderRadius:"r2",backgroundColor:t.includes(c)?"pink-500":"gray-500"})]},c))})},Ji=e=>{const{svgProps:i,...t}=e;return n.jsx(yi,{componentName:"CloudUpload",icon:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"inherit",height:"inherit",viewBox:"0 0 53 52",fill:"none",...i,children:[n.jsx("path",{d:"M16.1888 26.3978L26.7966 15.7901L37.4043 26.3978",stroke:"#C4CBD5","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.jsx("path",{d:"M27.0618 50.0001V16.8509",stroke:"#C4CBD5","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"}),n.jsx("path",{d:"M21.4927 35.4144H11.1502C8.05625 35.0608 1.86841 32.4972 1.86841 25.0718C1.86841 17.6464 8.05625 14.9061 11.1502 14.4641C11.769 10.3094 15.6585 2 26.2662 2C39.2607 2 41.0286 10.8398 41.9126 16.0553C45.0065 15.9669 51.4596 19.2906 51.4596 26.9282C51.2828 29.7569 49.6032 35.4144 44.2993 35.4144C38.9955 35.4144 34.1336 35.4144 32.3656 35.4144",stroke:"#C4CBD5","stroke-width":"2.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),...t})},Vi=e=>{const{svgProps:i,...t}=e;return n.jsx(yi,{componentName:"Swap",icon:n.jsxs("svg",{width:"inherit",height:"inherit",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,children:[n.jsx("path",{d:"M13.25 5L5 13.25H27",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),n.jsx("path",{d:"M18.75 27L27 18.75H5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]}),...t})},Ki=async e=>{const{channelType:i,identityBytes:t,fees:r,signer:a}=e;return(await new Bt(ye.epnscore,St.epnscore,a).createChannelWithPUSH(i,t,r,0,{gasLimit:6e5})).wait()},Xi=async e=>{const{noOfTokenToApprove:i,signer:t}=e;return(await new Bt(ye.pushToken,St.pushToken,t).approve(ye.epnscore,i)).wait()};function Zi(e,i=0,t=1){return Gl(e,i,t)}function er(e){e=e.slice(1);const i=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let t=e.match(i);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,a)=>a<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function xn(e){if(e.type)return e;if(e.charAt(0)==="#")return xn(er(e));const i=e.indexOf("("),t=e.substring(0,i);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(vi(9,e));let r=e.substring(i+1,e.length-1),a;if(t==="color"){if(r=r.split(" "),a=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(a)===-1)throw new Error(vi(10,a))}else r=r.split(",");return r=r.map(c=>parseFloat(c)),{type:t,values:r,colorSpace:a}}function tr(e){const{type:i,colorSpace:t}=e;let{values:r}=e;return i.indexOf("rgb")!==-1?r=r.map((a,c)=>c<3?parseInt(a,10):a):i.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),i.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${i}(${r})`}function nr(e,i){return e=xn(e),i=Zi(i),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${i}`:e.values[3]=i,tr(e)}function ir(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function rr(e){return parseFloat(e)}function ar(e){const{className:i,classes:t,pulsate:r=!1,rippleX:a,rippleY:c,rippleSize:d,in:o,onExited:l,timeout:p}=e,[u,s]=R.useState(!1),g=ge(i,t.ripple,t.rippleVisible,r&&t.ripplePulsate),h={width:d,height:d,top:-(d/2)+c,left:-(d/2)+a},f=ge(t.child,u&&t.childLeaving,r&&t.childPulsate);return!o&&!u&&s(!0),R.useEffect(()=>{if(!o&&l!=null){const A=setTimeout(l,p);return()=>{clearTimeout(A)}}},[l,o,p]),n.jsx("span",{className:g,style:h,children:n.jsx("span",{className:f})})}const pe=Tt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),or=["center","classes","className"];let Ke=e=>e,wn,bn,yn,vn;const Lt=550,sr=80,lr=We(wn||(wn=Ke`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),cr=We(bn||(bn=Ke`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),dr=We(yn||(yn=Ke`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),hr=$e("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ur=$e(ar,{name:"MuiTouchRipple",slot:"Ripple"})(vn||(vn=Ke`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),pe.rippleVisible,lr,Lt,({theme:e})=>e.transitions.easing.easeInOut,pe.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,pe.child,pe.childLeaving,cr,Lt,({theme:e})=>e.transitions.easing.easeInOut,pe.childPulsate,dr,({theme:e})=>e.transitions.easing.easeInOut),pr=R.forwardRef(function(e,i){const t=kt({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:a={},className:c}=t,d=_t(t,or),[o,l]=R.useState([]),p=R.useRef(0),u=R.useRef(null);R.useEffect(()=>{u.current&&(u.current(),u.current=null)},[o]);const s=R.useRef(!1),g=Hl(),h=R.useRef(null),f=R.useRef(null),A=R.useCallback(b=>{const{pulsate:j,rippleX:S,rippleY:_,rippleSize:I,cb:C}=b;l(Q=>[...Q,n.jsx(ur,{classes:{ripple:ge(a.ripple,pe.ripple),rippleVisible:ge(a.rippleVisible,pe.rippleVisible),ripplePulsate:ge(a.ripplePulsate,pe.ripplePulsate),child:ge(a.child,pe.child),childLeaving:ge(a.childLeaving,pe.childLeaving),childPulsate:ge(a.childPulsate,pe.childPulsate)},timeout:Lt,pulsate:j,rippleX:S,rippleY:_,rippleSize:I},p.current)]),p.current+=1,u.current=C},[a]),x=R.useCallback((b={},j={},S=()=>{})=>{const{pulsate:_=!1,center:I=r||j.pulsate,fakeElement:C=!1}=j;if((b==null?void 0:b.type)==="mousedown"&&s.current){s.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(s.current=!0);const Q=C?null:f.current,T=Q?Q.getBoundingClientRect():{width:0,height:0,left:0,top:0};let B,O,U;if(I||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)B=Math.round(T.width/2),O=Math.round(T.height/2);else{const{clientX:F,clientY:P}=b.touches&&b.touches.length>0?b.touches[0]:b;B=Math.round(F-T.left),O=Math.round(P-T.top)}if(I)U=Math.sqrt((2*T.width**2+T.height**2)/3),U%2===0&&(U+=1);else{const F=Math.max(Math.abs((Q?Q.clientWidth:0)-B),B)*2+2,P=Math.max(Math.abs((Q?Q.clientHeight:0)-O),O)*2+2;U=Math.sqrt(F**2+P**2)}b!=null&&b.touches?h.current===null&&(h.current=()=>{A({pulsate:_,rippleX:B,rippleY:O,rippleSize:U,cb:S})},g.start(sr,()=>{h.current&&(h.current(),h.current=null)})):A({pulsate:_,rippleX:B,rippleY:O,rippleSize:U,cb:S})},[r,A,g]),w=R.useCallback(()=>{x({},{pulsate:!0})},[x]),v=R.useCallback((b,j)=>{if(g.clear(),(b==null?void 0:b.type)==="touchend"&&h.current){h.current(),h.current=null,g.start(0,()=>{v(b,j)});return}h.current=null,l(S=>S.length>0?S.slice(1):S),u.current=j},[g]);return R.useImperativeHandle(i,()=>({pulsate:w,start:x,stop:v}),[w,x,v]),n.jsx(hr,de({className:ge(pe.root,a.root,c),ref:f},d,{children:n.jsx(Fc,{component:null,exit:!0,children:o})}))});function gr(e){return nn("MuiButtonBase",e)}const fr=Tt("MuiButtonBase",["root","disabled","focusVisible"]),mr=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Ar=e=>{const{disabled:i,focusVisible:t,focusVisibleClassName:r,classes:a}=e,c=rn({root:["root",i&&"disabled",t&&"focusVisible"]},gr,a);return t&&r&&(c.root+=` ${r}`),c},xr=$e("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,i)=>i.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${fr.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),wr=R.forwardRef(function(e,i){const t=kt({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:a=!1,children:c,className:d,component:o="button",disabled:l=!1,disableRipple:p=!1,disableTouchRipple:u=!1,focusRipple:s=!1,LinkComponent:g="a",onBlur:h,onClick:f,onContextMenu:A,onDragLeave:x,onFocus:w,onFocusVisible:v,onKeyDown:b,onKeyUp:j,onMouseDown:S,onMouseLeave:_,onMouseUp:I,onTouchEnd:C,onTouchMove:Q,onTouchStart:T,tabIndex:B=0,TouchRippleProps:O,touchRippleRef:U,type:F}=t,P=_t(t,mr),m=R.useRef(null),y=R.useRef(null),k=Ci(y,U),{isFocusVisibleRef:D,onFocus:M,onBlur:z,ref:L}=Wl(),[N,G]=R.useState(!1);l&&N&&G(!1),R.useImperativeHandle(r,()=>({focusVisible:()=>{G(!0),m.current.focus()}}),[]);const[Y,se]=R.useState(!1);R.useEffect(()=>{se(!0)},[]);const ie=Y&&!p&&!l;R.useEffect(()=>{N&&s&&!p&&Y&&y.current.pulsate()},[p,s,N,Y]);function te(H,wi,zl=u){return Mt(bi=>(wi&&wi(bi),!zl&&y.current&&y.current[H](bi),!0))}const q=te("start",S),re=te("stop",A),me=te("stop",x),W=te("stop",I),J=te("stop",H=>{N&&H.preventDefault(),_&&_(H)}),ae=te("start",T),Ae=te("stop",C),be=te("stop",Q),ze=te("stop",H=>{z(H),D.current===!1&&G(!1),h&&h(H)},!1),Et=Mt(H=>{m.current||(m.current=H.currentTarget),M(H),D.current===!0&&(G(!0),v&&v(H)),w&&w(H)}),Ge=()=>{const H=m.current;return o&&o!=="button"&&!(H.tagName==="A"&&H.href)},tn=R.useRef(!1),Ll=Mt(H=>{s&&!tn.current&&N&&y.current&&H.key===" "&&(tn.current=!0,y.current.stop(H,()=>{y.current.start(H)})),H.target===H.currentTarget&&Ge()&&H.key===" "&&H.preventDefault(),b&&b(H),H.target===H.currentTarget&&Ge()&&H.key==="Enter"&&!l&&(H.preventDefault(),f&&f(H))}),Ol=Mt(H=>{s&&H.key===" "&&y.current&&N&&!H.defaultPrevented&&(tn.current=!1,y.current.stop(H,()=>{y.current.pulsate(H)})),j&&j(H),f&&H.target===H.currentTarget&&Ge()&&H.key===" "&&!H.defaultPrevented&&f(H)});let jt=o;jt==="button"&&(P.href||P.to)&&(jt=g);const He={};jt==="button"?(He.type=F===void 0?"button":F,He.disabled=l):(!P.href&&!P.to&&(He.role="button"),l&&(He["aria-disabled"]=l));const Fl=Ci(i,L,m),xi=de({},t,{centerRipple:a,component:o,disabled:l,disableRipple:p,disableTouchRipple:u,focusRipple:s,tabIndex:B,focusVisible:N}),Nl=Ar(xi);return n.jsxs(xr,de({as:jt,className:ge(Nl.root,d),ownerState:xi,onBlur:ze,onClick:f,onContextMenu:re,onFocus:Et,onKeyDown:Ll,onKeyUp:Ol,onMouseDown:q,onMouseLeave:J,onMouseUp:W,onDragLeave:me,onTouchEnd:Ae,onTouchMove:be,onTouchStart:ae,ref:Fl,tabIndex:l?-1:B,type:F},He,P,{children:[c,ie?n.jsx(pr,de({ref:k,center:a},O)):null]}))});function br(e){return nn("MuiIconButton",e)}const yr=Tt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),vr=["edge","children","className","color","disabled","disableFocusRipple","size"],Cr=e=>{const{classes:i,disabled:t,color:r,edge:a,size:c}=e,d={root:["root",t&&"disabled",r!=="default"&&`color${_e(r)}`,a&&`edge${_e(a)}`,`size${_e(c)}`]};return rn(d,br,i)},Ir=$e(wr,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:t}=e;return[i.root,t.color!=="default"&&i[`color${_e(t.color)}`],t.edge&&i[`edge${_e(t.edge)}`],i[`size${_e(t.size)}`]]}})(({theme:e,ownerState:i})=>de({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!i.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ii(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},i.edge==="start"&&{marginLeft:i.size==="small"?-3:-12},i.edge==="end"&&{marginRight:i.size==="small"?-3:-12}),({theme:e,ownerState:i})=>{var t;const r=(t=(e.vars||e).palette)==null?void 0:t[i.color];return de({},i.color==="inherit"&&{color:"inherit"},i.color!=="inherit"&&i.color!=="default"&&de({color:r==null?void 0:r.main},!i.disableRipple&&{"&:hover":de({},r&&{backgroundColor:e.vars?`rgba(${r.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ii(r.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),i.size==="small"&&{padding:5,fontSize:e.typography.pxToRem(18)},i.size==="large"&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${yr.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})}),Er=R.forwardRef(function(e,i){const t=kt({props:e,name:"MuiIconButton"}),{edge:r=!1,children:a,className:c,color:d="default",disabled:o=!1,disableFocusRipple:l=!1,size:p="medium"}=t,u=_t(t,vr),s=de({},t,{edge:r,color:d,disabled:o,disableFocusRipple:l,size:p}),g=Cr(s);return n.jsx(Ir,de({className:ge(g.root,c),centerRipple:!0,focusRipple:!l,disabled:o,ref:i},u,{ownerState:s,children:a}))});function jr(e){return nn("MuiSkeleton",e)}Tt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const Br=["animation","className","component","height","style","variant","width"];let Xe=e=>e,Cn,In,En,jn;const Sr=e=>{const{classes:i,variant:t,animation:r,hasChildren:a,width:c,height:d}=e;return rn({root:["root",t,r,a&&"withChildren",a&&!c&&"fitContent",a&&!d&&"heightAuto"]},jr,i)},Tr=We(Cn||(Cn=Xe`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),kr=We(In||(In=Xe`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),_r=$e("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,i)=>{const{ownerState:t}=e;return[i.root,i[t.variant],t.animation!==!1&&i[t.animation],t.hasChildren&&i.withChildren,t.hasChildren&&!t.width&&i.fitContent,t.hasChildren&&!t.height&&i.heightAuto]}})(({theme:e,ownerState:i})=>{const t=ir(e.shape.borderRadius)||"px",r=rr(e.shape.borderRadius);return de({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:nr(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},i.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${t}/${Math.round(r/.6*10)/10}${t}`,"&:empty:before":{content:'"\\00a0"'}},i.variant==="circular"&&{borderRadius:"50%"},i.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},i.hasChildren&&{"& > *":{visibility:"hidden"}},i.hasChildren&&!i.width&&{maxWidth:"fit-content"},i.hasChildren&&!i.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&Ei(En||(En=Xe`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Tr),({ownerState:e,theme:i})=>e.animation==="wave"&&Ei(jn||(jn=Xe`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),kr,(i.vars||i).palette.action.hover)),Ze=R.forwardRef(function(e,i){const t=kt({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:a,component:c="span",height:d,style:o,variant:l="text",width:p}=t,u=_t(t,Br),s=de({},t,{animation:r,component:c,variant:l,hasChildren:!!u.children}),g=Sr(s);return n.jsx(_r,de({as:c,ref:i,className:ge(g.root,a),ownerState:s},u,{style:de({width:p,height:d},o)}))}),Bn=()=>(he(),n.jsxs(ne,{children:[n.jsxs(Mr,{children:[n.jsxs(Rr,{children:[n.jsx(Ze,{variant:"rectangular",sx:{bgcolor:"#F4F5FA"},style:{width:"8rem",height:"8rem",borderRadius:"32px",marginRight:"2%"}}),n.jsxs(Qr,{children:[n.jsx(Ze,{variant:"rectangular",sx:{bgcolor:"#F4F5FA"},style:{width:"40%",height:"2.2rem",borderRadius:"5px",marginTop:"3%"}}),n.jsx(Ze,{variant:"rectangular",sx:{bgcolor:"#F4F5FA"},style:{width:"20%",height:"1.1rem",borderRadius:"5px",marginTop:"2%"}})]})]}),n.jsx(Ze,{variant:"rectangular",sx:{bgcolor:"#F4F5FA"},style:{width:"100%",height:"2.7rem",borderRadius:"9px",marginTop:"4%"}})]}),n.jsx(ne,{padding:"40px 0 40px 0",children:n.jsx($l,{type:ql.SEAMLESS,title:"Loading Channel Details. Please wait..."})})]})),Mr=E.div`
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`,Rr=E.div`
  width: 100%;
  height: fit-content;
  display: flex;
`,Qr=E.div`
  width: 80%;
  height: fit-content;
  display: flex;
  flex-direction: column;
`,Dr=()=>{var t,r;const e=he(),{aliasDetails:{aliasChainId:i}}=X(a=>a.admin);return n.jsxs(le,{margin:"15px 20px 15px 20px",flex:"1",display:"flex",direction:"column",children:[n.jsxs(xe,{textAlign:"center",margin:"30px 0px 0px 0px",color:e.color,size:"16px",textTransform:"none",weight:"500",children:["We\u2019re setting up your channel on the ",(r=(t=an[i])==null?void 0:t.label)==null?void 0:r.split(" ")[0]," Alias Network."]})," ",n.jsx(xe,{textAlign:"center",margin:"5px 0px 60px 0px",color:e.color,size:"16px",textTransform:"none",weight:"500",children:"This usually takes around 5 minutes."}),n.jsxs(le,{display:"flex",direction:"row",align:"center",margin:"50px 0px",children:[n.jsx(ji,{color:"#cf1c84",loading:!0,height:13,width:4}),n.jsx(Yl,{margin:"auto 15px",textTransform:"none",color:e.color,size:"16px",weight:"600",children:"Processing"})]})]})},Ur=()=>{var r;Ce();const e=he(),{switchChain:i}=we(),{aliasDetails:{aliasChainId:t}}=X(a=>a.admin);return n.jsxs(le,{margin:"15px 20px 15px 20px",flex:"1",display:"flex",direction:"column",children:[n.jsxs(xe,{textAlign:"center",margin:"30px 0px 0px 0px",color:e.color,size:"16px",textTransform:"none",weight:"500",line:"24px",children:["Change your wallet network to ",n.jsx(Pr,{children:(r=an[t])==null?void 0:r.label})," to start ",n.jsx("br",{}),"verifying your Channel Alias."]}),n.jsx(le,{width:"12.2em",self:"center",align:"center",margin:"100px auto 50px auto",children:n.jsx(Bi,{bg:"#e20880",color:"#fff",radius:"15px",padding:"20px 20px",onClick:()=>i(t),children:n.jsx(xe,{color:"#fff",weight:"600",textTransform:"none",line:"22px",size:"16px",children:"Change Network"})})})]})},Pr=E.b`
  color: #cf1c84;
`,Lr=({aliasEthAccount:e,setAliasVerified:i})=>{const t=he(),{account:r,provider:a,chainId:c}=we(),d=a.getSigner(r),o=qe(),l=new Bt(an[c].commAddress,St.epnsComm,d),[p,u]=R.useState(""),[s,g]=R.useState(!1),h=e,f={80002:{label:"Amoy MATIC",url:"https://faucet.polygon.technology/"},97:{label:"Testnet BNB",url:"https://testnet.bnbchain.org/faucet-smart"},11155420:{label:"Sepolia OpETH",url:"https://faucet.quicknode.com/optimism/sepolia"},2442:{label:"Polygon zkEVM ETH",url:"https://faucet.polygon.technology/"},421614:{label:"Sepolia ArbETH",url:"https://faucet.quicknode.com/arbitrum/sepolia"},123:{label:"Fuse SPARK",url:"https://chaindrop.org/?chainid=123&token=0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"},111557560:{label:"Cyber ETH",url:"https://cyber-testnet.testnets.rollbridge.app/"}},A=async()=>{h==e&&w()},x=async()=>{const{aliasVerified:v}=await Kl({account:r,chainId:c}).then(b=>b?(o(i(b.is_alias_verified)),{aliasVerified:b.is_alias_verified}):{aliasVerified:null});return{aliasVerified:v}},w=()=>{u("Processing"),l.verifyChannelAlias(h).then(async v=>{console.debug(v),u("Transaction Sent! It usually takes 5mins to verify."),await v.wait(1),setTimeout(()=>{u("Transaction Mined!")},2e3),setTimeout(()=>{u("Loading...")},2e3);const b=setInterval(async()=>{const{aliasVerified:j}=await x();j&&(setTimeout(()=>{g(!0)},1e3),clearInterval(b),o(Ye(0)))},5e3)}).catch(()=>{u("There was an error"),setTimeout(()=>{u("")},2e3)})};return n.jsxs(le,{margin:"15px 20px 15px 20px",flex:"1",display:"flex",direction:"column",children:[n.jsx(Me,{textAlign:"center",margin:"60px 0px 0px 0px",color:t.color,fontSize:"16px",textTransform:"none",fontWeight:"500",lineHeight:"24px",maxWidth:"400px",children:"You\u2019re almost there! Verify the Channel Alias to enable sending notifications from it."}),p===""&&n.jsx(xe,{textAlign:"center",margin:"60px 0px 0px 0px",color:"#CF1C84",size:"16px",textTransform:"none",weight:"500",line:"24px",children:r}),p===""&&fe.appEnv!=="prod"&&n.jsxs(Me,{padding:"10px",margin:"10px",borderRadius:Z.ADJUSTMENTS.RADIUS.SMALL,background:t.default.secondaryBg,color:t.default.secondaryColor,children:["You will need"," ",n.jsx(Jl,{href:f[c].url,target:"_blank",children:f[c].label})," ","to proceed."]}),!s&&(p?n.jsxs(le,{display:"flex",direction:"row",align:"center",margin:"60px 0px 0px 0px",children:[n.jsx(ji,{color:"#cf1c84",loading:!0,height:13,width:4}),n.jsx(xe,{color:t.color,weight:"600",textTransform:"none",line:"22px",size:"16px",margin:"0px 10px",children:p})]}):n.jsx(le,{width:"15em",self:"center",align:"center",margin:"60px auto 0px auto",children:n.jsx(Bi,{bg:"#e20880",color:"#fff",radius:"15px",padding:"20px 10px",onClick:A,children:n.jsx(xe,{color:"#fff",weight:"600",textTransform:"none",line:"22px",size:"16px",children:"Verify Alias Address"})})})),s&&n.jsxs(le,{display:"flex",direction:"row",align:"center",margin:"60px 0px 0px 0px",children:[n.jsx(Vl,{color:"#30CC8B",size:30}),n.jsx(xe,{color:t.color,weight:"600",textTransform:"none",line:"22px",size:"16px",margin:"0px 10px",children:"Verification Complete"})]})]})},Or=({aliasEthAccount:e,setAliasVerified:i})=>{const{processingState:t}=X(r=>r.channelCreation);return n.jsxs(Rt,{children:[n.jsxs(Fr,{children:[n.jsxs(Ft,{type:t>=1?"active":"inactive",active:t==1?"active":"inactive",children:[n.jsx("div",{children:"Waiting for Setup"}),n.jsx(Ot,{type:t>=1?"active":"inactive"})]}),n.jsxs(Ft,{type:t>=2?"active":"inactive",active:t==2?"active":"inactive",children:[n.jsx("div",{children:"Change Network"}),n.jsx(Ot,{type:t>=2?"active":"inactive"})]}),n.jsxs(Ft,{type:t>=3?"active":"inactive",active:t==3?"active":"inactive",children:[n.jsx("div",{children:"Verify Alias Network"}),n.jsx(Ot,{type:t>=3?"active":"inactive"})]}),n.jsx(Nr,{})]}),t===1&&n.jsx(Dr,{}),t===2&&n.jsx(Ur,{}),t===3&&n.jsx(Lr,{aliasEthAccount:e,setAliasVerified:i})]})},Fr=E.div`
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: flex-end;
  margin: 50px 0px 0px 0px;
  @media (max-width: 768px) {
    display: flex;
    margin: 0px 0px 0px 0px;
  }
  @media (max-width: 1224px) {
    display: flex;
    flex-direction: row;
  }
`,Ot=E.div`
  height: 5px;
  width: 100%;
  background: #cfd7e4;
  border-radius: 13px;

  ${({type:e})=>e==="active"&&Re`
      background: #e20880;
    `};
`,Nr=E.div`
  position: absolute;
  height: 5px;
  background: #f1f1f1;
  right: 0;
  left: 0;
  margin: 0px 10px;
  z-index: -1;
`,Ft=E.div`
  position: relative;
  width: 200px;
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  margin: 0px 10px;
  color: #657795;
  div {
    margin: 5px 0px;
    font-style: normal;
    font-weight: 600;
    font-size: 16px;
  }

  @media (max-width: 768px) {
    width: 100%;
    margin: 0px 4px;
    div {
      font-weight: 500;
      font-size: 15px;
    }
  }

  ${({type:e})=>e==="active"&&Re`
      color: #e20880;
      @media (max-width: 768px) {
          width: 100%;
    }
    `};

  ${({active:e})=>e==="active"&&Re`
      color: #e20880;
      @media (max-width: 768px) {
          width: 100%;
    }
    `};

    ${({active:e})=>e==="inactive"&&Re`
    @media (max-width: 768px) {
      width: 40%;
        div {
          font-size: 0px;
            @media (max-width: 768px) {
            }
        }
    }
    `};
`,Sn=({heading:e,subHeading:i})=>{const t=he();return n.jsx(Qt,{theme:t,children:n.jsxs(zr,{children:[n.jsx(Gr,{style:{color:t.default.color},children:e}),n.jsx(Hr,{style:{color:t.modalMessageColor},children:i})]})})},zr=E.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 4%;
`,Gr=E.h1`
  font-family: FK Grotesk Neu;
  font-size: 2rem;
  font-weight: 600;
  letter-spacing: normal;
  text-align: center;
  margin: 0;
  padding: 0;
  margin-bottom: 1.5%;
  text-shadow: none;
`,Hr=E.h4`
  text-shadow: none;
  width: 90%;
  color: ${e=>e.modalMessageColor||"#657795"};
  font-family: FK Grotesk Neu;
  font-size: 0.95rem;
  font-weight: 400;
  letter-spacing: normal;
  text-align: center;
  margin: 0;
  padding: 0;
`,Nt=ee.forwardRef(({title:e},i)=>{const t=he();return n.jsx(Qt,{theme:t,children:n.jsxs(Wr,{children:[n.jsx($r,{style:{color:t.modalMessageColor},children:e}),n.jsx(qr,{ref:i,radius:"12px",padding:"0.8rem",border:"1px solid #BAC4D6",style:{color:t.modalMessageColor}})]})})}),Wr=E.div`
  display: flex;
  flex-direction: column;
  margin: 3% 0%;
`,$r=E.h4`
  font-family: FK Grotesk Neu;
  font-size: ${e=>e.fontSize||"0.95rem"};
  font-weight: ${e=>e.fontWeight||"600"};
  letter-spacing: normal;
  margin: 0;
  padding: 0;
  margin-bottom: ${e=>e.marginBottom||"3%"};
`,qr=E(on)`
  box-sizing: border-box;
  width: 100%;
`,Yr=({onConfirm:e,onClose:i,toastObject:t})=>{const r=ee.useRef();he();const[a,c]=ee.useState(!1),d=()=>!a&&i(),o=ee.useRef(null);je(o,()=>d());const l=()=>{var u;c(!0);const p=(u=r==null?void 0:r.current)==null?void 0:u.value;e(p).then(async s=>{console.debug(s),t.showMessageToast({toastTitle:"Delegate Added",toastMessage:"Delegate has been added successfully",toastType:"SUCCESS",getToastIcon:g=>n.jsx(Be,{size:g,color:"green"})}),i()}).catch(s=>{console.error({err:s}),t.showMessageToast({toastTitle:"Transaction Failed",toastMessage:"Adding a delegate failed.",toastType:"ERROR",getToastIcon:g=>n.jsx(oe,{size:g,color:"red"})})}).finally(()=>{c(!1)})};return n.jsxs(Jr,{ref:o,children:[n.jsx(Sn,{heading:"Add Delegate",subHeading:"Add an account who can send notifications on behalf of the channel"}),n.jsx(Nt,{ref:r,title:"Delegate Address"}),n.jsx(Li,{text:"Add Delegate",onClick:l,isLoading:a})]})},Jr=E.div`
  width: 30vw;
  display: flex;
  flex-direction: column;
  margin: 6% 1%;
  background: ${e=>e.theme.modalContentBackground};
  border-radius: 1rem;
  padding: 1.2% 2%;
  @media(${K.laptop}){
    width:50vw;
  }
  @media(${K.mobileL}){
    width:95vw;
  }
`,Vr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALfSURBVHgB7VfBbtpAEJ2xuaRSJT4BpDSVcqjCrUd6KkFA+YGC8wXAqUfMMaeQL2BpP6AWpMWHSqFfkBxbqRL0D7hU4ZB4OrvYYAzExiBFlfokYFnWM29nZ2YfAP8ycgUjK1+wAxBiQDpFpCYPs+7UmAjP7CsxhC2xFYFc2UjhA3X8jt3PlGtMODq2bEuMI5oEPcqibNlIHh+9+gAOWK6zCe/4fJrAs2+97vnhUQYR4YTnXyNB/cXLk+Thcebnrx+3kzDboRE4LVVqQGjyMCm/E+9yqmNjaIkl4zI6cO+YzKTqTo0JybR7H7uxCLjnLMOdUo4Jhry8FXbOMyLU4YhkoxDBDY53TrBc0TAQlJ2UOzUkne0E8mOJQL5QaRKqcEtMwMHW4Itoww5YJeI0Bv1Pc5uafzE7r/u+irs/IGBHTHVOXKLvixmt6f9dC6xP+sb1g+d0kytVqhATueJ74+CBbmCRmEEfKwQUUMcMzGo8hYTitFgdvS1W3kFUx5xH/Mw1gqaSWCYw59GbdWsT6ya/WuKWP9L+89MArXyx+mijUY2KSxGQvB1PCLW63e+oCmBSK8+sjYAHuy/EoN9NM/sWyGoAMLgTjphIR5WbC9mo8qVKExfhlo2qdadj2u51Hu0DCYgALkGTHQqv0bhEyuy07RD95vEFAXpna3G5NaK240gEFImZQYOJmHMi3CHRreSojSo2gRUiBUNww/oMKqt5x1fx+oUGMeHuVN0HpKtLKhZiE9gX/hN4cgLBKpBJleSOdcG1fBmhllPyLWydbFTPHKfGper5mCMQAdXxJOrcXK53uYg8SEXFF9KIZqpK3riXSx6DD2yjaDhSak/crjcJm1BFtVmSRVA06whsq6hCRWmQiF96+wnIcz64d9q+uz+Soor0v8C9ZutsvOYZ5122vXPlscljqaZmyplvwmkC2kHlHJuAn0hAei9BnXNiVXjujcCcSEzJvnfs48/pk+MvrsOCp5uEilcAAAAASUVORK5CYII=",Tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK/SURBVHgB7ZZNctMwFMef5DrD1Juw4CMMC/sG7kyddkdyAtoTpJyAcALCCSgnaDhBcoNk2cadqXuCmg2Z0gXZ0GESLPGekWkm9YfUCUMX/c9oJFvP8s/S018GeNB/FjMJvvD9+iPb3uOMvcZLH4uruiIsMZbhs8nkMxgoF+Cy2byg+no+3/KiaEbtqe+7lm2fScbqUK4YS08XhJf0uZu12oi+Og20LJ9eLqUcMym7gnMPX8Ko4PWWkPKNermLpX/VbL6Hu2q6u+vSLGCR34LgaPl+1bNfd3a69BwVHQhWBsGFGGHT5VIePgnDd6ApfPkeVgNqCyHajdPTcVFs4RI0jo/jrC0Y65pMKS7LMGEsBeacH5XFFgJMg+AAKxfXN01CgYllAvHi5OQQVE5Mt7dbYAqgthpg4nVVgqUQOL0d0BTGpzuBWVbHGACkdNOHpTxvhGEfB/ugevplX7SsRMqhGqNlDsAYGQ08DUMyGWhMJr0MAtd1gLvDhwo5i0WsmnVzgBwRBPrAJxoQl2ZA5lQW/1iZ2NoASM/DsIvLQ2vrcjSqKogqGQOQaosFQUQZROaWawP4fjPgLK+fphYh2qC22WY5BMUUumguwM+NjTTBMHtjKBBB4HmQQfiObX/MDVQ+YiVJXRsAd4BLFTrgFygRuWUGgUl5cBUEtyBwjHOqkz/Htx4A3mwpkDFUiCBwpvbxUJnlWTZjLN3GjHN9AHzqVdopxBg0RF6RCLFP7VXL/qXGQMiOFkB2BmCJMxPSEZ14eZb9ksbAHYMAkJeoPOfGW9XsgaGKLPvacdo/HMfzbozpr279D6DFjjChWrAezfDL22UzmZcDdI7HsB5VWrbRX7GpLoOgjwlNuRCL+bzdiKJ4NeZOVqyrVcvOizGaAfW77laExfhL5mUXZOvzWu2M2sv3M23AP5Y6kj140H3VbwTNOdSVfMb/AAAAAElFTkSuQmCC",Kr=e=>R.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M12 28H20",stroke:"#30CC8B",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M7.02538 13.9999C7.02538 12.8213 7.25753 11.6542 7.70857 10.5653C8.1596 9.47642 8.8207 8.48702 9.6541 7.65362C10.4875 6.82021 11.4769 6.15912 12.5658 5.70808C13.6547 5.25705 14.8218 5.0249 16.0004 5.0249C17.179 5.0249 18.3461 5.25705 19.435 5.70808C20.5239 6.15912 21.5133 6.82021 22.3467 7.65362C23.1801 8.48702 23.8412 9.47642 24.2922 10.5653C24.7432 11.6542 24.9754 12.8213 24.9754 13.9999C24.9754 18.4749 25.9129 21.0749 26.7379 22.4999C26.8255 22.6517 26.8717 22.8238 26.8719 22.999C26.872 23.1743 26.8261 23.3465 26.7388 23.4984C26.6514 23.6503 26.5257 23.7766 26.3741 23.8646C26.2226 23.9526 26.0506 23.9993 25.8754 23.9999H6.12538C5.95015 23.9993 5.77815 23.9526 5.62662 23.8646C5.47509 23.7766 5.34935 23.6503 5.262 23.4984C5.17465 23.3465 5.12875 23.1743 5.12891 22.999C5.12906 22.8238 5.17526 22.6517 5.26288 22.4999C6.08788 21.0749 7.02538 18.4749 7.02538 13.9999Z",stroke:"#30CC8B",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M22.9248 3C24.9609 4.28526 26.6041 6.10584 27.6748 8.2625",stroke:"#30CC8B",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M4.3252 8.2625C5.39585 6.10584 7.03913 4.28526 9.0752 3",stroke:"#30CC8B",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),Xr=({onClose:e,onConfirm:i,toastObject:t})=>{const r=ee.useRef(),a=ee.useRef(),[c,d]=ee.useState(!1);he();const o=()=>!c&&e(),l=ee.useRef(null);je(l,()=>o());const p=()=>{var g,h;const u=(g=a==null?void 0:a.current)==null?void 0:g.value,s=(h=r==null?void 0:r.current)==null?void 0:h.value;if(d(!0),u==""||s==""){t.showMessageToast({toastTitle:"Transaction Failed",toastMessage:"Fields are empty! Retry",toastType:"ERROR",getToastIcon:f=>n.jsx(oe,{size:f,color:"red"})}),setTimeout(()=>{d(!1)},500);return}else if(parseInt(u)<60){t.showMessageToast({toastTitle:"Transaction Failed",toastMessage:"Poll Time must be at least 60 sec",toastType:"ERROR",getToastIcon:f=>n.jsx(oe,{size:f,color:"red"})}),setTimeout(()=>{d(!1)},500);return}i(u,s).then(async f=>{console.debug(f),t.showMessageToast({toastTitle:"Subgraph Added",toastMessage:"Subgraph has been added successfully",toastType:"SUCCESS",getToastIcon:A=>n.jsx(Be,{size:A,color:"green"})}),e()}).catch(f=>{console.error(f),t.showMessageToast({toastTitle:"Transaction Failed",toastMessage:"Adding a subgraph failed.",toastType:"ERROR",getToastIcon:A=>n.jsx(oe,{size:A,color:"red"})})}).finally(()=>{d(!1)})};return n.jsxs(Zr,{ref:l,children:[n.jsx(Sn,{heading:"Add Subgraph",subHeading:"Enter subgraph ID and Poll time (at least 60 sec)"}),n.jsx(Nt,{ref:r,title:"Subgraph ID"}),n.jsx(Nt,{ref:a,title:"Poll Time (in seconds)"}),n.jsx(Li,{text:"Add Subgraph",onClick:p,isLoading:c})]})},Zr=E.div`
  min-width: 32vw;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  background: ${e=>e.theme.modalContentBackground};
  border-radius: 1rem;
  padding: 1.2% 2%;
  @media(${K.laptop}){
    width:50vw;
  }
  @media(${K.mobileL}){
    width:95vw;
  }
`,ea=e=>R.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C14.0589 6 6 14.0589 6 24C6 33.9411 14.0589 42 24 42Z",stroke:"#657795",strokeWidth:2,strokeMiterlimit:10}),R.createElement("path",{d:"M30 18L18 30",stroke:"#657795",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M30 30L18 18",stroke:"#657795",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),ta=e=>R.createElement("svg",{width:16,height:19,viewBox:"0 0 16 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e},R.createElement("path",{d:"M1.58691 1.66772L14.9338 16.3492",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M5.58984 17.0166H10.9286",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M5.29883 1.78445C6.21203 1.26002 7.24885 0.989294 8.30187 1.00032C11.6052 1.02535 14.2496 3.76979 14.2496 7.08148V7.67374C14.2496 9.901 14.5999 11.4275 15.0003 12.4536",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}),R.createElement("path",{d:"M13.1148 14.3471H1.66989C1.55171 14.3475 1.43553 14.3166 1.33323 14.2574C1.23093 14.1982 1.14617 14.113 1.08763 14.0103C1.02909 13.9077 0.99886 13.7913 1.00003 13.6731C1.00121 13.5549 1.03374 13.4392 1.09431 13.3377C1.64486 12.3951 2.2705 10.66 2.2705 7.67365V7.00631C2.26981 5.78539 2.63918 4.59293 3.3299 3.58618",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),na=({onConfirm:e,onClose:i,toastObject:t})=>{const r=he(),a=qe(),{channelDetails:c}=X(g=>g.admin),{CHANNNEL_DEACTIVATED_STATE:d}=X(g=>g.channels),[o,l]=ee.useState(!1),p=()=>!o&&i(),u=ee.useRef(null);je(u,()=>p());const s=()=>{l(!0),e().then(async g=>{console.debug(g),console.info("Transaction Sent!"),t.showMessageToast({toastTitle:"Channel Deactivated",toastMessage:"Please Activate Channel to Send Notifications from it",toastType:"ERROR",getToastIcon:h=>n.jsx(oe,{size:h,color:"red"})}),await g.wait(1),console.info("Transaction Mined!"),a(cn({...c,channelState:d})),l(!1),i()}).catch(g=>{console.error("!!!Error deactivateChannel() --> %o",g),console.error({err:g}),t.showMessageToast({toastTitle:"Transaction Failed",toastMessage:"Channel deactivation failed.",toastType:"ERROR",getToastIcon:h=>n.jsx(oe,{size:h,color:"red"})}),l(!1)})};return n.jsx(Qt,{theme:r,children:n.jsx(ia,{ref:u,children:o?n.jsxs(ra,{children:[n.jsx(sn,{size:42,color:Z.COLORS.PRIMARY_PINK,type:ln.PROCESSING}),n.jsx(aa,{children:"Verifying"})]}):n.jsxs(n.Fragment,{children:[n.jsx(oa,{style:{color:r.modalMessageColor},children:"Are you sure you want to deactivate the channel? You will no longer be able to send notifications from it."}),n.jsxs(sa,{children:[n.jsx(ea,{width:36,height:36,onClick:p}),n.jsx(la,{onClick:s,children:n.jsx(ta,{})})]})]})})})},ia=E.div`
  width: 446px;
  display: flex;
  justify-content: space-between;
  padding: 5px 10px;
  background: ${e=>e.theme.modalContentBackground};
  border-radius: 1rem;
  padding: 1.2% 2%;

  @media (max-width: 500px) {
    width: 350px;
  }
  @media (max-width: 400px) {
    width: 300px;
    flex-direction: column;
  }
`,ra=E(ce)`
  flex-direction: row;
  //   margin-top:33px;
`,aa=E.p`
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  display: flex;
  align-items: center;
  margin-left: 12px;
  color: ${e=>e.theme.editChannelPrimaryText};
`,oa=E.div`
  font-size: 15px;
  font-weight: 400;
  line-height: 21px;
  text-align: left;
  margin-right: 40px;
  @media (max-width: 500px) {
    margin-right: 20px;
  }
  @media (max-width: 400px) {
    margin: 14px 6px 24px 6px;
  }
`;E.img`
  cursor: pointer;
  width: 36px;
  height: 36px;
  margin-right: 5px;
`;const sa=E.div`
  display: flex;
  justify-content: center;
  align-items: center;
  @media (max-width: 400px) {
    align-self: end;
  }
`,la=E.div`
  width: 36px;
  height: 36px;
  background: #e93636;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  cursor: pointer;
`;E.img`
  height: 36px;
  width: 17px;
`;const ca="DD MMM, YYYY",da=({onConfirm:e,onClose:i,toastObject:t})=>{const r=he(),{chainId:a,account:c,provider:d}=we(),o=qe(),{channelDetails:l,canVerify:p,aliasDetails:{isAliasVerified:u,aliasAddrFromContract:s}}=X(P=>P.admin),{CHANNEL_ACTIVE_STATE:g,CHANNNEL_DEACTIVATED_STATE:h}=X(P=>P.channels),[f,A]=R.useState("");let{channelState:x}=l;x||(x=l.activation_status);const w=x===g,v=x===h,[b,j]=R.useState(!1),[S,_]=R.useState(!1),[I,C]=R.useState(0),Q=()=>!b&&i(),T=R.useRef(null);je(T,()=>Q());const B=fe.coreContractChain===a;Je(600),R.useEffect(()=>{!l||!B||async function(){const P=l.channelStartBlock.toString(),m=await new Si(fe.coreRPC).getBlock(+P),y=Ti(m.timestamp*1e3);A(y.format(ca))}()},[l]),R.useEffect(()=>{!c||!d||async function(){const P=await Oi({address:c,provider:d,contractAddress:ye.epnscore});C(parseInt(P));const m=parseInt(P);m>=50&&m!=0?_(!0):_(!1)}()},[c,d]);const O=async P=>{await mn({noOfTokens:P,provider:d,account:c})},U=async()=>{if(j(!0),!d)return;const P=d.getSigner(c);t.showLoaderToast({loaderMessage:"Waiting for Confirmation..."});try{const m=await Ni({signer:P,contractAddress:ye.epnscore,amount:50-I});console.debug("response",m),m&&(C(50),_(!0),t.showMessageToast({toastTitle:"Success",toastMessage:"Successfully approved Push!",toastType:"SUCCESS",getToastIcon:y=>n.jsx(Be,{size:y,color:"green"})}),j(!1))}catch(m){console.error(m),m.code=="ACTION_REJECTED"?t.showMessageToast({toastTitle:"Error",toastMessage:"User denied message signature.",toastType:"ERROR",getToastIcon:y=>n.jsx(oe,{size:y,color:"red"})}):(t.showMessageToast({toastTitle:"Error",toastMessage:"There was an error in approving PUSH Token",toastType:"ERROR",getToastIcon:y=>n.jsx(oe,{size:y,color:"red"})}),console.error("Error --> %o",m),console.error({err:m}))}j(!1)},F=async()=>{j(!0);try{const P=dn("50",18),m=await e(P);t.showMessageToast({toastTitle:"Reactivating channel",toastMessage:"Reactivate channel.",toastType:"SUCCESS",getToastIcon:y=>n.jsx(Be,{size:y,color:"green"})}),await m.wait(),console.info("Transaction Mined!"),t.showMessageToast({toastTitle:"Channel Reactivated",toastMessage:"Channel has been reactivated. You can now send notifications from it",toastType:"SUCCESS",getToastIcon:y=>n.jsx(Be,{size:y,color:"green"})}),o(cn({...l,channelState:g})),i(),j(!1)}catch(P){console.error("Error reactivateChannel",{err:P}),t.showMessageToast({toastTitle:"Transaction Failed",toastMessage:"Channel reactivation failed.",toastType:"ERROR",getToastIcon:m=>n.jsx(oe,{size:m,color:"red"})}),j(!1)}};return n.jsx(Qt,{theme:r,children:n.jsxs(ha,{ref:T,children:[n.jsxs(ua,{children:[n.jsx(pa,{children:"Reactivate Channel"}),n.jsx(Er,{onClick:Q,style:{padding:"0",marginRight:"0.5rem"},sx:{"&:hover":{backgroundColor:"transparent"}},children:n.jsx(Zl,{size:"1.5rem",style:{color:r.modalIconColor}})})]}),n.jsxs(fa,{justifyContent:"flex-start",alignSelf:"stretch",children:[n.jsx(ma,{src:l.icon}),n.jsxs(kn,{alignItems:"flex-start",padding:"5px 0px",children:[n.jsxs(Ca,{children:[l.name,p&&n.jsx(Aa,{src:"/verify.png"})]}),n.jsxs(kn,{alignItems:"flex-start",flex:"initial",padding:"5px 0px",children:[B&&s&&!u||!B&&!u?n.jsx(ba,{children:"Alias Network Setup Pending"}):n.jsxs(ga,{justifyContent:"flex-start",children:[n.jsxs(xa,{children:[n.jsx("img",{style:{width:"15px"},src:"/subcount.svg",alt:"subscount"}),n.jsx(ya,{children:l.subscriber_count})]}),n.jsx(wa,{active:w,children:w?"Active":v?"Deactivated":"Blocked"})]}),f&&n.jsxs(va,{children:["Created ",f]})]})]})]}),n.jsxs(Ia,{children:[n.jsx(Ea,{children:"Channel reactivation fee"}),n.jsxs(ne,{flex:"0",children:[S?n.jsx(ja,{src:Dc}):null,n.jsxs(Ba,{children:[50," PUSH"]})]})]}),n.jsx(Fi,{noOfPushTokensToCheck:50,containerProps:{width:"100%"},onMintPushToken:O}),b?n.jsxs(Ta,{children:[n.jsx(sn,{size:42,color:Z.COLORS.PRIMARY_PINK,type:ln.PROCESSING}),n.jsx(ka,{children:"Verifying Transaction"})]}):n.jsx(Sa,{children:I>=50?n.jsx(Mn,{onClick:F,children:"Reactivate"}):n.jsx(Mn,{onClick:U,children:"Approve PUSH"})})]})})},ha=E.div`
  width: 30vw;
  display: flex;
  flex-direction: column;
  background: ${e=>e.theme.modalContentBackground};
  border-radius: 1rem;
  padding: 1.2% 2%;
  @media ${K.mobileL} {
    padding: 0.5rem;
  }
  @media (${K.laptop}) {
    width: 50vw;
  }
  @media (${K.mobileL}) {
    width: 95vw;
  }
`,ua=E(ne)`
  margin: 0.6rem 0rem 1.4rem 0rem;
  @media ${K.laptop} {
    margin: 0.5rem 0rem 1.2rem 0rem;
  }
  /* @media ${K.mobileS} {
    margin: 0.5rem 0rem 1.2rem 0rem;
  } */
`,pa=E(Xl)`
  color: ${e=>e.theme.tooltipTopHeading};
  width: 90%;
  text-align: center;
  font-weight: 500;
  font-size: 1.5rem;

  @media ${K.laptop} {
    font-size: 1.2rem;
  }
  @media ${K.mobileL} {
    width: 85%;
  }
`,kn=E(ce)`
  @media (max-width: 767px) {
    align-items: center;
  }
`,ga=E(ne)`
  @media (max-width: 767px) {
    justify-content: center;
  }
`,fa=E(ne)`
  @media (max-width: 767px) {
    justify-content: center;
    flex-direction: column;
  }
`,ma=E.img`
  width: 128px;
  height: 128px;
  margin-right: 20px;
  border-radius: 32px;
  @media ${K.laptop} {
    width: 100px;
    height: 100px;
  }
  @media ${K.mobileL} {
    width: 90px;
    height: 90px;
    margin-right: 0px;
    border-radius: 20px;
  }
`,Aa=E.img`
  width: 20px;
  height: 25px;
  margin-top: auto;
  margin-bottom: auto;
  margin-left: 8px;
`,xa=E.div`
  width: 58px;
  height: 26px;
  margin-bottom: 10px;
  background: #ffdbf0;
  color: #cf1c84;
  border-radius: 25px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-evenly;
  padding: 2px;
  @media ${K.laptop} {
    width: 52px;
    height: 22px;
  }
`,_n=E.div`
  font-weight: 500;
  font-size: 14px;
  line-height: 150%;
  display: flex;
  align-items: center;
  justify-content: space-evenly;
  padding: 2px 8px;
  border-radius: 25px;
  height: 26px;
  background-color: pink;
  font-family: FK Grotesk Neu, Source Sans Pro;
  @media ${K.laptop} {
    padding: 1px 8px;
  }
`,wa=E(_n)`
  color: #2dbd81;
  color: ${e=>e.active?"#2DBD81":"red"};
  background-color: #c6efd1;
  margin-left: 10px;
  margin-bottom: 10px;
  ${e=>e.active&&`
        &::before {
            width:16px;
            height:16px;
            background: #2DBD81;
            border-radius: 50%;
            content: "";
            display: inline-flex;
            align-items: center;
            margin-right: 6px;
        }
    `}
`,ba=E(_n)`
  color: #e3b61c;
  background-color: #e9eec4;
  &::before {
    width: 16px;
    height: 16px;
    background: #e3b61c;
    border-radius: 50%;
    content: '';
    display: inline-flex;
    align-items: center;
    margin-right: 6px;
  }
`,ya=E.span`
  font-weight: 400;
  font-size: 14px;
`,va=E.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  width: 340px;
  color: #657795;
  margin: 10px 0;
  text-transform: none;
  font-weight: 500;
  font-size: 15px;
  line-height: 150%;
  @media ${K.laptop} {
    margin: 5px 0;
  }
  @media (max-width: 767px) {
    width: 100%;
    flex-wrap: wrap;
    flex-direction: column;
    align-items: center;
  }
`,Ca=E.div`
  display: flex;
  font-family: FK Grotesk Neu, Source Sans Pro;
  flex-direction: row;
  margin-right: 8px;
  font-weight: 500;
  font-size: 30px;
  line-height: 141%;
  color: ${e=>e.theme.color};
  @media ${K.laptop} {
    font-size: 26px;
  }
  @media (max-width: 767px) {
    flex-direction: column;
    margin-top: 10px;
    font-size: 26px;
    margin-right: 0px;
    text-align: center;
  }
`,Ia=E(ne)`
  background: ${e=>e.theme.editFooterBg};
  border-radius: 20px;
  padding: 23px 32px;
  align-content: space-between;
  justify-content: space-between;
  grid-gap: 40px;
  z-index: 1;

  @media (max-width: 600px) {
    padding: 16px;
  }
  @media ${K.mobileL} {
    flex-direction: column;
    justify-content: center;
    grid-gap: 10px;
    width: 90%;
  }
`,Ea=E.p`
  margin: 0px;
  color: ${e=>e.theme.editChannelPrimaryText};
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 20px;
  line-height: 24px;
  @media ${K.mobileL} {
    width: 100%;
    text-align: center;
  }
`,ja=E.img``,Ba=E.p`
  margin: 0px 0px 0px 5px;
  color: #d53893;
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 20px;
  line-height: 24px;
  @media ${K.mobileL} {
    width: 100%;
    text-align: center;
  }
`,Sa=E(ne)`
  justify-content: end;
  margin-top: 4.8rem;
  margin-bottom: 0.8rem;
  @media (max-width: 425px) {
    flex-direction: column-reverse;
  }
`,Mn=E(Ie)`
  margin: 0 auto;
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  display: flex;
  border-radius: 15px;
  align-items: center;
  text-align: center;
  background: #cf1c84;
  color: #fff;
  padding: 16px 27px;
  width: 12rem;

  @media (min-width: 425px) and (max-width: 600px) {
    font-size: 15px;
    padding: 12px 12px;
    width: 8rem;
  }

  @media ${K.mobileL} {
    width: 80%;
  }
`,Ta=E(ce)`
  flex-direction: row;
  margin-top: 4.8rem;
  margin-bottom: 0.8rem;
`,ka=E.p`
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  display: flex;
  align-items: center;
  margin-left: 12px;
  color: ${e=>e.theme.editChannelPrimaryText};
`,_a=50,Ma=fe.coreContractChain;function Ra({DropdownRef:e,isDropdownOpen:i,closeDropdown:t}){qe();const{account:r,chainId:a}=we(),{epnsWriteProvider:c,epnsCommWriteProvider:d}=X(M=>M.contracts),{channelDetails:o}=X(M=>M.admin),{CHANNNEL_DEACTIVATED_STATE:l,CHANNEL_BLOCKED_STATE:p}=X(M=>M.channels);X(M=>M.user),ee.useContext(hn);const u=he(),{channelState:s}=o,g=Ma===a,h=Je(425),{isModalOpen:f,showModal:A,ModalComponent:x}=Qe(),{isModalOpen:w,showModal:v,ModalComponent:b}=Qe(),{isModalOpen:j,showModal:S,ModalComponent:_}=Qe(),I=i&&!f&&!w&&!j;je(e,()=>I&&t()),ee.useState(!1),ee.useState(_a);const[C,Q]=ee.useState(0),T=s===l,B=s===p,O=B||T;ee.useEffect(()=>{Q(+ec.formatBigNumberToMetric(o.poolContribution,!0))},[r,o.poolContribution]),Ce();const U=()=>{B||(T?v():A())},F=Ce(),P=c.reactivateChannel,m=Ce(),y=()=>c.deactivateChannel(),k=Ce(),D=async(M,z)=>{if(!(M==""||z=="")&&!(M<60))try{const L=M+"+"+z,N=un(L);return c.addSubGraph(N)}catch(L){console.error(L)}};return n.jsxs(n.Fragment,{children:[n.jsx("div",{children:n.jsx(Qa,{background:u,children:n.jsxs(Da,{children:[fe.appEnv!=="prod"&&n.jsx(Rn,{disabled:O,onClick:()=>!O&&S(),children:n.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[n.jsx(et,{src:Vr,alt:"cube"}),n.jsx("div",{style:{width:"10px"}}),"Add SubGraph Details"]})}),g&&n.jsx(Rn,{isChannelDeactivated:T,onClick:U,children:n.jsx(Ua,{isChannelBlocked:B,isChannelDeactivated:T,children:n.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[B?n.jsx(et,{src:Tn,alt:"red-bell"}):T?n.jsx(et,{src:Kr,alt:"green-bell"}):n.jsx(et,{src:Tn,alt:"red-bell"}),n.jsx("div",{style:{width:"10px"}}),B?"Channel Blocked":T?"Activate Channel":"Deactivate Channel"]})})})]})})}),n.jsx(x,{InnerComponent:na,onConfirm:y,toastObject:m,modalPosition:De.ON_ROOT}),n.jsx(b,{InnerComponent:da,onConfirm:P,toastObject:F,modalMargin:h?"10rem 1rem 0 1rem":"",modalPosition:De.ON_ROOT}),n.jsx(_,{InnerComponent:Xr,onConfirm:D,toastObject:k,modalPosition:De.ON_ROOT})]})}const Qa=E.div`
  position: absolute;
  right: 20px;
  display: flex;
  flex-direction: column-reverse;
  align-items: center;
  width: 240px;
  padding: 16px 4px 24px 4px;
  background: ${e=>e.background.backgroundBG};
  box-sizing: border-box;
  box-shadow: 0px 4px 30px rgba(0, 0, 0, 0.1);
  border: 1px solid #e5e8f7;
  border: 1px solid;
  border-color: ${e=>e.theme.default.borderColor};
  border-radius: 16px;
  justify-content: space-between;

  @media (max-width: 600px) {
    left: -90px;
    top: 24px;
  }
`,Da=E.div`
  flex-direction: column;
  gap: 20px;
  display: ${e=>e.inactive?"none":"flex"};
`;E.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  margin: 0px 10px;
`,E.div`
  margin: 0px 10px;
`,E.div`
  text-decoration: underline;
  color: ${e=>e.isChannelDeactivated?"#674C9F":"#e20880"};
  text-align: center;
  font-size: 16px;
  line-height: 20px;
  cursor: pointer;
`;const Rn=E.button`
  border: 0;
  outline: 0;
  padding: 8px 15px;
  border-radius: 5px;
  position: relative;
  background: ${e=>e.theme.backgroundBG};
  color: ${e=>e.theme.dropdownTextColor};
  height: 23px;
  font-family: 'monospace, monospace';
  font-style: normal;
  font-weight: 500;
  font-size: 16px;
  line-height: 141%;
  align-items: center;
  &:hover {
    opacity: ${e=>e.disabled?.5:.9};
    cursor: ${e=>e.disabled?"not-allowed":"pointer"};
    pointer: hand;
  }
  &:active {
    opacity: ${e=>e.disabled?.5:.75};
    cursor: ${e=>e.disabled?"not-allowed":"pointer"};
    pointer: hand;
  }
  opacity: ${e=>e.disabled?.5:1};
`,Ua=E.div`
  color: ${e=>e.isChannelBlocked?"red":e.isChannelDeactivated?"#30CC8B":"red "};
`,et=E.img`
  width: 25px;
  height: 25px;
  padding: 0;
  margin: 0;
`;function Qn(){const e=ee.useRef(null),[i,t]=ee.useState(!1);he();const r=()=>{t(c=>!c)},a=()=>{t(!1)};return n.jsxs(ne,{flex:"0",ref:e,children:[n.jsx(Pa,{active:i,onClick:r}),i&&n.jsx(Ra,{DropdownRef:e,isDropdownOpen:i,closeDropdown:a})]})}E.div`
  flex: 1;
  display: flex;
  justify-content: flex-end;
  position: relative;
  top: 70px;
  left: -50px;
  @media (max-width: 600px) {
    position: inherit;
    width: 100%;
    display: flex;
    justify-content: center;
    margin: 0 auto;
  }
`;const Pa=E(tc)`
  position: relative;
  width: 40px;
  height: 36px;
  border: 1px solid;
  border-color: ${e=>e.theme.default.borderColor};
  border-radius: 8px;
  cursor: pointer;
  transition: 400ms;
  transform: ${e=>e.active?"rotateZ(90deg)":"none"};
`;E(Ie)`
  width: 7rem;
  background: #cf1c84;
  color: #fff;
  z-index: 0;
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  line-height: 17px;
  margin-right: 20px;
  border-radius: 8px;
  padding: 11px 10px;
  @media (min-width: 600px) and (max-width: 700px) {
    margin-right: 9px;
  }
`;const La="DD MMM, YYYY";function Oa({isChannelExpired:e,setIsChannelExpired:i,showEditChannel:t,destroyChannel:r}){var se,ie,te;const{account:a,chainId:c}=we(),{delegatees:d,channelDetails:o,canVerify:l,aliasDetails:{isAliasVerified:p,aliasAddrFromContract:u}}=X(q=>q.admin),{channelSettings:s}=X(q=>q.channels),{userPushSDKInstance:g}=X(q=>q.user),{handleConnectWallet:h}=R.useContext(hn),{CHANNEL_ACTIVE_STATE:f,CHANNNEL_DEACTIVATED_STATE:A}=X(q=>q.channels),{processingState:x}=X(q=>q.channelCreation),[w,v]=R.useState([]),[b,j]=R.useState("");let{channelState:S}=o;S||(S=o.activation_status);const _=S===f,I=S===A,C=fe.coreContractChain===c,Q=Je(600),[T,B]=R.useState([a]),[O,U]=R.useState(void 0);X(q=>q.contracts);const F=nc(),{isModalOpen:P,showModal:m,ModalComponent:y}=Qe(),k=Ce(),D=async()=>{g.signer||await h(),m()},M=async q=>g.channel.delegate.add(pn(q,c)),z=o.expiryTime?ic(((se=o.expiryTime)==null?void 0:se.toString())*1e3):"",L=o.expiryTime?rc(((ie=o.expiryTime)==null?void 0:ie.toString())*1e3):!0,N=o.expiryTime?ac(((te=o.expiryTime)==null?void 0:te.toString())*1e3,14):"";R.useEffect(()=>{o.channelType==Dt.TIMEBOUND&&(L||i(!0))},[L]),R.useEffect(()=>{!o||!l||async function(){let q=await Mi.getInstance().getChannelJsonAsync(o.verifiedBy);v(q)}()},[o,l]),R.useEffect(()=>{!o||!C||async function(){const q=o.channelStartBlock.toString(),re=await new Si(fe.coreRPC).getBlock(+q),me=Ti(re.timestamp*1e3);j(me.format(La))}()},[o]),R.useEffect(()=>{a&&(!d||!d.length?U(a):U(C?d[0].channel:d[0].alias_address))},[d,a]),R.useEffect(()=>{a&&(async()=>{try{const q=pn(a,c),re=await g.channel.delegate.get({channel:q});if(re){const me=re.map(W=>W);me.unshift(a),B(me)}}catch(q){console.error(q)}})()},[a,c]);const G=async q=>{let re=g;if(!(!re.signer&&(re=await h(),!re)))return re.channel.delegate.remove(pn(q,c))},Y=()=>{F(sc.ChannelSettings)};return n.jsxs(ce,{children:[n.jsxs(za,{justifyContent:"flex-start",alignSelf:"stretch",children:[n.jsx(Ga,{src:o.icon}),n.jsxs(zt,{alignItems:"flex-start",padding:"5px 0px",children:[n.jsxs(Za,{children:[o.name,l&&n.jsx(Ha,{src:"/verify.png"})]}),n.jsxs(zt,{alignItems:"flex-start",flex:"initial",padding:"5px 0px",children:[C&&u&&!p||!C&&!p?n.jsx(Ja,{children:"Alias Network Setup Pending"}):n.jsxs(Na,{justifyContent:"flex-start",children:[n.jsxs(qa,{children:[n.jsx("img",{style:{width:"15px"},src:"/subcount.svg",alt:"subscount"}),n.jsx(Va,{children:o.subscriber_count})]}),n.jsxs(Ya,{active:_,children:[I&&n.jsx(gn,{width:"12px",src:Mc,margin:"0 5px 2px 0px",height:"30px"}),_?"Active":I?"Deactivated":"Blocked"]}),o.channelType==Dt.TIMEBOUND&&!e&&n.jsxs(ne,{background:"#C5EFD1",flex:"0",borderRadius:"25px",margin:"0 0 10px 10px",height:"30px",children:[n.jsx(gn,{width:"16px",src:"svg/ExpiresTimer.svg",alt:"expiryTimer",padding:"0 6px 0 9px"}),n.jsxs(Me,{color:"#30CC8B",fontWeight:"600",padding:"0 9px 0 0",children:["Expires on ",z]})]}),o.channelType==Dt.TIMEBOUND&&e&&n.jsxs(ne,{background:"#FFD8D8",flex:"0",borderRadius:"25px",margin:"0 0 10px 10px",height:"30px",children:[n.jsx(gn,{width:"16px",src:"svg/ExpiredTimer.svg",alt:"expiryTimer",padding:"0 6px 0 9px"}),n.jsxs(Me,{color:"#E93636",fontWeight:"600",padding:"0 9px 0 0",children:["Expired on ",z]})]})]}),b&&n.jsxs(Ka,{children:["Created ",b]})]})]})]}),Q&&n.jsxs(ne,{zIndex:"1",padding:"0 0 15px 0",alignSelf:"center",display:"flex",children:[!e&&C&&n.jsx(to,{onClick:t,children:"Edit Channel"}),!e&&n.jsx(Qn,{}),e&&C&&n.jsx(Fa,{onClick:r,background:"#E93636",color:"#fff",height:"36px",width:"123px",borderRadius:"8px",fontSize:"14px",children:"Delete Channel"})]}),e&&n.jsx(ce,{alignItems:"flex-start",children:n.jsxs(Un,{margin:"25px 0 0 0",children:[n.jsx(Me,{color:"#D53A94",children:"Note:"})," Channel will auto delete on"," ",n.jsx(Me,{fontWeight:"600",children:N})]})}),n.jsx(ce,{alignItems:"flex-start",children:n.jsx(Un,{children:o.info})}),l&&n.jsx(zt,{alignItems:"flex-start",padding:"5px 0px",children:n.jsx(eo,{children:n.jsxs(Xa,{children:[n.jsx("span",{children:"verified by:"}),n.jsx(Wa,{src:w.icon}),n.jsx($a,{children:w.name})]})})}),x===0&&n.jsxs(ce,{children:[n.jsx(Rt,{children:n.jsxs(Pn,{flex:"5",minWidth:"280px",self:"stretch",align:"stretch",margin:"10px 0px 30px 0px",radius:"20px",border:"1px solid #D4DCEA",children:[n.jsx(zi,{title:"Notification Settings",description:"Customize notification preferences for users",Button:n.jsx(zc,{onClick:Y})}),n.jsx(Gi,{account:a,isAddress:!1,items:s[a],isLoading:!1,onClickEmptyListButton:Y,emptyListButtonTitle:"Add Setting"})]})}),n.jsx(Rt,{children:n.jsxs(Pn,{flex:"5",minWidth:"280px",self:"stretch",align:"stretch",margin:"10px 0px 30px 0px",radius:"20px",border:"1px solid #D4DCEA",children:[n.jsx(zi,{title:"Channel Delegates",description:"Delegates can send notifications on behalf of the channel",Button:n.jsx(Gc,{onClick:D})}),n.jsx(Gi,{account:a,isAddress:!0,items:T,isLoading:!1,addressDropdownOptions:[{text:"Remove",onClick:G,icon:n.jsx(oc,{})}]})]})})]}),n.jsx(y,{InnerComponent:Yr,onConfirm:M,toastObject:k,modalPosition:De.ON_ROOT})]})}const zt=E(ce)`
  @media (max-width: 767px) {
    align-items: center;
  }
`,Fa=E(ki)`
  height: ${e=>e.height||"100%"};
  width: ${e=>e.width||"100%"};
`,Na=E(ne)`
  @media (max-width: 767px) {
    justify-content: center;
  }
`,za=E(ne)`
  @media (max-width: 767px) {
    justify-content: center;
    flex-direction: column;
  }
`,Ga=E.img`
  width: 128px;
  height: 128px;
  margin-right: 20px;
  border-radius: 32px;
  @media ${K.mobileL} {
    width: 90px;
    height: 90px;
    margin-right: 0px;
    border-radius: 20px;
  }
`,Ha=E.img`
  width: 20px;
  height: 25px;
  margin-top: auto;
  margin-bottom: auto;
  margin-left: 8px;
`,Wa=E.img`
  height: 20px;
  width: 20px;
  border-radius: 50%;
  margin-left: 6px;
  margin-right: 5px;
`,$a=E.div``,qa=E.div`
  width: 58px;
  height: 26px;
  background: #ffdbf0;
  color: #cf1c84;
  border-radius: 25px;
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: space-evenly;
  padding: 2px;
`,Dn=E.div`
  font-weight: 500;
  font-size: 14px;
  line-height: 150%;
  display: flex;
  align-items: center;
  justify-content: space-evenly;
  padding: 2px 8px;
  border-radius: 25px;
  height: 26px;
  background-color: pink;
  font-family: FK Grotesk Neu, Source Sans Pro;
`,Ya=E(Dn)`
  color: #2dbd81;
  color: ${e=>e.active?"#2DBD81":"#E93636"};
  background-color: ${e=>e.active?"#c6efd1":"#FFD8D8"};
  margin-left: 10px;
  ${e=>e.active&&`
        &::before {
            width:16px;
            height:16px;
            background: #2DBD81;
            border-radius: 50%;
            content: "";
            display: inline-flex;
            align-items: center;
            margin-right: 6px;
        }
    `}
`,Ja=E(Dn)`
  color: #e3b61c;
  background-color: #e9eec4;
  &::before {
    width: 16px;
    height: 16px;
    background: #e3b61c;
    border-radius: 50%;
    content: '';
    display: inline-flex;
    align-items: center;
    margin-right: 6px;
  }
`,Va=E.span`
  font-weight: 400;
  font-size: 14px;
`;E.div`
  display: flex;
  flex-direction: column;
  @media ${K.mobileM} {
    flex-direction: column;
    align-items: center;
  }
`;const Ka=E.div`
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  width: 340px;
  // color: #657795;
  color: ${e=>e.theme.default.secondaryColor};
  margin-top: 10px;
  text-transform: none;
  font-weight: 500;
  font-size: 15px;
  line-height: 150%;
  @media (max-width: 767px) {
    width: 100%;
    flex-wrap: wrap;
    flex-direction: column;
    align-items: center;
  }
`,Xa=E.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  & > span {
    color: #ec008c;
    fontsize: 1em;
    fontweight: bolder;
  }
`,Za=E.div`
  display: flex;
  font-family: FK Grotesk Neu, Source Sans Pro;
  flex-direction: row;
  margin-right: 8px;
  margin-top: 12px;
  font-weight: 500;
  font-size: 30px;
  line-height: 141%;
  text-align: center;
  color: ${e=>e.theme.color};
  @media (max-width: 767px) {
    flex-direction: column;
    margin-top: 10px;
    font-size: 26px;
    margin-right: 0px;
  }
`,eo=E.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  font-style: normal;
  font-weight: 600;
  font-size: 16px;
  line-height: 25px;
  letter-spacing: normal;
  text-transform: uppercase;
  margin-bottom: 18px;
`,Un=E.div`
  text-transform: none;
  font-family: FK Grotesk Neu, Source Sans Pro;
  // color: #657795;
  color: ${e=>e.theme.default.secondaryColor};
  margin: ${e=>e.margin?e.margin:"24px 0px"};
  font-weight: 400;
  font-size: 15px;
  line-height: 140%;
  text-align: left;
  @media (max-width: 767px) {
    text-align: center;
    font-weight: 300;
    margin-top: 10px;
    width: 100%;
    margin: 10px 0px 10px 0px;
    padding: 0 0 0 0;
  }
`,to=E(Ie)`
  width: fit-content;
  background: #d53a94;
  color: #fff;
  z-index: 0;
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  line-height: 17px;
  margin-right: 9px;
  border-radius: 8px;
  padding: 10px 16px;
`,Pn=E(_i)`
  flex: 5;
  min-width: 280px;
  align-self: stretch;
  align-items: stretch;
  margin: 10px 0px 30px 0px;
  border-radius: 20px;
  border: 1px solid;
  border-color: ${e=>e.theme.default.borderColor};
`,Ln=(e,i,t)=>(t=t??1,e.length>=t&&e.length<=i),On=e=>{var i=new RegExp("^((?:https|http):\\/\\/)((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!i.test(e)},no=({channelName:e,setChannelName:i,channelInfo:t,setChannelInfo:r,channelURL:a,setChannelURL:c,editChannel:d,errorInfo:o,setErrorInfo:l})=>{const p=he(),u=({message:g})=>n.jsxs(le,{display:"flex",align:"center",self:"flex-start",direction:"row",margin:"7px 0px",children:[n.jsx(dc,{color:"red",size:"20"}),n.jsx(xe,{size:"14px",weight:"400",margin:"0px 5px",color:"red",children:g})]}),s=g=>{const h=g.target.value;On(h)?(l(""),c(h)):(l(f=>({...f,url:"Channel URL is invalid! Please enter a valid url!"})),c(h))};return n.jsx(io,{children:n.jsx(ro,{onSubmit:d,children:n.jsxs(ao,{children:[n.jsxs(le,{margin:"5px 0px 0px 0px",flex:"1",self:"stretch",align:"stretch",children:[n.jsx(Gt,{style:{color:p.editChannelPrimaryText},children:"Channel Name"}),n.jsx(le,{margin:"7px 0px 0px 0px",flex:"1",self:"stretch",align:"stretch",radius:"12px",children:n.jsx(on,{required:!0,maxlength:"40",flex:"1",padding:"13px 13px 14px 16px",weight:"400",size:"15px",bg:p.editChannelInputbg,color:p.editChannelPrimaryText,border:p.textAreaBorderColor,focusBorder:p.textAreaFocusBorder,radius:"12px",height:"25px",value:e,onChange:g=>{i(g.target.value)}})})]}),(o==null?void 0:o.name)&&n.jsx(u,{message:o==null?void 0:o.name}),n.jsxs(le,{margin:"22px 0px 0px 00px",flex:"1",self:"stretch",align:"stretch",children:[n.jsxs(le,{display:"flex",direction:"row",align:"center",flex:"1",self:"stretch",justify:"space-between",children:[n.jsx(Gt,{style:{color:p.editChannelPrimaryText},children:"Channel Description"}),n.jsx(xe,{color:p.editChannelSecondaryText,size:"18px",margin:"0px 10px 0px 0px",weight:"500",children:250-t.length})]}),n.jsx(cc,{required:!0,rows:"4",maxlength:"250",padding:"12px 16px",weight:"400",size:"15px",resize:"none",overflow:"hidden","line-height":"140%",margin:"10px 0px 0px 0px",border:p.textAreaBorderColor,focusBorder:p.textAreaFocusBorder,radius:"12px",bg:p.editChannelInputbg,color:p.editChannelPrimaryText,value:t,onChange:g=>{r(g.target.value.slice(0,250))},autocomplete:"off"})]}),(o==null?void 0:o.description)&&n.jsx(u,{message:o==null?void 0:o.description}),n.jsxs(le,{margin:"20px 0px 0px 0px",flex:"1",self:"stretch",align:"stretch",children:[n.jsx(Gt,{style:{color:p.editChannelPrimaryText},children:"Channel Website URL"}),n.jsx(on,{required:!0,maxlength:"40",flex:"1",padding:"12px 16px",weight:"400",size:"15px",bg:p.editChannelInputbg,color:p.editChannelPrimaryText,height:"25px",margin:"7px 0px 0px 0px",border:p.textAreaBorderColor,focusBorder:p.textAreaFocusBorder,radius:"12px",value:a,onChange:g=>{s(g)}})]}),(o==null?void 0:o.url)&&n.jsx(u,{message:o==null?void 0:o.url})]})})})},io=E(Rt)`
  display: block;

  @media (max-width: 425px) {
    margin: 28px 0px 0px 0px;
  }

  @media (max-width: 600px) {
    margin: 18px 0px 0px 0px;
  }
`,ro=E(lc)`
  height: inherit;
`,Gt=E.div`
  font-style: normal;
  font-weight: 500;
  font-size: 15px;
  line-height: 150%;
  letter-spacing: normal;
  color: #1e1e1e;
`,ao=E(le)`
  width: 100%;
  align-items: flex-start;
  font-style: normal;
  font-weight: 400;
  font-size: 15px;
  line-height: 140%;
`,oo="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9%200.875C7.39303%200.875%205.82214%201.35152%204.486%202.24431C3.14985%203.1371%202.10844%204.40605%201.49348%205.8907C0.87852%207.37535%200.717618%209.00901%201.03112%2010.5851C1.34463%2012.1612%202.11846%2013.6089%203.25476%2014.7452C4.39106%2015.8815%205.8388%2016.6554%207.4149%2016.9689C8.99099%2017.2824%2010.6247%2017.1215%2012.1093%2016.5065C13.594%2015.8916%2014.8629%2014.8502%2015.7557%2013.514C16.6485%2012.1779%2017.125%2010.607%2017.125%209C17.1209%206.84638%2016.2635%204.78216%2014.7407%203.25932C13.2178%201.73648%2011.1536%200.87913%209%200.875ZM12.8672%207.57812L8.28907%2011.9531C8.17071%2012.0645%208.01406%2012.126%207.85157%2012.125C7.77214%2012.1261%207.69328%2012.1115%207.61953%2012.082C7.54578%2012.0525%207.47861%2012.0087%207.42188%2011.9531L5.13282%209.76562C5.06933%209.71023%205.01769%209.64257%204.98102%209.56672C4.94434%209.49086%204.92338%209.40837%204.9194%209.32421C4.91542%209.24004%204.92849%209.15594%204.95784%209.07696C4.98719%208.99798%205.03221%208.92575%205.09019%208.86461C5.14816%208.80347%205.2179%208.75469%205.29522%208.72119C5.37253%208.68769%205.45582%208.67017%205.54007%208.66968C5.62433%208.66919%205.70781%208.68574%205.78551%208.71834C5.86321%208.75094%205.93351%208.79891%205.99219%208.85938L7.85157%2010.6328L12.0078%206.67188C12.1293%206.56585%2012.2871%206.51091%2012.4482%206.51853C12.6093%206.52615%2012.7612%206.59575%2012.8722%206.71277C12.9832%206.8298%2013.0446%206.98519%2013.0437%207.14646C13.0428%207.30773%2012.9795%207.4624%2012.8672%207.57812Z'%20fill='%23D53893'/%3e%3c/svg%3e";var Fn={exports:{}};(function(e,i){(function(t){e.exports=t()})(function(){return function(){function t(r,a,c){function d(p,u){if(!a[p]){if(!r[p]){var s=typeof Ut=="function"&&Ut;if(!u&&s)return s(p,!0);if(o)return o(p,!0);var g=new Error("Cannot find module '"+p+"'");throw g.code="MODULE_NOT_FOUND",g}var h=a[p]={exports:{}};r[p][0].call(h.exports,function(f){var A=r[p][1][f];return d(A||f)},h,h.exports,t,r,a,c)}return a[p].exports}for(var o=typeof Ut=="function"&&Ut,l=0;l<c.length;l++)d(c[l]);return d}return t}()({1:[function(t,r,a){var c=t("multimath"),d=t("./mm_unsharp_mask"),o=t("./mm_resize");function l(p){var u=p||[],s={js:u.indexOf("js")>=0,wasm:u.indexOf("wasm")>=0};c.call(this,s),this.features={js:s.js,wasm:s.wasm&&this.has_wasm()},this.use(d),this.use(o)}l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.prototype.resizeAndUnsharp=function(p,u){var s=this.resize(p,u);return p.unsharpAmount&&this.unsharp_mask(s,p.toWidth,p.toHeight,p.unsharpAmount,p.unsharpRadius,p.unsharpThreshold),s},r.exports=l},{"./mm_resize":4,"./mm_unsharp_mask":9,multimath:19}],2:[function(t,r,a){function c(s){return s<0?0:s>255?255:s}function d(s){return s>=0?s:0}function o(s,g,h,f,A,x){var w,v,b,j,S,_,I,C,Q,T,B,O=0,U=0;for(Q=0;Q<f;Q++){for(S=0,T=0;T<A;T++){for(_=x[S++],I=x[S++],C=O+_*4|0,w=v=b=j=0;I>0;I--)B=x[S++],j=j+B*s[C+3]|0,b=b+B*s[C+2]|0,v=v+B*s[C+1]|0,w=w+B*s[C]|0,C=C+4|0;g[U+3]=d(j>>7),g[U+2]=d(b>>7),g[U+1]=d(v>>7),g[U]=d(w>>7),U=U+f*4|0}U=(Q+1)*4|0,O=(Q+1)*h*4|0}}function l(s,g,h,f,A,x){var w,v,b,j,S,_,I,C,Q,T,B,O=0,U=0;for(Q=0;Q<f;Q++){for(S=0,T=0;T<A;T++){for(_=x[S++],I=x[S++],C=O+_*4|0,w=v=b=j=0;I>0;I--)B=x[S++],j=j+B*s[C+3]|0,b=b+B*s[C+2]|0,v=v+B*s[C+1]|0,w=w+B*s[C]|0,C=C+4|0;w>>=7,v>>=7,b>>=7,j>>=7,g[U+3]=c(j+8192>>14),g[U+2]=c(b+8192>>14),g[U+1]=c(v+8192>>14),g[U]=c(w+8192>>14),U=U+f*4|0}U=(Q+1)*4|0,O=(Q+1)*h*4|0}}function p(s,g,h,f,A,x){var w,v,b,j,S,_,I,C,Q,T,B,O,U=0,F=0;for(T=0;T<f;T++){for(_=0,B=0;B<A;B++){for(I=x[_++],C=x[_++],Q=U+I*4|0,w=v=b=j=0;C>0;C--)O=x[_++],S=s[Q+3],j=j+O*S|0,b=b+O*s[Q+2]*S|0,v=v+O*s[Q+1]*S|0,w=w+O*s[Q]*S|0,Q=Q+4|0;b=b/255|0,v=v/255|0,w=w/255|0,g[F+3]=d(j>>7),g[F+2]=d(b>>7),g[F+1]=d(v>>7),g[F]=d(w>>7),F=F+f*4|0}F=(T+1)*4|0,U=(T+1)*h*4|0}}function u(s,g,h,f,A,x){var w,v,b,j,S,_,I,C,Q,T,B,O=0,U=0;for(Q=0;Q<f;Q++){for(S=0,T=0;T<A;T++){for(_=x[S++],I=x[S++],C=O+_*4|0,w=v=b=j=0;I>0;I--)B=x[S++],j=j+B*s[C+3]|0,b=b+B*s[C+2]|0,v=v+B*s[C+1]|0,w=w+B*s[C]|0,C=C+4|0;w>>=7,v>>=7,b>>=7,j>>=7,j=c(j+8192>>14),j>0&&(w=w*255/j|0,v=v*255/j|0,b=b*255/j|0),g[U+3]=j,g[U+2]=c(b+8192>>14),g[U+1]=c(v+8192>>14),g[U]=c(w+8192>>14),U=U+f*4|0}U=(Q+1)*4|0,O=(Q+1)*h*4|0}}r.exports={convolveHor:o,convolveVert:l,convolveHorWithPre:p,convolveVertWithPre:u}},{}],3:[function(t,r,a){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAEYA2AGf39/f39/AGAAAGAIf39/f39/f38AAg8BA2VudgZtZW1vcnkCAAADBwYBAAAAAAIGBgF/AEEACweUAQgRX193YXNtX2NhbGxfY3RvcnMAAAtjb252b2x2ZUhvcgABDGNvbnZvbHZlVmVydAACEmNvbnZvbHZlSG9yV2l0aFByZQADE2NvbnZvbHZlVmVydFdpdGhQcmUABApjb252b2x2ZUhWAAUMX19kc29faGFuZGxlAwAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAAKyA4GAwABC4wDARB/AkAgA0UNACAERQ0AIANBAnQhFQNAQQAhE0EAIQsDQCALQQJqIQcCfyALQQF0IAVqIgYuAQIiC0UEQEEAIQhBACEGQQAhCUEAIQogBwwBCyASIAYuAQBqIQhBACEJQQAhCiALIRRBACEOIAchBkEAIQ8DQCAFIAZBAXRqLgEAIhAgACAIQQJ0aigCACIRQRh2bCAPaiEPIBFB/wFxIBBsIAlqIQkgEUEQdkH/AXEgEGwgDmohDiARQQh2Qf8BcSAQbCAKaiEKIAhBAWohCCAGQQFqIQYgFEEBayIUDQALIAlBB3UhCCAKQQd1IQYgDkEHdSEJIA9BB3UhCiAHIAtqCyELIAEgDEEBdCIHaiAIQQAgCEEAShs7AQAgASAHQQJyaiAGQQAgBkEAShs7AQAgASAHQQRyaiAJQQAgCUEAShs7AQAgASAHQQZyaiAKQQAgCkEAShs7AQAgDCAVaiEMIBNBAWoiEyAERw0ACyANQQFqIg0gAmwhEiANQQJ0IQwgAyANRw0ACwsL2gMBD38CQCADRQ0AIARFDQAgAkECdCEUA0AgCyEMQQAhE0EAIQIDQCACQQJqIQYCfyACQQF0IAVqIgcuAQIiAkUEQEEAIQhBACEHQQAhCkEAIQkgBgwBCyAHLgEAQQJ0IBJqIQhBACEJIAIhCkEAIQ0gBiEHQQAhDkEAIQ8DQCAFIAdBAXRqLgEAIhAgACAIQQF0IhFqLwEAbCAJaiEJIAAgEUEGcmovAQAgEGwgDmohDiAAIBFBBHJqLwEAIBBsIA9qIQ8gACARQQJyai8BACAQbCANaiENIAhBBGohCCAHQQFqIQcgCkEBayIKDQALIAlBB3UhCCANQQd1IQcgDkEHdSEKIA9BB3UhCSACIAZqCyECIAEgDEECdGogB0GAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQQh0QYD+A3EgCUGAQGtBDnUiBkH/ASAGQf8BSBsiBkEAIAZBAEobQRB0QYCA/AdxIApBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG0EYdHJyIAhBgEBrQQ51IgZB/wEgBkH/AUgbIgZBACAGQQBKG3I2AgAgAyAMaiEMIBNBAWoiEyAERw0ACyAUIAtBAWoiC2whEiADIAtHDQALCwuSAwEQfwJAIANFDQAgBEUNACADQQJ0IRUDQEEAIRNBACEGA0AgBkECaiEIAn8gBkEBdCAFaiIGLgECIgdFBEBBACEJQQAhDEEAIQ1BACEOIAgMAQsgEiAGLgEAaiEJQQAhDkEAIQ1BACEMIAchFEEAIQ8gCCEGA0AgBSAGQQF0ai4BACAAIAlBAnRqKAIAIhBBGHZsIhEgD2ohDyARIBBBEHZB/wFxbCAMaiEMIBEgEEEIdkH/AXFsIA1qIQ0gESAQQf8BcWwgDmohDiAJQQFqIQkgBkEBaiEGIBRBAWsiFA0ACyAPQQd1IQkgByAIagshBiABIApBAXQiCGogDkH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEECcmogDUH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEEcmogDEH/AW1BB3UiB0EAIAdBAEobOwEAIAEgCEEGcmogCUEAIAlBAEobOwEAIAogFWohCiATQQFqIhMgBEcNAAsgC0EBaiILIAJsIRIgC0ECdCEKIAMgC0cNAAsLC4IEAQ9/AkAgA0UNACAERQ0AIAJBAnQhFANAIAshDEEAIRJBACEHA0AgB0ECaiEKAn8gB0EBdCAFaiICLgECIhNFBEBBACEIQQAhCUEAIQYgCiEHQQAMAQsgAi4BAEECdCARaiEJQQAhByATIQJBACENIAohBkEAIQ5BACEPA0AgBSAGQQF0ai4BACIIIAAgCUEBdCIQai8BAGwgB2ohByAAIBBBBnJqLwEAIAhsIA5qIQ4gACAQQQRyai8BACAIbCAPaiEPIAAgEEECcmovAQAgCGwgDWohDSAJQQRqIQkgBkEBaiEGIAJBAWsiAg0ACyAHQQd1IQggDUEHdSEJIA9BB3UhBiAKIBNqIQcgDkEHdQtBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKGyIKQf8BcQRAIAlB/wFsIAJtIQkgCEH/AWwgAm0hCCAGQf8BbCACbSEGCyABIAxBAnRqIAlBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EIdEGA/gNxIAZBgEBrQQ51IgJB/wEgAkH/AUgbIgJBACACQQBKG0EQdEGAgPwHcSAKQRh0ciAIQYBAa0EOdSICQf8BIAJB/wFIGyICQQAgAkEAShtycjYCACADIAxqIQwgEkEBaiISIARHDQALIBQgC0EBaiILbCERIAMgC0cNAAsLC0AAIAcEQEEAIAIgAyAEIAUgABADIAJBACAEIAUgBiABEAQPC0EAIAIgAyAEIAUgABABIAJBACAEIAUgBiABEAIL"},{}],4:[function(t,r,a){r.exports={name:"resize",fn:t("./resize"),wasm_fn:t("./resize_wasm"),wasm_src:t("./convolve_wasm_base64")}},{"./convolve_wasm_base64":3,"./resize":5,"./resize_wasm":8}],5:[function(t,r,a){var c=t("./resize_filter_gen"),d=t("./convolve"),o=d.convolveHor,l=d.convolveVert,p=d.convolveHorWithPre,u=d.convolveVertWithPre;function s(h,f,A){for(var x=3,w=f*A*4|0;x<w;){if(h[x]!==255)return!0;x=x+4|0}return!1}function g(h,f,A){for(var x=3,w=f*A*4|0;x<w;)h[x]=255,x=x+4|0}r.exports=function(h){var f=h.src,A=h.width,x=h.height,w=h.toWidth,v=h.toHeight,b=h.scaleX||h.toWidth/h.width,j=h.scaleY||h.toHeight/h.height,S=h.offsetX||0,_=h.offsetY||0,I=h.dest||new Uint8Array(w*v*4),C=typeof h.filter>"u"?"mks2013":h.filter,Q=c(C,A,w,b,S),T=c(C,x,v,j,_),B=new Uint16Array(w*x*4);return s(f,A,x)?(p(f,B,A,x,w,Q),u(B,I,x,w,v,T)):(o(f,B,A,x,w,Q),l(B,I,x,w,v,T),g(I,w,v)),I}},{"./convolve":2,"./resize_filter_gen":6}],6:[function(t,r,a){var c=t("./resize_filter_info"),d=14;function o(l){return Math.round(l*((1<<d)-1))}r.exports=function(l,p,u,s,g){var h=c.filter[l].fn,f=1/s,A=Math.min(1,s),x=c.filter[l].win/A,w,v,b,j,S,_,I,C,Q,T,B,O,U,F,P,m,y,k=Math.floor((x+1)*2),D=new Int16Array((k+2)*u),M=0,z=!D.subarray||!D.set;for(w=0;w<u;w++){for(v=(w+.5)*f+g,b=Math.max(0,Math.floor(v-x)),j=Math.min(p-1,Math.ceil(v+x)),S=j-b+1,_=new Float32Array(S),I=new Int16Array(S),C=0,Q=b,T=0;Q<=j;Q++,T++)B=h((Q+.5-v)*A),C+=B,_[T]=B;for(O=0,T=0;T<_.length;T++)U=_[T]/C,O+=U,I[T]=o(U);for(I[u>>1]+=o(1-O),F=0;F<I.length&&I[F]===0;)F++;if(F<I.length){for(P=I.length-1;P>0&&I[P]===0;)P--;if(m=b+F,y=P-F+1,D[M++]=m,D[M++]=y,!z)D.set(I.subarray(F,P+1),M),M+=y;else for(T=F;T<=P;T++)D[M++]=I[T]}else D[M++]=0,D[M++]=0}return D}},{"./resize_filter_info":7}],7:[function(t,r,a){var c={box:{win:.5,fn:function(d){return d<0&&(d=-d),d<.5?1:0}},hamming:{win:1,fn:function(d){if(d<0&&(d=-d),d>=1)return 0;if(d<11920929e-14)return 1;var o=d*Math.PI;return Math.sin(o)/o*(.54+.46*Math.cos(o/1))}},lanczos2:{win:2,fn:function(d){if(d<0&&(d=-d),d>=2)return 0;if(d<11920929e-14)return 1;var o=d*Math.PI;return Math.sin(o)/o*Math.sin(o/2)/(o/2)}},lanczos3:{win:3,fn:function(d){if(d<0&&(d=-d),d>=3)return 0;if(d<11920929e-14)return 1;var o=d*Math.PI;return Math.sin(o)/o*Math.sin(o/3)/(o/3)}},mks2013:{win:2.5,fn:function(d){return d<0&&(d=-d),d>=2.5?0:d>=1.5?-.125*(d-2.5)*(d-2.5):d>=.5?.25*(4*d*d-11*d+7):1.0625-1.75*d*d}}};r.exports={filter:c,f2q:{box:0,hamming:1,lanczos2:2,lanczos3:3},q2f:["box","hamming","lanczos2","lanczos3"]}},{}],8:[function(t,r,a){var c=t("./resize_filter_gen");function d(s,g,h){for(var f=3,A=g*h*4|0;f<A;){if(s[f]!==255)return!0;f=f+4|0}return!1}function o(s,g,h){for(var f=3,A=g*h*4|0;f<A;)s[f]=255,f=f+4|0}function l(s){return new Uint8Array(s.buffer,0,s.byteLength)}var p=!0;try{p=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1}catch{}function u(s,g,h){if(p){g.set(l(s),h);return}for(var f=h,A=0;A<s.length;A++){var x=s[A];g[f++]=x&255,g[f++]=x>>8&255}}r.exports=function(s){var g=s.src,h=s.width,f=s.height,A=s.toWidth,x=s.toHeight,w=s.scaleX||s.toWidth/s.width,v=s.scaleY||s.toHeight/s.height,b=s.offsetX||0,j=s.offsetY||0,S=s.dest||new Uint8Array(A*x*4),_=typeof s.filter>"u"?"mks2013":s.filter,I=c(_,h,A,w,b),C=c(_,f,x,v,j),Q=0,T=Math.max(g.byteLength,S.byteLength),B=this.__align(Q+T),O=f*A*4*2,U=this.__align(B+O),F=this.__align(U+I.byteLength),P=F+C.byteLength,m=this.__instance("resize",P),y=new Uint8Array(this.__memory.buffer),k=new Uint32Array(this.__memory.buffer),D=new Uint32Array(g.buffer);k.set(D),u(I,y,U),u(C,y,F);var M=m.exports.convolveHV||m.exports._convolveHV;d(g,h,f)?M(U,F,B,h,f,A,x,1):(M(U,F,B,h,f,A,x,0),o(S,A,x));var z=new Uint32Array(S.buffer);return z.set(new Uint32Array(this.__memory.buffer,0,x*A)),S}},{"./resize_filter_gen":6}],9:[function(t,r,a){r.exports={name:"unsharp_mask",fn:t("./unsharp_mask"),wasm_fn:t("./unsharp_mask_wasm"),wasm_src:t("./unsharp_mask_wasm_base64")}},{"./unsharp_mask":10,"./unsharp_mask_wasm":11,"./unsharp_mask_wasm_base64":12}],10:[function(t,r,a){var c=t("glur/mono16");function d(o,l,p){for(var u=l*p,s=new Uint16Array(u),g,h,f,A,x=0;x<u;x++)g=o[4*x],h=o[4*x+1],f=o[4*x+2],A=g>=h&&g>=f?g:h>=f&&h>=g?h:f,s[x]=A<<8;return s}r.exports=function(o,l,p,u,s,g){var h,f,A,x,w;if(!(u===0||s<.5)){s>2&&(s=2);var v=d(o,l,p),b=new Uint16Array(v);c(b,l,p,s);for(var j=u/100*4096+.5|0,S=g<<8,_=l*p,I=0;I<_;I++)h=v[I],x=h-b[I],Math.abs(x)>=S&&(f=h+(j*x+2048>>12),f=f>65280?65280:f,f=f<0?0:f,h=h!==0?h:1,A=(f<<12)/h|0,w=I*4,o[w]=o[w]*A+2048>>12,o[w+1]=o[w+1]*A+2048>>12,o[w+2]=o[w+2]*A+2048>>12)}}},{"glur/mono16":18}],11:[function(t,r,a){r.exports=function(c,d,o,l,p,u){if(!(l===0||p<.5)){p>2&&(p=2);var s=d*o,g=s*4,h=s*2,f=s*2,A=Math.max(d,o)*4,x=8*4,w=0,v=g,b=v+h,j=b+f,S=j+f,_=S+A,I=this.__instance("unsharp_mask",g+h+f*2+A+x,{exp:Math.exp}),C=new Uint32Array(c.buffer),Q=new Uint32Array(this.__memory.buffer);Q.set(C);var T=I.exports.hsv_v16||I.exports._hsv_v16;T(w,v,d,o),T=I.exports.blurMono16||I.exports._blurMono16,T(v,b,j,S,_,d,o,p),T=I.exports.unsharp||I.exports._unsharp,T(w,w,v,b,d,o,l,u),C.set(new Uint32Array(this.__memory.buffer,0,s))}}},{}],12:[function(t,r,a){r.exports="AGFzbQEAAAAADAZkeWxpbmsAAAAAAAE0B2AAAGAEf39/fwBgBn9/f39/fwBgCH9/f39/f39/AGAIf39/f39/f30AYAJ9fwBgAXwBfAIZAgNlbnYDZXhwAAYDZW52Bm1lbW9yeQIAAAMHBgAFAgQBAwYGAX8AQQALB4oBCBFfX3dhc21fY2FsbF9jdG9ycwABFl9fYnVpbGRfZ2F1c3NpYW5fY29lZnMAAg5fX2dhdXNzMTZfbGluZQADCmJsdXJNb25vMTYABAdoc3ZfdjE2AAUHdW5zaGFycAAGDF9fZHNvX2hhbmRsZQMAGF9fd2FzbV9hcHBseV9kYXRhX3JlbG9jcwABCsUMBgMAAQvWAQEHfCABRNuGukOCGvs/IAC7oyICRAAAAAAAAADAohAAIgW2jDgCFCABIAKaEAAiAyADoCIGtjgCECABRAAAAAAAAPA/IAOhIgQgBKIgAyACIAKgokQAAAAAAADwP6AgBaGjIgS2OAIAIAEgBSAEmqIiB7Y4AgwgASADIAJEAAAAAAAA8D+gIASioiIItjgCCCABIAMgAkQAAAAAAADwv6AgBKKiIgK2OAIEIAEgByAIoCAFRAAAAAAAAPA/IAahoCIDo7Y4AhwgASAEIAKgIAOjtjgCGAuGBQMGfwl8An0gAyoCDCEVIAMqAgghFiADKgIUuyERIAMqAhC7IRACQCAEQQFrIghBAEgiCQRAIAIhByAAIQYMAQsgAiAALwEAuCIPIAMqAhi7oiIMIBGiIg0gDCAQoiAPIAMqAgS7IhOiIhQgAyoCALsiEiAPoqCgoCIOtjgCACACQQRqIQcgAEECaiEGIAhFDQAgCEEBIAhBAUgbIgpBf3MhCwJ/IAQgCmtBAXFFBEAgDiENIAgMAQsgAiANIA4gEKIgFCASIAAvAQK4Ig+ioKCgIg22OAIEIAJBCGohByAAQQRqIQYgDiEMIARBAmsLIQIgC0EAIARrRg0AA0AgByAMIBGiIA0gEKIgDyAToiASIAYvAQC4Ig6ioKCgIgy2OAIAIAcgDSARoiAMIBCiIA4gE6IgEiAGLwECuCIPoqCgoCINtjgCBCAHQQhqIQcgBkEEaiEGIAJBAkohACACQQJrIQIgAA0ACwsCQCAJDQAgASAFIAhsQQF0aiIAAn8gBkECay8BACICuCINIBW7IhKiIA0gFrsiE6KgIA0gAyoCHLuiIgwgEKKgIAwgEaKgIg8gB0EEayIHKgIAu6AiDkQAAAAAAADwQWMgDkQAAAAAAAAAAGZxBEAgDqsMAQtBAAs7AQAgCEUNACAGQQRrIQZBACAFa0EBdCEBA0ACfyANIBKiIAJB//8DcbgiDSAToqAgDyIOIBCioCAMIBGioCIPIAdBBGsiByoCALugIgxEAAAAAAAA8EFjIAxEAAAAAAAAAABmcQRAIAyrDAELQQALIQMgBi8BACECIAAgAWoiACADOwEAIAZBAmshBiAIQQFKIQMgDiEMIAhBAWshCCADDQALCwvRAgIBfwd8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIglEAAAAAAAAAMCiEAAiDLaMOAIUIAQgCZoQACIKIAqgIg22OAIQIAREAAAAAAAA8D8gCqEiCyALoiAKIAkgCaCiRAAAAAAAAPA/oCAMoaMiC7Y4AgAgBCAMIAuaoiIOtjgCDCAEIAogCUQAAAAAAADwP6AgC6KiIg+2OAIIIAQgCiAJRAAAAAAAAPC/oCALoqIiCbY4AgQgBCAOIA+gIAxEAAAAAAAA8D8gDaGgIgqjtjgCHCAEIAsgCaAgCqO2OAIYIAYEQANAIAAgBSAIbEEBdGogAiAIQQF0aiADIAQgBSAGEAMgCEEBaiIIIAZHDQALCyAFRQ0AQQAhCANAIAIgBiAIbEEBdGogASAIQQF0aiADIAQgBiAFEAMgCEEBaiIIIAVHDQALCwtxAQN/IAIgA2wiBQRAA0AgASAAKAIAIgRBEHZB/wFxIgIgAiAEQQh2Qf8BcSIDIAMgBEH/AXEiBEkbIAIgA0sbIgYgBiAEIAIgBEsbIAMgBEsbQQh0OwEAIAFBAmohASAAQQRqIQAgBUEBayIFDQALCwuZAgIDfwF8IAQgBWwhBAJ/IAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6AiC5lEAAAAAAAA4EFjBEAgC6oMAQtBgICAgHgLIQUgBARAIAdBCHQhCUEAIQYDQCAJIAIgBkEBdCIHai8BACIBIAMgB2ovAQBrIgcgB0EfdSIIaiAIc00EQCAAIAZBAnQiCGoiCiAFIAdsQYAQakEMdSABaiIHQYD+AyAHQYD+A0gbIgdBACAHQQBKG0EMdCABQQEgARtuIgEgCi0AAGxBgBBqQQx2OgAAIAAgCEEBcmoiByABIActAABsQYAQakEMdjoAACAAIAhBAnJqIgcgASAHLQAAbEGAEGpBDHY6AAALIAZBAWoiBiAERw0ACwsL"},{}],13:[function(t,r,a){var c=100;function d(o,l){this.create=o,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=l||2e3}d.prototype.acquire=function(){var o=this,l;return this.available.length!==0?l=this.available.pop():(l=this.create(),l.id=this.lastId++,l.release=function(){return o.release(l)}),this.acquired[l.id]=l,l},d.prototype.release=function(o){var l=this;delete this.acquired[o.id],o.lastUsed=Date.now(),this.available.push(o),this.timeoutId===0&&(this.timeoutId=setTimeout(function(){return l.gc()},c))},d.prototype.gc=function(){var o=this,l=Date.now();this.available=this.available.filter(function(p){return l-p.lastUsed>o.idle?(p.destroy(),!1):!0}),this.available.length!==0?this.timeoutId=setTimeout(function(){return o.gc()},c):this.timeoutId=0},r.exports=d},{}],14:[function(t,r,a){var c=2;r.exports=function(d,o,l,p,u,s){var g=l/d,h=p/o,f=(2*s+c+1)/u;if(f>.5)return[[l,p]];var A=Math.ceil(Math.log(Math.min(g,h))/Math.log(f));if(A<=1)return[[l,p]];for(var x=[],w=0;w<A;w++){var v=Math.round(Math.pow(Math.pow(d,A-w-1)*Math.pow(l,w+1),1/A)),b=Math.round(Math.pow(Math.pow(o,A-w-1)*Math.pow(p,w+1),1/A));x.push([v,b])}return x}},{}],15:[function(t,r,a){var c=1e-5;function d(l){var p=Math.round(l);return Math.abs(l-p)<c?p:Math.floor(l)}function o(l){var p=Math.round(l);return Math.abs(l-p)<c?p:Math.ceil(l)}r.exports=function(l){var p=l.toWidth/l.width,u=l.toHeight/l.height,s=d(l.srcTileSize*p)-2*l.destTileBorder,g=d(l.srcTileSize*u)-2*l.destTileBorder;if(s<1||g<1)throw new Error("Internal error in pica: target tile width/height is too small.");var h,f,A,x,w,v,b=[],j;for(x=0;x<l.toHeight;x+=g)for(A=0;A<l.toWidth;A+=s)h=A-l.destTileBorder,h<0&&(h=0),w=A+s+l.destTileBorder-h,h+w>=l.toWidth&&(w=l.toWidth-h),f=x-l.destTileBorder,f<0&&(f=0),v=x+g+l.destTileBorder-f,f+v>=l.toHeight&&(v=l.toHeight-f),j={toX:h,toY:f,toWidth:w,toHeight:v,toInnerX:A,toInnerY:x,toInnerWidth:s,toInnerHeight:g,offsetX:h/p-d(h/p),offsetY:f/u-d(f/u),scaleX:p,scaleY:u,x:d(h/p),y:d(f/u),width:o(w/p),height:o(v/u)},b.push(j);return b}},{}],16:[function(t,r,a){function c(d){return Object.prototype.toString.call(d)}r.exports.isCanvas=function(d){var o=c(d);return o==="[object HTMLCanvasElement]"||o==="[object OffscreenCanvas]"||o==="[object Canvas]"},r.exports.isImage=function(d){return c(d)==="[object HTMLImageElement]"},r.exports.isImageBitmap=function(d){return c(d)==="[object ImageBitmap]"},r.exports.limiter=function(d){var o=0,l=[];function p(){o<d&&l.length&&(o++,l.shift()())}return function(u){return new Promise(function(s,g){l.push(function(){u().then(function(h){s(h),o--,p()},function(h){g(h),o--,p()})}),p()})}},r.exports.cib_quality_name=function(d){switch(d){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},r.exports.cib_support=function(d){return Promise.resolve().then(function(){if(typeof createImageBitmap>"u")return!1;var o=d(100,100);return createImageBitmap(o,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then(function(l){var p=l.width===10;return l.close(),o=null,p})}).catch(function(){return!1})},r.exports.worker_offscreen_canvas_support=function(){return new Promise(function(d,o){if(typeof OffscreenCanvas>"u"){d(!1);return}function l(s){if(typeof createImageBitmap>"u"){s.postMessage(!1);return}Promise.resolve().then(function(){var g=new OffscreenCanvas(10,10),h=g.getContext("2d");return h.rect(0,0,1,1),createImageBitmap(g,0,0,1,1)}).then(function(){return s.postMessage(!0)},function(){return s.postMessage(!1)})}var p=btoa("(".concat(l.toString(),")(self);")),u=new Worker("data:text/javascript;base64,".concat(p));u.onmessage=function(s){return d(s.data)},u.onerror=o}).then(function(d){return d},function(){return!1})},r.exports.can_use_canvas=function(d){var o=!1;try{var l=d(2,1),p=l.getContext("2d"),u=p.createImageData(2,1);u.data[0]=12,u.data[1]=23,u.data[2]=34,u.data[3]=255,u.data[4]=45,u.data[5]=56,u.data[6]=67,u.data[7]=255,p.putImageData(u,0,0),u=null,u=p.getImageData(0,0,2,1),u.data[0]===12&&u.data[1]===23&&u.data[2]===34&&u.data[3]===255&&u.data[4]===45&&u.data[5]===56&&u.data[6]===67&&u.data[7]===255&&(o=!0)}catch{}return o},r.exports.cib_can_use_region=function(){return new Promise(function(d){if(typeof Image>"u"||typeof createImageBitmap>"u"){d(!1);return}var o=new Image;o.src="data:image/jpeg;base64,/9j/4QBiRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAYAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAAAAABIAAAAAQAAAEgAAAAB/9sAQwAEAwMEAwMEBAMEBQQEBQYKBwYGBgYNCQoICg8NEBAPDQ8OERMYFBESFxIODxUcFRcZGRsbGxAUHR8dGh8YGhsa/9sAQwEEBQUGBQYMBwcMGhEPERoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoa/8IAEQgAAQACAwERAAIRAQMRAf/EABQAAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAF/P//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Bf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Bf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEABj8Cf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8hf//aAAwDAQACAAMAAAAQH//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQMBAT8Qf//EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQIBAT8Qf//EABQQAQAAAAAAAAAAAAAAAAAAAAD/2gAIAQEAAT8Qf//Z",o.onload=function(){createImageBitmap(o,0,0,o.width,o.height).then(function(l){l.width===o.width&&l.height===o.height?d(!0):d(!1)},function(){return d(!1)})},o.onerror=function(){return d(!1)}})}},{}],17:[function(t,r,a){r.exports=function(){var c=t("./mathlib"),d;onmessage=function(o){var l=o.data.opts;if(!l.src&&l.srcBitmap){var p=new OffscreenCanvas(l.width,l.height),u=p.getContext("2d");u.drawImage(l.srcBitmap,0,0),l.src=u.getImageData(0,0,l.width,l.height).data,p.width=p.height=0,p=null,l.srcBitmap.close(),l.srcBitmap=null}d||(d=new c(o.data.features));var s=d.resizeAndUnsharp(l);postMessage({data:s},[s.buffer])}}},{"./mathlib":1}],18:[function(t,r,a){var c,d,o,l,p,u,s,g;function h(x){x<.5&&(x=.5);var w=Math.exp(.726*.726)/x,v=Math.exp(-w),b=Math.exp(-2*w),j=(1-v)*(1-v)/(1+2*w*v-b);return c=j,d=j*(w-1)*v,o=j*(w+1)*v,l=-j*b,p=2*v,u=-b,s=(c+d)/(1-p-u),g=(o+l)/(1-p-u),new Float32Array([c,d,o,l,p,u,s,g])}function f(x,w,v,b,j,S){var _,I,C,Q,T,B,O,U,F,P,m,y,k,D;for(F=0;F<S;F++){for(B=F*j,O=F,U=0,_=x[B],T=_*b[6],Q=T,m=b[0],y=b[1],k=b[4],D=b[5],P=0;P<j;P++)I=x[B],C=I*m+_*y+Q*k+T*D,T=Q,Q=C,_=I,v[U]=Q,U++,B++;for(B--,U--,O+=S*(j-1),_=x[B],T=_*b[7],Q=T,I=_,m=b[2],y=b[3],P=j-1;P>=0;P--)C=I*m+_*y+Q*k+T*D,T=Q,Q=C,_=I,I=x[B],w[O]=v[U]+Q,B--,U--,O-=S}}function A(x,w,v,b){if(b){var j=new Uint16Array(x.length),S=new Float32Array(Math.max(w,v)),_=h(b);f(x,j,S,_,w,v),f(j,x,S,_,v,w)}}r.exports=A},{}],19:[function(t,r,a){var c=t("object-assign"),d=t("./lib/base64decode"),o=t("./lib/wa_detect"),l={js:!0,wasm:!0};function p(u){if(!(this instanceof p))return new p(u);var s=c({},l,u||{});if(this.options=s,this.__cache={},this.__init_promise=null,this.__modules=s.modules||{},this.__memory=null,this.__wasm={},this.__isLE=new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]===1,!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}p.prototype.has_wasm=o,p.prototype.use=function(u){return this.__modules[u.name]=u,this.options.wasm&&this.has_wasm()&&u.wasm_fn?this[u.name]=u.wasm_fn:this[u.name]=u.fn,this},p.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error(`mathlib: only "wasm" was enabled, but it's not supported`));var u=this;return this.__init_promise=Promise.all(Object.keys(u.__modules).map(function(s){var g=u.__modules[s];return!u.options.wasm||!u.has_wasm()||!g.wasm_fn||u.__wasm[s]?null:WebAssembly.compile(u.__base64decode(g.wasm_src)).then(function(h){u.__wasm[s]=h})})).then(function(){return u}),this.__init_promise},p.prototype.__base64decode=d,p.prototype.__reallocate=function(u){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(u/(64*1024))}),this.__memory;var s=this.__memory.buffer.byteLength;return s<u&&this.__memory.grow(Math.ceil((u-s)/(64*1024))),this.__memory},p.prototype.__instance=function(u,s,g){if(s&&this.__reallocate(s),!this.__wasm[u]){var h=this.__modules[u];this.__wasm[u]=new WebAssembly.Module(this.__base64decode(h.wasm_src))}if(!this.__cache[u]){var f={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[u]=new WebAssembly.Instance(this.__wasm[u],{env:c(f,g||{})})}return this.__cache[u]},p.prototype.__align=function(u,s){s=s||8;var g=u%s;return u+(g?s-g:0)},r.exports=p},{"./lib/base64decode":20,"./lib/wa_detect":21,"object-assign":22}],20:[function(t,r,a){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";r.exports=function(d){for(var o=d.replace(/[\r\n=]/g,""),l=o.length,p=new Uint8Array(l*3>>2),u=0,s=0,g=0;g<l;g++)g%4===0&&g&&(p[s++]=u>>16&255,p[s++]=u>>8&255,p[s++]=u&255),u=u<<6|c.indexOf(o.charAt(g));var h=l%4*6;return h===0?(p[s++]=u>>16&255,p[s++]=u>>8&255,p[s++]=u&255):h===18?(p[s++]=u>>10&255,p[s++]=u>>2&255):h===12&&(p[s++]=u>>4&255),p}},{}],21:[function(t,r,a){var c;r.exports=function(){if(typeof c<"u"||(c=!1,typeof WebAssembly>"u"))return c;try{var d=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),o=new WebAssembly.Module(d),l=new WebAssembly.Instance(o,{});return l.exports.test(4)!==0&&(c=!0),c}catch{}return c}},{}],22:[function(t,r,a){var c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function l(u){if(u==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(u)}function p(){try{if(!Object.assign)return!1;var u=new String("abc");if(u[5]="de",Object.getOwnPropertyNames(u)[0]==="5")return!1;for(var s={},g=0;g<10;g++)s["_"+String.fromCharCode(g)]=g;var h=Object.getOwnPropertyNames(s).map(function(A){return s[A]});if(h.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(A){f[A]=A}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}r.exports=p()?Object.assign:function(u,s){for(var g,h=l(u),f,A=1;A<arguments.length;A++){g=Object(arguments[A]);for(var x in g)d.call(g,x)&&(h[x]=g[x]);if(c){f=c(g);for(var w=0;w<f.length;w++)o.call(g,f[w])&&(h[f[w]]=g[f[w]])}}return h}},{}],23:[function(t,r,a){var c=arguments[3],d=arguments[4],o=arguments[5],l=JSON.stringify;r.exports=function(p,u){for(var s,g=Object.keys(o),h=0,f=g.length;h<f;h++){var A=g[h],x=o[A].exports;if(x===p||x&&x.default===p){s=A;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var w={},h=0,f=g.length;h<f;h++){var A=g[h];w[A]=A}d[s]=["function(require,module,exports){"+p+"(self); }",w]}var v=Math.floor(Math.pow(16,8)*Math.random()).toString(16),b={};b[s]=s,d[v]=["function(require,module,exports){var f = require("+l(s)+");(f.default ? f.default : f)(self);}",b];var j={};S(v);function S(B){j[B]=!0;for(var O in d[B][1]){var U=d[B][1][O];j[U]||S(U)}}var _="("+c+")({"+Object.keys(j).map(function(B){return l(B)+":["+d[B][0]+","+l(d[B][1])+"]"}).join(",")+"},{},["+l(v)+"])",I=window.URL||window.webkitURL||window.mozURL||window.msURL,C=new Blob([_],{type:"text/javascript"});if(u&&u.bare)return C;var Q=I.createObjectURL(C),T=new Worker(Q);return T.objectURL=Q,T}},{}],"/index.js":[function(t,r,a){function c(m,y){return u(m)||p(m,y)||o(m,y)||d()}function d(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(m,y){if(m){if(typeof m=="string")return l(m,y);var k=Object.prototype.toString.call(m).slice(8,-1);if(k==="Object"&&m.constructor&&(k=m.constructor.name),k==="Map"||k==="Set")return Array.from(m);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return l(m,y)}}function l(m,y){(y==null||y>m.length)&&(y=m.length);for(var k=0,D=new Array(y);k<y;k++)D[k]=m[k];return D}function p(m,y){var k=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(k!=null){var D=[],M=!0,z=!1,L,N;try{for(k=k.call(m);!(M=(L=k.next()).done)&&(D.push(L.value),!(y&&D.length===y));M=!0);}catch(G){z=!0,N=G}finally{try{!M&&k.return!=null&&k.return()}finally{if(z)throw N}}return D}}function u(m){if(Array.isArray(m))return m}var s=t("object-assign"),g=t("webworkify"),h=t("./lib/mathlib"),f=t("./lib/pool"),A=t("./lib/utils"),x=t("./lib/worker"),w=t("./lib/stepper"),v=t("./lib/tiler"),b=t("./lib/mm_resize/resize_filter_info"),j={},S=!1;try{typeof navigator<"u"&&navigator.userAgent&&(S=navigator.userAgent.indexOf("Safari")>=0)}catch{}var _=1;typeof navigator<"u"&&(_=Math.min(navigator.hardwareConcurrency||1,4));var I={tile:1024,concurrency:_,features:["js","wasm","ww"],idle:2e3,createCanvas:function(m,y){var k=document.createElement("canvas");return k.width=m,k.height=y,k}},C={filter:"mks2013",unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0},Q=!1,T=!1,B=!1,O=!1,U=!1;function F(){return{value:g(x),destroy:function(){if(this.value.terminate(),typeof window<"u"){var m=window.URL||window.webkitURL||window.mozURL||window.msURL;m&&m.revokeObjectURL&&this.value.objectURL&&m.revokeObjectURL(this.value.objectURL)}}}}function P(m){if(!(this instanceof P))return new P(m);this.options=s({},I,m||{});var y="lk_".concat(this.options.concurrency);this.__limit=j[y]||A.limiter(this.options.concurrency),j[y]||(j[y]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}P.prototype.init=function(){var m=this;if(this.__initPromise)return this.__initPromise;if(typeof ImageData<"u"&&typeof Uint8ClampedArray<"u")try{new ImageData(new Uint8ClampedArray(400),10,10),Q=!0}catch{}typeof ImageBitmap<"u"&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?T=!0:this.debug("ImageBitmap does not support .close(), disabled"));var y=this.options.features.slice();if(y.indexOf("all")>=0&&(y=["cib","wasm","js","ww"]),this.__requested_features=y,this.__mathlib=new h(y),y.indexOf("ww")>=0&&typeof window<"u"&&"Worker"in window)try{var k=t("webworkify")(function(){});k.terminate(),this.features.ww=!0;var D="wp_".concat(JSON.stringify(this.options));j[D]?this.__workersPool=j[D]:(this.__workersPool=new f(F,this.options.idle),j[D]=this.__workersPool)}catch{}var M=this.__mathlib.init().then(function(G){s(m.features,G.features)}),z;T?z=A.cib_support(this.options.createCanvas).then(function(G){if(m.features.cib&&y.indexOf("cib")<0){m.debug("createImageBitmap() resize supported, but disabled by config");return}y.indexOf("cib")>=0&&(m.features.cib=G)}):z=Promise.resolve(!1),B=A.can_use_canvas(this.options.createCanvas);var L;T&&Q&&y.indexOf("ww")!==-1?L=A.worker_offscreen_canvas_support():L=Promise.resolve(!1),L=L.then(function(G){O=G});var N=A.cib_can_use_region().then(function(G){U=G});return this.__initPromise=Promise.all([M,z,L,N]).then(function(){return m}),this.__initPromise},P.prototype.__invokeResize=function(m,y){var k=this;return y.__mathCache=y.__mathCache||{},Promise.resolve().then(function(){return k.features.ww?new Promise(function(D,M){var z=k.__workersPool.acquire();y.cancelToken&&y.cancelToken.catch(function(N){return M(N)}),z.value.onmessage=function(N){z.release(),N.data.err?M(N.data.err):D(N.data)};var L=[];m.src&&L.push(m.src.buffer),m.srcBitmap&&L.push(m.srcBitmap),z.value.postMessage({opts:m,features:k.__requested_features,preload:{wasm_nodule:k.__mathlib.__}},L)}):{data:k.__mathlib.resizeAndUnsharp(m,y.__mathCache)}})},P.prototype.__extractTileData=function(m,y,k,D,M){if(this.features.ww&&O&&(A.isCanvas(y)||U))return this.debug("Create tile for OffscreenCanvas"),createImageBitmap(D.srcImageBitmap||y,m.x,m.y,m.width,m.height).then(function(N){return M.srcBitmap=N,M});if(A.isCanvas(y))return D.srcCtx||(D.srcCtx=y.getContext("2d")),this.debug("Get tile pixel data"),M.src=D.srcCtx.getImageData(m.x,m.y,m.width,m.height).data,M;this.debug("Draw tile imageBitmap/image to temporary canvas");var z=this.options.createCanvas(m.width,m.height),L=z.getContext("2d");return L.globalCompositeOperation="copy",L.drawImage(D.srcImageBitmap||y,m.x,m.y,m.width,m.height,0,0,m.width,m.height),this.debug("Get tile pixel data"),M.src=L.getImageData(0,0,m.width,m.height).data,z.width=z.height=0,M},P.prototype.__landTileData=function(m,y,k){var D;if(this.debug("Convert raw rgba tile result to ImageData"),y.bitmap)return k.toCtx.drawImage(y.bitmap,m.toX,m.toY),null;if(Q)D=new ImageData(new Uint8ClampedArray(y.data),m.toWidth,m.toHeight);else if(D=k.toCtx.createImageData(m.toWidth,m.toHeight),D.data.set)D.data.set(y.data);else for(var M=D.data.length-1;M>=0;M--)D.data[M]=y.data[M];return this.debug("Draw tile"),S?k.toCtx.putImageData(D,m.toX,m.toY,m.toInnerX-m.toX,m.toInnerY-m.toY,m.toInnerWidth+1e-5,m.toInnerHeight+1e-5):k.toCtx.putImageData(D,m.toX,m.toY,m.toInnerX-m.toX,m.toInnerY-m.toY,m.toInnerWidth,m.toInnerHeight),null},P.prototype.__tileAndResize=function(m,y,k){var D=this,M={srcCtx:null,srcImageBitmap:null,isImageBitmapReused:!1,toCtx:null},z=function(L){return D.__limit(function(){if(k.canceled)return k.cancelToken;var N={width:L.width,height:L.height,toWidth:L.toWidth,toHeight:L.toHeight,scaleX:L.scaleX,scaleY:L.scaleY,offsetX:L.offsetX,offsetY:L.offsetY,filter:k.filter,unsharpAmount:k.unsharpAmount,unsharpRadius:k.unsharpRadius,unsharpThreshold:k.unsharpThreshold};return D.debug("Invoke resize math"),Promise.resolve(N).then(function(G){return D.__extractTileData(L,m,k,M,G)}).then(function(G){return D.debug("Invoke resize math"),D.__invokeResize(G,k)}).then(function(G){return k.canceled?k.cancelToken:(M.srcImageData=null,D.__landTileData(L,G,M))})})};return Promise.resolve().then(function(){if(M.toCtx=y.getContext("2d"),A.isCanvas(m))return null;if(A.isImageBitmap(m))return M.srcImageBitmap=m,M.isImageBitmapReused=!0,null;if(A.isImage(m))return T?(D.debug("Decode image via createImageBitmap"),createImageBitmap(m).then(function(L){M.srcImageBitmap=L}).catch(function(L){return null})):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')}).then(function(){if(k.canceled)return k.cancelToken;D.debug("Calculate tiles");var L=v({width:k.width,height:k.height,srcTileSize:D.options.tile,toWidth:k.toWidth,toHeight:k.toHeight,destTileBorder:k.__destTileBorder}),N=L.map(function(Y){return z(Y)});function G(Y){Y.srcImageBitmap&&(Y.isImageBitmapReused||Y.srcImageBitmap.close(),Y.srcImageBitmap=null)}return D.debug("Process tiles"),Promise.all(N).then(function(){return D.debug("Finished!"),G(M),y},function(Y){throw G(M),Y})})},P.prototype.__processStages=function(m,y,k,D){var M=this;if(D.canceled)return D.cancelToken;var z=m.shift(),L=c(z,2),N=L[0],G=L[1],Y=m.length===0,se;Y||b.q2f.indexOf(D.filter)<0?se=D.filter:D.filter==="box"?se="box":se="hamming",D=s({},D,{toWidth:N,toHeight:G,filter:se});var ie;return Y||(ie=this.options.createCanvas(N,G)),this.__tileAndResize(y,Y?k:ie,D).then(function(){return Y?k:(D.width=N,D.height=G,M.__processStages(m,ie,k,D))}).then(function(te){return ie&&(ie.width=ie.height=0),te})},P.prototype.__resizeViaCreateImageBitmap=function(m,y,k){var D=this,M=y.getContext("2d");return this.debug("Resize via createImageBitmap()"),createImageBitmap(m,{resizeWidth:k.toWidth,resizeHeight:k.toHeight,resizeQuality:A.cib_quality_name(b.f2q[k.filter])}).then(function(z){if(k.canceled)return k.cancelToken;if(!k.unsharpAmount)return M.drawImage(z,0,0),z.close(),M=null,D.debug("Finished!"),y;D.debug("Unsharp result");var L=D.options.createCanvas(k.toWidth,k.toHeight),N=L.getContext("2d");N.drawImage(z,0,0),z.close();var G=N.getImageData(0,0,k.toWidth,k.toHeight);return D.__mathlib.unsharp_mask(G.data,k.toWidth,k.toHeight,k.unsharpAmount,k.unsharpRadius,k.unsharpThreshold),M.putImageData(G,0,0),L.width=L.height=0,G=N=L=M=null,D.debug("Finished!"),y})},P.prototype.resize=function(m,y,k){var D=this;this.debug("Start resize...");var M=s({},C);if(isNaN(k)?k&&(M=s(M,k)):M=s(M,{quality:k}),M.toWidth=y.width,M.toHeight=y.height,M.width=m.naturalWidth||m.width,M.height=m.naturalHeight||m.height,Object.prototype.hasOwnProperty.call(M,"quality")){if(M.quality<0||M.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(M.quality));M.filter=b.q2f[M.quality]}if(y.width===0||y.height===0)return Promise.reject(new Error("Invalid output size: ".concat(y.width,"x").concat(y.height)));M.unsharpRadius>2&&(M.unsharpRadius=2),M.canceled=!1,M.cancelToken&&(M.cancelToken=M.cancelToken.then(function(L){throw M.canceled=!0,L},function(L){throw M.canceled=!0,L}));var z=3;return M.__destTileBorder=Math.ceil(Math.max(z,2.5*M.unsharpRadius|0)),this.init().then(function(){if(M.canceled)return M.cancelToken;if(D.features.cib){if(b.q2f.indexOf(M.filter)>=0)return D.__resizeViaCreateImageBitmap(m,y,M);D.debug("cib is enabled, but not supports provided filter, fallback to manual math")}if(!B){var L=new Error("Pica: cannot use getImageData on canvas, make sure fingerprinting protection isn't enabled");throw L.code="ERR_GET_IMAGE_DATA",L}var N=w(M.width,M.height,M.toWidth,M.toHeight,D.options.tile,M.__destTileBorder);return D.__processStages(N,m,y,M)})},P.prototype.resizeBuffer=function(m){var y=this,k=s({},C,m);if(Object.prototype.hasOwnProperty.call(k,"quality")){if(k.quality<0||k.quality>3)throw new Error("Pica: .quality should be [0..3], got ".concat(k.quality));k.filter=b.q2f[k.quality]}return this.init().then(function(){return y.__mathlib.resizeAndUnsharp(k)})},P.prototype.toBlob=function(m,y,k){return y=y||"image/png",new Promise(function(D){if(m.toBlob){m.toBlob(function(G){return D(G)},y,k);return}if(m.convertToBlob){D(m.convertToBlob({type:y,quality:k}));return}for(var M=atob(m.toDataURL(y,k).split(",")[1]),z=M.length,L=new Uint8Array(z),N=0;N<z;N++)L[N]=M.charCodeAt(N);D(new Blob([L],{type:y}))})},P.prototype.debug=function(){},r.exports=P},{"./lib/mathlib":1,"./lib/mm_resize/resize_filter_info":7,"./lib/pool":13,"./lib/stepper":14,"./lib/tiler":15,"./lib/utils":16,"./lib/worker":17,"object-assign":22,webworkify:23}]},{},[])("/index.js")})})(Fn);var so=Fn.exports;const lo=Ri(so);function Nn(e,i){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);i&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function tt(e){for(var i=1;i<arguments.length;i++){var t=arguments[i]!=null?arguments[i]:{};i%2?Nn(Object(t),!0).forEach(function(r){uo(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nn(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function co(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function zn(e,i){for(var t=0;t<i.length;t++){var r=i[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gn(r.key),r)}}function ho(e,i,t){return i&&zn(e.prototype,i),t&&zn(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uo(e,i,t){return i=Gn(i),i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}function nt(){return nt=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},nt.apply(this,arguments)}function po(e,i){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,i||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(e)}function Gn(e){var i=po(e,"string");return typeof i=="symbol"?i:String(i)}var Hn={exports:{}};(function(e){typeof window>"u"||function(i){var t=i.HTMLCanvasElement&&i.HTMLCanvasElement.prototype,r=i.Blob&&function(){try{return!!new Blob}catch{return!1}}(),a=r&&i.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),c=i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder,d=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,o=(r||c)&&i.atob&&i.ArrayBuffer&&i.Uint8Array&&function(l){var p,u,s,g,h,f,A,x,w;if(p=l.match(d),!p)throw new Error("invalid data URI");for(u=p[2]?p[1]:"text/plain"+(p[3]||";charset=US-ASCII"),s=!!p[4],g=l.slice(p[0].length),s?h=atob(g):h=decodeURIComponent(g),f=new ArrayBuffer(h.length),A=new Uint8Array(f),x=0;x<h.length;x+=1)A[x]=h.charCodeAt(x);return r?new Blob([a?A:f],{type:u}):(w=new c,w.append(f),w.getBlob(u))};i.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(l,p,u){var s=this;setTimeout(function(){u&&t.toDataURL&&o?l(o(s.toDataURL(p,u))):l(s.mozGetAsFile("blob",p))})}:t.toDataURL&&o&&(t.msToBlob?t.toBlob=function(l,p,u){var s=this;setTimeout(function(){(p&&p!=="image/png"||u)&&t.toDataURL&&o?l(o(s.toDataURL(p,u))):l(s.msToBlob(p))})}:t.toBlob=function(l,p,u){var s=this;setTimeout(function(){l(o(s.toDataURL(p,u)))})})),e.exports?e.exports=o:i.dataURLtoBlob=o}(window)})(Hn);var Wn=Hn.exports,go=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},$n={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},fo=typeof window<"u"&&typeof window.document<"u",ve=fo?window:{},it=function(e){return e>0&&e<1/0},mo=Array.prototype.slice;function Ht(e){return Array.from?Array.from(e):mo.call(e)}var Ao=/^image\/.+$/;function Wt(e){return Ao.test(e)}function xo(e){var i=Wt(e)?e.substr(6):"";return i==="jpeg"&&(i="jpg"),".".concat(i)}var qn=String.fromCharCode;function wo(e,i,t){var r="",a;for(t+=i,a=i;a<t;a+=1)r+=qn(e.getUint8(a));return r}var bo=ve.btoa;function Yn(e,i){for(var t=[],r=8192,a=new Uint8Array(e);a.length>0;)t.push(qn.apply(null,Ht(a.subarray(0,r)))),a=a.subarray(r);return"data:".concat(i,";base64,").concat(bo(t.join("")))}function yo(e){var i=new DataView(e),t;try{var r,a,c;if(i.getUint8(0)===255&&i.getUint8(1)===216)for(var d=i.byteLength,o=2;o+1<d;){if(i.getUint8(o)===255&&i.getUint8(o+1)===225){a=o;break}o+=1}if(a){var l=a+4,p=a+10;if(wo(i,l,4)==="Exif"){var u=i.getUint16(p);if(r=u===18761,(r||u===19789)&&i.getUint16(p+2,r)===42){var s=i.getUint32(p+4,r);s>=8&&(c=p+s)}}}if(c){var g=i.getUint16(c,r),h,f;for(f=0;f<g;f+=1)if(h=c+f*12+2,i.getUint16(h,r)===274){h+=8,t=i.getUint16(h,r),i.setUint16(h,1,r);break}}}catch{t=1}return t}function vo(e){var i=0,t=1,r=1;switch(e){case 2:t=-1;break;case 3:i=-180;break;case 4:r=-1;break;case 5:i=90,r=-1;break;case 6:i=90;break;case 7:i=90,t=-1;break;case 8:i=-90;break}return{rotate:i,scaleX:t,scaleY:r}}var Co=/\.\d*(?:0|9){12}\d*$/;function Jn(e){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Co.test(e)?Math.round(e*i)/i:e}function Pe(e){var i=e.aspectRatio,t=e.height,r=e.width,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",c=it(r),d=it(t);if(c&&d){var o=t*i;(a==="contain"||a==="none")&&o>r||a==="cover"&&o<r?t=r/i:r=t*i}else c?t=r/i:d&&(r=t*i);return{width:r,height:t}}function Io(e){for(var i=Ht(new Uint8Array(e)),t=i.length,r=[],a=0;a+3<t;){var c=i[a],d=i[a+1];if(c===255&&d===218)break;if(c===255&&d===216)a+=2;else{var o=i[a+2]*256+i[a+3],l=a+o+2,p=i.slice(a,l);r.push(p),a=l}}return r.reduce(function(u,s){return s[0]===255&&s[1]===225?u.concat(s):u},[])}function Eo(e,i){var t=Ht(new Uint8Array(e));if(t[2]!==255||t[3]!==224)return e;var r=t[4]*256+t[5],a=[255,216].concat(i,t.slice(4+r));return new Uint8Array(a)}var jo=ve.ArrayBuffer,$t=ve.FileReader,Ee=ve.URL||ve.webkitURL,Bo=/\.\w+$/,So=ve.Compressor,To=function(){function e(i,t){co(this,e),this.file=i,this.exif=[],this.image=new Image,this.options=tt(tt({},$n),t),this.aborted=!1,this.result=null,this.init()}return ho(e,[{key:"init",value:function(){var i=this,t=this.file,r=this.options;if(!go(t)){this.fail(new Error("The first argument must be a File or Blob object."));return}var a=t.type;if(!Wt(a)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Ee||!$t){this.fail(new Error("The current browser does not support image compression."));return}jo||(r.checkOrientation=!1,r.retainExif=!1);var c=a==="image/jpeg",d=c&&r.checkOrientation,o=c&&r.retainExif;if(Ee&&!d&&!o)this.load({url:Ee.createObjectURL(t)});else{var l=new $t;this.reader=l,l.onload=function(p){var u=p.target,s=u.result,g={},h=1;d&&(h=yo(s),h>1&&nt(g,vo(h))),o&&(i.exif=Io(s)),d||o?!Ee||h>1?g.url=Yn(s,a):g.url=Ee.createObjectURL(t):g.url=s,i.load(g)},l.onabort=function(){i.fail(new Error("Aborted to read the image with FileReader."))},l.onerror=function(){i.fail(new Error("Failed to read the image with FileReader."))},l.onloadend=function(){i.reader=null},d||o?l.readAsArrayBuffer(t):l.readAsDataURL(t)}}},{key:"load",value:function(i){var t=this,r=this.file,a=this.image;a.onload=function(){t.draw(tt(tt({},i),{},{naturalWidth:a.naturalWidth,naturalHeight:a.naturalHeight}))},a.onabort=function(){t.fail(new Error("Aborted to load the image."))},a.onerror=function(){t.fail(new Error("Failed to load the image."))},ve.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ve.navigator.userAgent)&&(a.crossOrigin="anonymous"),a.alt=r.name,a.src=i.url}},{key:"draw",value:function(i){var t=this,r=i.naturalWidth,a=i.naturalHeight,c=i.rotate,d=c===void 0?0:c,o=i.scaleX,l=o===void 0?1:o,p=i.scaleY,u=p===void 0?1:p,s=this.file,g=this.image,h=this.options,f=document.createElement("canvas"),A=f.getContext("2d"),x=Math.abs(d)%180===90,w=(h.resize==="contain"||h.resize==="cover")&&it(h.width)&&it(h.height),v=Math.max(h.maxWidth,0)||1/0,b=Math.max(h.maxHeight,0)||1/0,j=Math.max(h.minWidth,0)||0,S=Math.max(h.minHeight,0)||0,_=r/a,I=h.width,C=h.height;if(x){var Q=[b,v];v=Q[0],b=Q[1];var T=[S,j];j=T[0],S=T[1];var B=[C,I];I=B[0],C=B[1]}w&&(_=I/C);var O=Pe({aspectRatio:_,width:v,height:b},"contain");v=O.width,b=O.height;var U=Pe({aspectRatio:_,width:j,height:S},"cover");if(j=U.width,S=U.height,w){var F=Pe({aspectRatio:_,width:I,height:C},h.resize);I=F.width,C=F.height}else{var P=Pe({aspectRatio:_,width:I,height:C}),m=P.width;I=m===void 0?r:m;var y=P.height;C=y===void 0?a:y}I=Math.floor(Jn(Math.min(Math.max(I,j),v))),C=Math.floor(Jn(Math.min(Math.max(C,S),b)));var k=-I/2,D=-C/2,M=I,z=C,L=[];if(w){var N=0,G=0,Y=r,se=a,ie=Pe({aspectRatio:_,width:r,height:a},{contain:"cover",cover:"contain"}[h.resize]);Y=ie.width,se=ie.height,N=(r-Y)/2,G=(a-se)/2,L.push(N,G,Y,se)}if(L.push(k,D,M,z),x){var te=[C,I];I=te[0],C=te[1]}f.width=I,f.height=C,Wt(h.mimeType)||(h.mimeType=s.type);var q="transparent";s.size>h.convertSize&&h.convertTypes.indexOf(h.mimeType)>=0&&(h.mimeType="image/jpeg");var re=h.mimeType==="image/jpeg";if(re&&(q="#fff"),A.fillStyle=q,A.fillRect(0,0,I,C),h.beforeDraw&&h.beforeDraw.call(this,A,f),!this.aborted&&(A.save(),A.translate(I/2,C/2),A.rotate(d*Math.PI/180),A.scale(l,u),A.drawImage.apply(A,[g].concat(L)),A.restore(),h.drew&&h.drew.call(this,A,f),!this.aborted)){var me=function(W){if(!t.aborted){var J=function(be){return t.done({naturalWidth:r,naturalHeight:a,result:be})};if(W&&re&&h.retainExif&&t.exif&&t.exif.length>0){var ae=function(be){return J(Wn(Yn(Eo(be,t.exif),h.mimeType)))};if(W.arrayBuffer)W.arrayBuffer().then(ae).catch(function(){t.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var Ae=new $t;t.reader=Ae,Ae.onload=function(be){var ze=be.target;ae(ze.result)},Ae.onabort=function(){t.fail(new Error("Aborted to read the compressed image with FileReader."))},Ae.onerror=function(){t.fail(new Error("Failed to read the compressed image with FileReader."))},Ae.onloadend=function(){t.reader=null},Ae.readAsArrayBuffer(W)}}else J(W)}};f.toBlob?f.toBlob(me,h.mimeType,h.quality):me(Wn(f.toDataURL(h.mimeType,h.quality)))}}},{key:"done",value:function(i){var t=i.naturalWidth,r=i.naturalHeight,a=i.result,c=this.file,d=this.image,o=this.options;if(Ee&&d.src.indexOf("blob:")===0&&Ee.revokeObjectURL(d.src),a)if(o.strict&&!o.retainExif&&a.size>c.size&&o.mimeType===c.type&&!(o.width>t||o.height>r||o.minWidth>t||o.minHeight>r||o.maxWidth<t||o.maxHeight<r))a=c;else{var l=new Date;a.lastModified=l.getTime(),a.lastModifiedDate=l,a.name=c.name,a.name&&a.type!==c.type&&(a.name=a.name.replace(Bo,xo(a.type)))}else a=c;this.result=a,o.success&&o.success.call(this,a)}},{key:"fail",value:function(i){var t=this.options;if(t.error)t.error.call(this,i);else throw i}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=So,e}},{key:"setDefaults",value:function(i){nt($n,i)}}]),e}();function ko(){return window.navigator.brave!=null?window.navigator.brave.isBrave.name=="isBrave":!1}const Vn=R.forwardRef((e,i)=>{const{imageSrc:t,imageType:r,onImageCropped:a,width:c,height:d}=e,[o,l]=R.useState({x:0,y:0}),[p,u]=R.useState(1),[s,g]=R.useState(null);R.useState(null);const h=R.useCallback((S,_)=>{g(_)},[]);R.useImperativeHandle(i,()=>({async showCroppedImage(){try{if(t){const S=await v(t,s),_=await x(S),I=ko()?await A(S):await f(_),C=await x(I);a(C)}else return"Nothing"}catch(S){console.error(S)}}}));async function f(S){const _=lo();let I=await b(S);const C=document.createElement("canvas");return C.height=128,C.width=128,new Promise(Q=>{Q(_.resize(I,C,{unsharpAmount:100,unsharpRadius:.7,unsharpThreshold:2}).then(T=>_.toBlob(T,r,1)))})}async function A(S){return new Promise((_,I)=>{new To(S,{quality:1,strict:!0,maxWidth:128,maxHeight:128,checkOrientation:!1,success:_,error:I})})}const x=async S=>await w(S),w=S=>new Promise((_,I)=>{const C=new FileReader;C.readAsDataURL(S),C.onload=()=>_(C.result),C.onerror=Q=>I(Q)});async function v(S,_){const I=await b(S),C=document.createElement("canvas");C.width=_.width,C.height=_.height;const Q=C.getContext("2d"),T="none.jpg";return Q.drawImage(I,_.x,_.y,_.width,_.height,0,0,_.width,_.height),new Promise((B,O)=>{C.toBlob(U=>{B(new File([U],T,{type:r,lastModified:Date.now()}))},r,1)})}const b=S=>new Promise((_,I)=>{const C=new Image;C.addEventListener("load",()=>_(C)),C.addEventListener("error",Q=>I(Q)),C.setAttribute("crossOrigin","anonymous"),C.src=S}),j=S=>{u(S)};return n.jsx(R.Fragment,{children:n.jsx(_o,{children:n.jsx(hc,{image:t,crop:o,zoom:p,aspect:1,onCropChange:l,onCropComplete:h,onZoomChange:j,style:{containerStyle:{width:c||"250px",height:d||"250px",position:"relative",borderRadius:"20px"}}})})})}),_o=E.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  `,Mo=({onClose:e,InnerComponentProps:i})=>{const{setChannelLogo:t,croppedImage:r,setCroppedImage:a,imageSrc:c,setImageSrc:d,imageType:o,setImageType:l}=i,p=R.useRef(),u=R.useRef(null);je(u,()=>{e()});const s=f=>{f.preventDefault()},g=f=>{f.preventDefault(),f.stopPropagation(),h(f.dataTransfer,"transfer",f)},h=async(f,A,x)=>{if(x.preventDefault(),a(void 0),f==null?void 0:f.files[0]){var w=new FileReader;w.readAsDataURL(f==null?void 0:f.files[0]),w.onloadend=function(v){var b;d(w.result),l((b=f==null?void 0:f.files[0])==null?void 0:b.type)}}};return n.jsxs(Ro,{ref:u,children:[n.jsx(Uo,{children:n.jsx(Po,{onClick:e})}),n.jsxs(Qo,{children:[n.jsx(Do,{children:"Please upload a PNG, JPG. Crop the image to resize to 128px."}),n.jsx(zo,{className:"",children:n.jsx("div",{onDragOver:f=>s(f),onDrop:f=>g(f),className:"bordered",children:n.jsxs("div",{className:"inner",children:[n.jsx("div",{className:"crop-div",children:r?n.jsx("div",{className:"crop-innderdiv",children:n.jsx("div",{children:n.jsx("img",{alt:"Cropped Img",src:r,className:"croppedImage"})})}):n.jsx("div",{className:"crop-innderdiv",children:n.jsx(Vn,{className:"cropper",imageSrc:c,imageType:o,onImageCropped:f=>a(f),width:"128px",height:"128px",ref:p})})}),n.jsxs(Lo,{children:[n.jsx("p",{className:"text-below",children:"Drag and Drop or"}),n.jsx("div",{className:"text-div",children:n.jsxs("label",{htmlFor:"file-upload",className:"labeled",children:[n.jsx("div",{children:"Browse to Choose"}),n.jsx("input",{id:"file-upload",accept:"image/*",name:"file-upload",hidden:!0,onChange:f=>h(f.target,"target",f),type:"file",className:"sr-only",readOnly:!0})]})})]})]})})}),n.jsx(Oo,{children:r?n.jsx(n.Fragment,{children:n.jsx(No,{onClick:()=>{t(r),e()},children:"Upload Image"})}):n.jsx(n.Fragment,{children:n.jsx(Fo,{onClick:()=>{p.current.showCroppedImage()},children:"Crop Image"})})})]})]})},Ro=E.div``,Qo=E.div`
  display: flex;
  flex-direction: column;
  margin: 18px 10px 32px 10px;
`,Do=E.p`
  margin: 0px;
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 400;
  font-size: 15px;
  line-height: 140%;
  text-align: center;
  color: ${e=>e.theme.modalTextColor};
`,Uo=E.div`
  text-align: end;
  width: 100%;
`,Po=E(uc)`
  cursor: pointer;
  font-size: 20px;
  color: ${e=>e.theme.modalTextColor};
`,Lo=E(_i)`
  display: flex;
  flex-direction: row;
  align-items: center;
`,Oo=E(ce)``,Fo=E(Ie)`
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  display: flex;
  border-radius: 15px;
  align-items: center;
  text-align: center;
  background: #cf1c84;
  color: #fff;
  padding: 16px 27px;
  width: 12rem;
`,No=E(Ie)`
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  display: flex;
  border-radius: 15px;
  align-items: center;
  text-align: center;
  background: #cf1c84;
  color: #fff;
  padding: 16px 18px;
  width: 12rem;
`,zo=E.div`
  width: 100%;
  margin: 24px 0px 44px 0px;
  font-weight: 500;
  font-size: 15px;
  line-height: 150%;
  .bordered {
    display: flex;
    justify-content: center;
    border: 1px dashed #8c99b0;
    align-items: flex-end;
    border-radius: 12px;
    padding: 0px 50px 0px 50px;
    background: ${e=>e.theme.modalbackgroundColor};
    .inner {
      margin-top: 0.25rem;
      text-align: center;
      padding: 23px 15px 23px 15px;
      width: 100%;
      .crop-div {
        width: 100%;
        display: flex;
        flex-direction: row;
        @media (max-width: 768px) {
          flex-direction: column;
        }
        justify-content: space-evenly;
        align-items: center;
        margin-right: auto;
        .crop-innderdiv {
          width: 100%;
          background: ${e=>e.theme.modalImageBgColor};
          border-radius: 20px;
          padding: 17px 100px 17px 100px;
          @media (max-width: 768px) {
            padding: 17px 2px 17px;
          }

          margin-bottom: 12px;
        }

        div {
          height: 128px;
          // width:128px;
          .croppedImage {
            border-radius: 20px;
            // @media (max-width: 768px) {
            //   margin-top: 1rem;
            // }
          }
        }
        .cropper {
          border-radius: 20px;
          width: 128px;
          height: 128px;
        }
      }
      .check-space {
        .croppedImage {
          width: auto;
          height: auto;
          border-radius: 5px;
        }
        .button-space {
          margin-top: 1rem;
          width: 100%;
          display: flex;
          justify-content: center;
        }
      }
      .crop-button {
        display: flex;
        justify-content: center;
        width: 100%;
        @media (max-width: 768px) {
          margin-top: 1rem;
        }
      }
      .svg {
        margin: 0px auto;
        height: 3rem;
        width: 3rem;
        color: #ccc;
      }
      .text-div {
        display: flex;
        font-weight: 400;
        font-size: 15px;
        line-height: 140%;
        color: #ccc;
        justify-content: center;
        .labeled {
          position: relative;
          cursor: pointer;
          border-radius: 4px;
          color: #cf1c84;
          &:hover {
            text-decoration: underline;
          }
        }
      }
      .text-below {
        font-weight: 400;
        font-size: 15px;
        line-height: 140%;
        color: ${e=>e.theme.modalTextColor};
        margin: 0px 0.3rem 0px 0px;
      }
    }
  }
  .image-error {
    font-size: 1rem;
    line-height: 1rem;
    color: red;
    margin-top: 0.5rem;
  }
  .image {
    margin-top: 1rem;
    display: flex;
    flex-direction: row;
    .item {
      width: 4rem;
      height: auto;
      border-radius: 4px;
    }
    .image-border {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      margin-left: 2rem;
      .text {
        font-size: 1rem;
        line-height: 1rem;
        color: #ccc;
        margin-top: 1rem;
      }
    }
  }
`,Te=e=>e.trim().length==0;var qt={exports:{}},Yt={exports:{}},Go=gc(),Kn=pc().EventEmitter;Yt.exports=ue,Yt.exports.default=ue;function ue(e){if(!(this instanceof ue))return new ue(e);Kn.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}Go(ue,Kn);var Ho=["pop","shift","indexOf","lastIndexOf"];Ho.forEach(function(e){ue.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}}),ue.prototype.slice=function(e,i){return this.jobs=this.jobs.slice(e,i),this},ue.prototype.reverse=function(){return this.jobs.reverse(),this};var Wo=["push","unshift","splice"];Wo.forEach(function(e){ue.prototype[e]=function(){var i=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),i}}),Object.defineProperty(ue.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),ue.prototype.start=function(e){if(e&&qo.call(this,e),this.running=!0,this.pending>=this.concurrency)return;if(this.jobs.length===0){this.pending===0&&Jt.call(this);return}var i=this,t=this.jobs.shift(),r=!0,a=this.session,c=null,d=!1,o=null,l=t.timeout||this.timeout;function p(s,g){r&&i.session===a&&(r=!1,i.pending--,c!==null&&(delete i.timers[c],clearTimeout(c)),s?i.emit("error",s,t):d===!1&&(o!==null&&(i.results[o]=Array.prototype.slice.call(arguments,1)),i.emit("success",g,t)),i.session===a&&(i.pending===0&&i.jobs.length===0?Jt.call(i):i.running&&i.start()))}l&&(c=setTimeout(function(){d=!0,i.listeners("timeout").length>0?i.emit("timeout",p,t):p()},l),this.timers[c]=c),this.results&&(o=this.results.length,this.results[o]=null),this.pending++,i.emit("start",t);var u=t(p);u&&u.then&&typeof u.then=="function"&&u.then(function(s){return p(null,s)}).catch(function(s){return p(s||!0)}),this.running&&this.jobs.length>0&&this.start()},ue.prototype.stop=function(){this.running=!1},ue.prototype.end=function(e){$o.call(this),this.jobs.length=0,this.pending=0,Jt.call(this,e)};function $o(){for(var e in this.timers){var i=this.timers[e];delete this.timers[e],clearTimeout(i)}}function qo(e){var i=this;this.on("error",t),this.on("end",r);function t(a){i.end(a)}function r(a){i.removeListener("error",t),i.removeListener("end",r),e(a,this.results)}}function Jt(e){this.session++,this.running=!1,this.emit("end",e)}var Yo=Yt.exports,Le={},rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.BMP=void 0,rt.BMP={validate(e){return e.toString("ascii",0,2)==="BM"},calculate(e){return{height:Math.abs(e.readInt32LE(22)),width:e.readUInt32LE(18)}}};var at={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.ICO=void 0;const Jo=1,Vo=6,Ko=16;function Xn(e,i){const t=e.readUInt8(i);return t===0?256:t}function Zn(e,i){const t=Vo+i*Ko;return{height:Xn(e,t+1),width:Xn(e,t)}}Oe.ICO={validate(e){return e.readUInt16LE(0)!==0?!1:e.readUInt16LE(2)===Jo},calculate(e){const i=e.readUInt16LE(4),t=Zn(e,0);if(i===1)return t;const r=[t];for(let a=1;a<i;a+=1)r.push(Zn(e,a));return{height:t.height,images:r,width:t.width}}},Object.defineProperty(at,"__esModule",{value:!0}),at.CUR=void 0;const Xo=Oe,Zo=2;at.CUR={validate(e){return e.readUInt16LE(0)!==0?!1:e.readUInt16LE(2)===Zo},calculate(e){return Xo.ICO.calculate(e)}};var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.DDS=void 0,ot.DDS={validate(e){return e.readUInt32LE(0)===542327876},calculate(e){return{height:e.readUInt32LE(12),width:e.readUInt32LE(16)}}};var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.GIF=void 0;const es=/^GIF8[79]a/;st.GIF={validate(e){const i=e.toString("ascii",0,6);return es.test(i)},calculate(e){return{height:e.readUInt16LE(8),width:e.readUInt16LE(6)}}};var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.ICNS=void 0;const ts=8,ns=4,is=4,rs={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function ei(e,i){const t=i+is;return[e.toString("ascii",i,t),e.readUInt32BE(t)]}function ti(e){const i=rs[e];return{width:i,height:i,type:e}}lt.ICNS={validate(e){return e.toString("ascii",0,4)==="icns"},calculate(e){const i=e.length,t=e.readUInt32BE(ns);let r=ts,a=ei(e,r),c=ti(a[0]);if(r+=a[1],r===t)return c;const d={height:c.height,images:[c],width:c.width};for(;r<t&&r<i;)a=ei(e,r),c=ti(a[0]),r+=a[1],d.images.push(c);return d}};var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.J2C=void 0,ct.J2C={validate(e){return e.toString("hex",0,4)==="ff4fff51"},calculate(e){return{height:e.readUInt32BE(12),width:e.readUInt32BE(8)}}};var dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.JP2=void 0;const ht={ftyp:"66747970",ihdr:"69686472",jp2h:"6a703268",jp__:"6a502020",rreq:"72726571",xml_:"786d6c20"},as=e=>{const i=e.readUInt8(0);let t=1+2*i;const r=e.readUInt16BE(t)*(2+i);t=t+2+r;const a=e.readUInt16BE(t)*(16+i);return t+2+a},ni=e=>({height:e.readUInt32BE(4),width:e.readUInt32BE(8)});dt.JP2={validate(e){const i=e.toString("hex",4,8),t=e.readUInt32BE(0);if(i!==ht.jp__||t<1)return!1;const r=t+4,a=e.readUInt32BE(t);return e.slice(r,r+a).toString("hex",0,4)===ht.ftyp},calculate(e){const i=e.readUInt32BE(0),t=e.readUInt16BE(i+2);let r=i+4+t;switch(e.toString("hex",r,r+4)){case ht.rreq:return r=r+4+4+as(e.slice(r+4)),ni(e.slice(r+8,r+24));case ht.jp2h:return ni(e.slice(r+8,r+24));default:throw new TypeError("Unsupported header found: "+e.toString("ascii",r,r+4))}}};var ut={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.readUInt=void 0;function os(e,i,t,r){t=t||0;const a=r?"BE":"LE",c="readUInt"+i+a;return e[c].call(e,t)}Fe.readUInt=os,Object.defineProperty(ut,"__esModule",{value:!0}),ut.JPG=void 0;const Ne=Fe,ss="45786966",ls=2,Vt=6,cs=2,ds="4d4d",hs="4949",ii=12,us=2;function ps(e){return e.toString("hex",2,6)===ss}function gs(e,i){return{height:e.readUInt16BE(i),width:e.readUInt16BE(i+2)}}function fs(e,i){const t=Vt+8,r=Ne.readUInt(e,16,t,i);for(let a=0;a<r;a++){const c=t+us+a*ii,d=c+ii;if(c>e.length)return;const o=e.slice(c,d);if(Ne.readUInt(o,16,0,i)===274)return Ne.readUInt(o,16,2,i)!==3||Ne.readUInt(o,32,4,i)!==1?void 0:Ne.readUInt(o,16,8,i)}}function ms(e,i){const t=e.slice(ls,i),r=t.toString("hex",Vt,Vt+cs),a=r===ds;if(a||r===hs)return fs(t,a)}function As(e,i){if(i>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(e[i]!==255)throw new TypeError("Invalid JPG, marker table corrupted")}ut.JPG={validate(e){return e.toString("hex",0,2)==="ffd8"},calculate(e){e=e.slice(4);let i,t;for(;e.length;){const r=e.readUInt16BE(0);if(ps(e)&&(i=ms(e,r)),As(e,r),t=e[r+1],t===192||t===193||t===194){const a=gs(e,r+5);return i?{height:a.height,orientation:i,width:a.width}:a}e=e.slice(r+2)}throw new TypeError("Invalid JPG, no size found")}};var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.KTX=void 0;const xs="KTX 11";pt.KTX={validate(e){return xs===e.toString("ascii",1,7)},calculate(e){return{height:e.readUInt32LE(40),width:e.readUInt32LE(36)}}};var gt={};Object.defineProperty(gt,"__esModule",{value:!0}),gt.PNG=void 0;const ws=`PNG\r

`,bs="IHDR",ri="CgBI";gt.PNG={validate(e){if(ws===e.toString("ascii",1,8)){let i=e.toString("ascii",12,16);if(i===ri&&(i=e.toString("ascii",28,32)),i!==bs)throw new TypeError("Invalid PNG");return!0}return!1},calculate(e){return e.toString("ascii",12,16)===ri?{height:e.readUInt32BE(36),width:e.readUInt32BE(32)}:{height:e.readUInt32BE(20),width:e.readUInt32BE(16)}}};var ft={};Object.defineProperty(ft,"__esModule",{value:!0}),ft.PNM=void 0;const ai={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},ys=Object.keys(ai),oi={default:e=>{let i=[];for(;e.length>0;){const t=e.shift();if(t[0]!=="#"){i=t.split(" ");break}}if(i.length===2)return{height:parseInt(i[1],10),width:parseInt(i[0],10)};throw new TypeError("Invalid PNM")},pam:e=>{const i={};for(;e.length>0;){const t=e.shift();if(t.length>16||t.charCodeAt(0)>128)continue;const[r,a]=t.split(" ");if(r&&a&&(i[r.toLowerCase()]=parseInt(a,10)),i.height&&i.width)break}if(i.height&&i.width)return{height:i.height,width:i.width};throw new TypeError("Invalid PAM")}};ft.PNM={validate(e){const i=e.toString("ascii",0,2);return ys.includes(i)},calculate(e){const i=e.toString("ascii",0,2),t=ai[i],r=e.toString("ascii",3).split(/[\r\n]+/);return(oi[t]||oi.default)(r)}};var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.PSD=void 0,mt.PSD={validate(e){return e.toString("ascii",0,4)==="8BPS"},calculate(e){return{height:e.readUInt32BE(14),width:e.readUInt32BE(18)}}};var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.SVG=void 0;const si=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,xt={height:/\sheight=(['"])([^%]+?)\1/,root:si,viewbox:/\sviewBox=(['"])(.+?)\1/,width:/\swidth=(['"])([^%]+?)\1/},Kt=2.54,vs={cm:96/Kt,em:16,ex:8,m:96/Kt*100,mm:96/Kt/10,pc:96/72/12,pt:96/72};function wt(e){const i=/([0-9.]+)([a-z]*)/.exec(e);if(i)return Math.round(parseFloat(i[1])*(vs[i[2]]||1))}function Cs(e){const i=e.split(" ");return{height:wt(i[3]),width:wt(i[2])}}function Is(e){const i=e.match(xt.width),t=e.match(xt.height),r=e.match(xt.viewbox);return{height:t&&wt(t[2]),viewbox:r&&Cs(r[2]),width:i&&wt(i[2])}}function Es(e){return{height:e.height,width:e.width}}function js(e,i){const t=i.width/i.height;return e.width?{height:Math.floor(e.width/t),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*t)}:{height:i.height,width:i.width}}At.SVG={validate(e){const i=String(e);return si.test(i)},calculate(e){const i=e.toString("utf8").match(xt.root);if(i){const t=Is(i[0]);if(t.width&&t.height)return Es(t);if(t.viewbox)return js(t,t.viewbox)}throw new TypeError("Invalid SVG")}};var bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.TIFF=void 0;const yt=Qi,ke=Fe;function Bs(e,i,t){const r=ke.readUInt(e,32,4,t);let a=1024;const c=yt.statSync(i).size;r+a>c&&(a=c-r-10);const d=Ve.alloc(a),o=yt.openSync(i,"r");return yt.readSync(o,d,0,a,r),yt.closeSync(o),d.slice(2)}function Ss(e,i){const t=ke.readUInt(e,16,8,i);return(ke.readUInt(e,16,10,i)<<16)+t}function Ts(e){if(e.length>24)return e.slice(12)}function ks(e,i){const t={};let r=e;for(;r&&r.length;){const a=ke.readUInt(r,16,0,i),c=ke.readUInt(r,16,2,i),d=ke.readUInt(r,32,4,i);if(a===0)break;d===1&&(c===3||c===4)&&(t[a]=Ss(r,i)),r=Ts(r)}return t}function _s(e){const i=e.toString("ascii",0,2);if(i==="II")return"LE";if(i==="MM")return"BE"}const Ms=["49492a00","4d4d002a"];bt.TIFF={validate(e){return Ms.includes(e.toString("hex",0,4))},calculate(e,i){if(!i)throw new TypeError("Tiff doesn't support buffer");const t=_s(e)==="BE",r=Bs(e,i,t),a=ks(r,t),c=a[256],d=a[257];if(!c||!d)throw new TypeError("Invalid Tiff. Missing tags");return{height:d,width:c}}};var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.WEBP=void 0;function Rs(e){return{height:1+e.readUIntLE(7,3),width:1+e.readUIntLE(4,3)}}function Qs(e){return{height:1+((e[4]&15)<<10|e[3]<<2|(e[2]&192)>>6),width:1+((e[2]&63)<<8|e[1])}}function Ds(e){return{height:e.readInt16LE(8)&16383,width:e.readInt16LE(6)&16383}}vt.WEBP={validate(e){const i=e.toString("ascii",0,4)==="RIFF",t=e.toString("ascii",8,12)==="WEBP",r=e.toString("ascii",12,15)==="VP8";return i&&t&&r},calculate(e){const i=e.toString("ascii",12,16);if(e=e.slice(20,30),i==="VP8X"){const r=e[0],a=(r&192)===0,c=(r&1)===0;if(a&&c)return Rs(e);throw new TypeError("Invalid WebP")}if(i==="VP8 "&&e[0]!==47)return Ds(e);const t=e.toString("hex",3,6);if(i==="VP8L"&&t!=="9d012a")return Qs(e);throw new TypeError("Invalid WebP")}},Object.defineProperty(Le,"__esModule",{value:!0}),Le.typeHandlers=void 0;const Us=rt,Ps=at,Ls=ot,Os=st,Fs=lt,Ns=Oe,zs=ct,Gs=dt,Hs=ut,Ws=pt,$s=gt,qs=ft,Ys=mt,Js=At,Vs=bt,Ks=vt;Le.typeHandlers={bmp:Us.BMP,cur:Ps.CUR,dds:Ls.DDS,gif:Os.GIF,icns:Fs.ICNS,ico:Ns.ICO,j2c:zs.J2C,jp2:Gs.JP2,jpg:Hs.JPG,ktx:Ws.KTX,png:$s.PNG,pnm:qs.PNM,psd:Ys.PSD,svg:Js.SVG,tiff:Vs.TIFF,webp:Ks.WEBP};var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.detector=void 0;const Xt=Le,Xs=Object.keys(Xt.typeHandlers),li={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};function Zs(e){const i=e[0];if(i in li){const r=li[i];if(Xt.typeHandlers[r].validate(e))return r}const t=r=>Xt.typeHandlers[r].validate(e);return Xs.find(t)}Ct.detector=Zs,function(e,i){var t=Di&&Di.__awaiter||function(f,A,x,w){function v(b){return b instanceof x?b:new x(function(j){j(b)})}return new(x||(x=Promise))(function(b,j){function S(C){try{I(w.next(C))}catch(Q){j(Q)}}function _(C){try{I(w.throw(C))}catch(Q){j(Q)}}function I(C){C.done?b(C.value):v(C.value).then(S,_)}I((w=w.apply(f,A||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0}),i.types=i.setConcurrency=i.imageSize=void 0;const r=Qi,a=mc,c=Yo,d=Le,o=Ct,l=512*1024,p=new c.default({concurrency:100,autostart:!0});function u(f,A){const x=o.detector(f);if(x&&x in d.typeHandlers){const w=d.typeHandlers[x].calculate(f,A);if(w!==void 0)return w.type=x,w}throw new TypeError("unsupported file type: "+x+" (file: "+A+")")}function s(f){return t(this,void 0,void 0,function*(){const A=yield r.promises.open(f,"r"),{size:x}=yield A.stat();if(x<=0)throw yield A.close(),new Error("Empty file");const w=Math.min(x,l),v=Ve.alloc(w);return yield A.read(v,0,w,0),yield A.close(),v})}function g(f){const A=r.openSync(f,"r"),{size:x}=r.fstatSync(A);if(x<=0)throw r.closeSync(A),new Error("Empty file");const w=Math.min(x,l),v=Ve.alloc(w);return r.readSync(A,v,0,w,0),r.closeSync(A),v}e.exports=i=h,i.default=h;function h(f,A){if(Ve.isBuffer(f))return u(f);if(typeof f!="string")throw new TypeError("invalid invocation");const x=a.resolve(f);if(typeof A=="function")p.push(()=>s(x).then(w=>fc.nextTick(A,null,u(w,x))).catch(A));else{const w=g(x);return u(w,x)}}i.imageSize=h,i.setConcurrency=f=>{p.concurrency=f},i.types=Object.keys(d.typeHandlers)}(qt,qt.exports);var el=qt.exports;const tl=Ri(el);function ci(e,i){var t=new XMLHttpRequest;t.onload=function(){var r=new FileReader;r.onloadend=function(){i(r.result)},r.readAsDataURL(t.response)},t.open("GET",e),t.responseType="blob",t.send()}const di=e=>{var i=tl,t=e.split(";base64,").pop(),r=Ve.from(t,"base64"),a=i(r);return a.width>128||a.height>128?(console.error("Image size check failed... returning"),{success:0,info:"Image size check failed, Image should be 128X128PX"}):(console.debug("Image verification",t.charAt(0)),t.charAt(0)==="/"?{success:1,info:"Image checks passed"}:t.charAt(0)==="i"?{success:1,info:"Image checks passed"}:{success:0,info:"Image extension should be jpg or png"})};function nl({closeEditChannel:e,UploadLogoComponent:i,displayUplaodLogoModal:t}){const{account:r,provider:a}=we(),{channelDetails:c,aliasDetails:{isAliasVerified:d,aliasAddrFromContract:o}}=X(W=>W.admin),{epnsReadProvider:l,epnsWriteProvider:p}=X(W=>W.contracts),u=50,[s,g]=R.useState(c==null?void 0:c.name),[h,f]=R.useState(c==null?void 0:c.info),[A,x]=R.useState(c==null?void 0:c.url),[w,v]=R.useState(c==null?void 0:c.icon),[b,j]=R.useState(c==null?void 0:c.icon),[S,_]=R.useState(c==null?void 0:c.icon),[I,C]=R.useState(S),[Q,T]=R.useState(null),[B,O]=R.useState(!1),[U,F]=R.useState({name:"",description:"",address:"",url:""}),[P,m]=R.useState(!1),[y,k]=R.useState(0),[D,M]=R.useState(0),[z,L]=R.useState(!1),N=Ce();R.useEffect(()=>{r&&async function(){const W=await l.channelUpdateCounter(r);k(u*(Number(W)+1))}()},[r]),R.useEffect(()=>{!r||!a||async function(){const W=await Oi({address:r,provider:a,contractAddress:ye.epnscore});M(parseInt(W));const J=parseInt(W);J>=y&&J!=0?O(!0):O(!1)}()},[r,a]);const G=async()=>{if(m(!0),!a)return;const W=a.getSigner(r);N.showLoaderToast({loaderMessage:"Waiting for Confirmation..."});try{const J=await Ni({signer:W,contractAddress:ye.epnscore,amount:y-D});console.debug("response",J),J&&(m(!1),M(y),O(!0),N.showMessageToast({toastTitle:"Success",toastMessage:"Successfully approved Push!",toastType:"SUCCESS",getToastIcon:ae=>n.jsx(Be,{size:ae,color:"green"})}))}catch(J){console.error(J),J.code=="ACTION_REJECTED"?N.showMessageToast({toastTitle:"Error",toastMessage:"User denied message signature.",toastType:"ERROR",getToastIcon:ae=>n.jsx(oe,{size:ae,color:"red"})}):(N.showMessageToast({toastTitle:"Error",toastMessage:"There was an error in approving PUSH Token",toastType:"ERROR",getToastIcon:ae=>n.jsx(oe,{size:ae,color:"red"})}),console.error("Error --> %o",J),console.error({err:J}))}m(!1)},Y=()=>{L(!1)},se=Je(600),ie=R.useRef(null);je(ie,()=>{Y()});const te=()=>(F(""),Te(s)||Te(h)||Te(A)?(Te(s)&&F(W=>({...W,name:"Please, enter the channel name."})),Te(h)&&F(W=>({...W,description:"Please, enter the channel description"})),Te(A)&&F(W=>({...W,url:"Please, enter the channel url"})),!1):Ln(s,125)?Ln(A,125)?On(A)?!0:(F(W=>({...W,url:"Channel URL is invalid! Please enter a valid url!"})),!1):(F(W=>({...W,url:"Channel Url should not exceed 125 characters! Please retry!"})),!1):(F(W=>({...W,name:"Channel Name should not exceed 125 characters! Please retry!"})),!1)),q=()=>!(s!==(c==null?void 0:c.name)||h!==(c==null?void 0:c.info)||A!==(c==null?void 0:c.url)||b!==(c==null?void 0:c.icon)),re=async W=>{try{if(!te())return;m(!0);const J=JSON.stringify({name:s,info:h,url:A,icon:b,aliasDetails:c.aliasDetails||Ac({chainId:parseInt(c.chain_id),address:c.address})});console.debug(J);const ae=await Ui(J);console.debug("IPFS storagePointer:",ae);const Ae="1+"+ae,be=un(Ae),ze=dn(y.toString(),18);N.showLoaderToast({loaderMessage:"Waiting for Confirmation..."});const Et=await p.updateChannelMeta(r,be,ze,{gasLimit:1e6});console.debug(Et),await Et.wait(),m(!1),N.showMessageToast({toastTitle:"Success",toastMessage:"Channel Updated Successfully",toastType:"SUCCESS",getToastIcon:Ge=>n.jsx(Be,{size:Ge,color:"green"})}),setTimeout(()=>{window.location.reload()},2e3)}catch(J){m(!1),console.error(J.message),J.code=="ACTION_REJECTED"?N.showMessageToast({toastTitle:"Error",toastMessage:"User denied message signature.",toastType:"ERROR",getToastIcon:ae=>n.jsx(oe,{size:ae,color:"red"})}):(N.showMessageToast({toastTitle:"Error",toastMessage:"There was an error in updating channel Details",toastType:"ERROR",getToastIcon:ae=>n.jsx(oe,{size:ae,color:"red"})}),console.error("Error --> %o",J),console.error({err:J}))}},me=async W=>{await mn({noOfTokens:W,provider:a,account:r})};return R.useEffect(()=>{S&&(console.debug("Image cropped",S),ci(S,function(W){const J=di(W);console.debug("response",J),J.success&&(console.debug("Cropped Image....",S),j(S))}))},[S]),n.jsxs(il,{ref:ie,children:[n.jsx(i,{InnerComponent:Mo,InnerComponentProps:{setChannelLogo:v,channelLogo:w,croppedImage:S,setCroppedImage:_,setChannelFile:j,imageSrc:I,setImageSrc:C,imageType:Q,setImageType:T,errorInfo:U,setErrorInfo:F},modalPosition:De.ON_PARENT}),n.jsxs(rl,{children:[n.jsxs(sl,{children:[n.jsx(ll,{src:w}),n.jsx(al,{onClick:()=>{t(),L(!0)},children:"Upload Logo"})]}),!se&&n.jsx(cl,{}),n.jsx(no,{channelName:s,setChannelName:g,channelInfo:h,setChannelInfo:f,channelURL:A,setChannelURL:x,editChannel:re,errorInfo:U,setErrorInfo:F})]}),n.jsxs(dl,{children:[n.jsxs("div",{children:[n.jsx(hl,{children:"Channel edit fee"}),n.jsx(ul,{children:"Editing channel details requires fees to be deposited"})]}),n.jsxs(ne,{flex:"0",children:[B?n.jsx(ol,{src:oo}):null,n.jsxs(pl,{children:[y," PUSH"]})]})]}),n.jsx(Fi,{noOfPushTokensToCheck:y,containerProps:{width:"100%"},onMintPushToken:me}),P?n.jsx(n.Fragment,{children:n.jsxs(gl,{children:[n.jsx(Spinner,{size:42,color:Z.COLORS.PRIMARY_PINK,type:ln.PROCESSING}),n.jsx(fl,{children:"Verifying Transaction"})]})}):n.jsx(n.Fragment,{children:n.jsxs(ml,{children:[n.jsx(Al,{onClick:e,children:"Cancel"}),D>=y?n.jsx(Zt,{disabled:q(),style:{background:q()?" #F4DCEA":"#CF1C84"},onClick:re,children:"Save Changes"}):n.jsx(Zt,{onClick:G,children:"Approve PUSH"})]})})]})}const il=E(ce)`
  padding: 0px;
  @media (min-width: 1140px) {
    padding: 15px 50px 0px 50px;
  }
`,rl=E(ce)`
  flex-direction: row;
  margin-bottom: 10px;
  @media (max-width: 600px) {
    flex-direction: column;
  }
  @media (max-width: 425px) {
    margin-bottom: 40px;
  }
`,al=E(Ie)`
  border-radius: 8px;
  background: ${e=>e.theme.logoBtnBg};
  color: ${e=>e.theme.logoBtnColor};
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  line-height: 17px;
  padding: 10px 12px;
`,ol=E.img``,sl=E(ne)`
  flex: 0;
  align-items: center;
  align-self: baseline;
  justify-content: center;

  @media (max-width: 767px) {
    justify-content: center;
    flex-direction: column;
  }

  @media (max-width: 600px) {
    width: 100%;
    justify-content: center;
    flex-direction: column;
  }
`,ll=E.img`
  width: 128px;
  height: 128px;
  margin-bottom: 20px;
  border-radius: 32px;
  @media ${K.mobileL} {
    width: 90px;
    height: 90px;
    margin-right: 0px;
    border-radius: 20px;
  }
`,cl=E.div`
  height: 21.5rem;
  width: 2px;
  background: ${e=>e.theme.verticalLineColor};
  margin: 0px 68px;
  @media (min-width: 993px) and (max-width: 1240px) {
    margin: 0px 68px;
  }
  @media (min-width: 600px) and (max-width: 768px) {
    margin: 0px 68px;
  }
`,dl=E(ce)`
  background: ${e=>e.theme.editFooterBg};
  border-radius: 20px;
  padding: 23px 32px;
  display: grid;
  grid-auto-flow: column;
  align-content: space-between;
  justify-content: space-between;
  grid-gap: 40px;
  margin-top: 35px;
  z-index: 1;

  @media (max-width: 600px) {
    padding: 16px;
  }

  @media (max-width: 425px) {
    margin: 0px;
  }
`,hl=E.p`
  margin: 0px;
  color: ${e=>e.theme.editChannelPrimaryText};
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 20px;
  line-height: 24px;
`,ul=E.p`
  font-size: 12px;
  margin: 0px;
  font-weight: 400;
  line-height: 130%;
  color: ${e=>e.theme.editChannelSecondaryText};
`,pl=E.p`
  margin: 0px 0px 0px 5px;
  color: #d53893;
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 20px;
  line-height: 24px;
`,gl=E(ce)`
  flex-direction: row;
  margin-top: 33px;
`,fl=E.p`
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  display: flex;
  align-items: center;
  margin-left: 12px;
  color: ${e=>e.theme.editChannelPrimaryText};
`,ml=E(ne)`
  justify-content: end;
  margin-top: 35px;
  @media (max-width: 425px) {
    flex-direction: column-reverse;
  }
`,Zt=E(Ie)`
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 18px;
  line-height: 22px;
  display: flex;
  border-radius: 15px;
  align-items: center;
  text-align: center;
  background: #cf1c84;
  color: #fff;
  padding: 16px 27px;
  width: 12rem;

  @media (min-width: 425px) and (max-width: 600px) {
    font-size: 15px;
    padding: 12px 12px;
    width: 8rem;
  }

  @media (max-width: 425px) {
    width: -webkit-fill-available;
  }
`,Al=E(Zt)`
    margin-right:14px;
    background:${e=>e.theme.default.bg};
    color:${e=>e.theme.logoBtnColor};
    border:1px solid #CF1C84;

    @media (max-width:425px){
        margin-right:0px;
        margin-top:10px;
    }

    &:hover{
        color:#AC106C;
        border:border: 1px solid #AC106C;
        background:transparent;
        opacity:1;
    }

    &:after{
        background:white;
    }
`,hi=({mintPushToken:e,noOfPushTokensToCheck:i,mintingPush:t})=>{const r=fe.appEnv==="prod",{isModalOpen:a,showModal:c,ModalComponent:d}=Qe();return n.jsxs($,{display:"flex",padding:"spacing-sm spacing-md",backgroundColor:"surface-brand-subtle",borderRadius:"radius-none radius-none radius-sm radius-sm",justifyContent:"space-between",alignItems:"center",flexDirection:{ml:"column",initial:"row"},gap:"s3",children:[n.jsx(Pt,{isLoading:t,children:n.jsx(V,{variant:"c-regular",color:"text-primary",children:r?"Your balance is low. Swap to get PUSH Tokens.":"Follow these steps to get Testnet PUSH."})}),r?n.jsx(Ue,{size:"extraSmall",leadingIcon:n.jsx(Vi,{}),onClick:c,children:"Swap PUSH Token"}):n.jsxs($,{display:"flex",gap:"s3",children:[n.jsx(Pt,{isLoading:t,children:n.jsx(xc,{to:"https://chaindrop.org/?chainid=11155111&token=0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",target:"_blank",children:n.jsxs($,{display:"flex",gap:"s2",alignItems:"baseline",color:"text-brand-medium",cursor:"pointer",children:[n.jsx($,{border:"1px solid pink-600",width:"16px",height:"15px",borderRadius:"r10",display:"flex",justifyContent:"center",children:n.jsx(V,{variant:"c-regular",children:"1"})}),n.jsx(V,{children:"Sepolia ETH Faucet"})]})})}),n.jsx(Pt,{isLoading:t,children:n.jsxs($,{display:"flex",gap:"s2",alignItems:"baseline",color:"text-brand-medium",cursor:"pointer",onClick:()=>e(1e3),children:[n.jsx($,{border:"1px solid pink-600",width:"16px",height:"15px",borderRadius:"r10",display:"flex",justifyContent:"center",children:n.jsx(V,{variant:"c-regular",children:"2"})}),n.jsx(V,{children:"Get Testnet Push"})]})})]}),a&&n.jsx(d,{InnerComponent:Uc,InnerComponentProps:{defaultPushTokenAmount:i},modalPadding:"0px",modalPosition:De.ON_ROOT})]})},xl=[{label:"Channel Info"},{label:"Upload Logo"},{label:"Stake Fees"}],en=50,wl=({channelStakeFees:e,handleCreateNewChannel:i})=>{const t=en,{provider:r,account:a,isWalletConnected:c,connect:d}=we(),[o,l]=R.useState(0),[p,u]=R.useState(!1),[s,g]=R.useState(!1),h=async w=>{if(c||d(),c){u(!0);try{const v=await mn({noOfTokens:w,provider:r,account:a});u(!1),l(v)}catch(v){console.log("Error >>",v),u(!1)}}},f=async()=>{g(!0);const w=await Pc({address:a,provider:r});g(!1),l(w)};R.useEffect(()=>{f()},[o,a]);const A=async()=>{c&&await Lc()},x=R.useMemo(()=>o<t,[o]);return n.jsxs($,{display:"flex",flexDirection:"column",alignSelf:"stretch",justifyContent:"center",gap:"spacing-xl",children:[n.jsxs($,{display:"flex",flexDirection:"column",gap:"spacing-sm",children:[n.jsxs($,{display:"flex",flexDirection:"column",alignSelf:"stretch",children:[n.jsxs($,{display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:"surface-secondary",borderRadius:x?"radius-sm radius-sm radius-none radius-none":"radius-sm",padding:"spacing-sm spacing-md",alignItems:"center",children:[n.jsx(V,{variant:"h4-semibold",color:"text-primary",display:{ml:"none",dp:"block"},children:"Amout For Staking"}),n.jsx(V,{variant:"h5-semibold",color:"text-primary",display:{ml:"block",dp:"none"},children:"Amout For Staking"}),n.jsxs($,{children:[n.jsxs(V,{variant:"h4-semibold",color:"text-brand-medium",children:[e," PUSH"]}),n.jsx(Pt,{isLoading:s,children:n.jsxs(V,{variant:"bes-semibold",color:"text-tertiary",children:["Balance: ",o==null?void 0:o.toLocaleString()]})})]})]}),n.jsx(hi,{mintPushToken:h,noOfPushTokensToCheck:50,mintingPush:p}),x&&n.jsx(hi,{mintPushToken:h,noOfPushTokensToCheck:50,mintingPush:p})]}),n.jsxs($,{display:"flex",flexDirection:"row",gap:"s1",justifyContent:"center",children:[n.jsx(V,{variant:"bes-semibold",color:"text-tertiary",children:"Don't see Push token in your wallet?"}),n.jsx(V,{css:Re`
              cursor: pointer;
            `,variant:"bes-semibold",color:"text-brand-medium",onClick:A,children:"Import Token"})]})]}),n.jsx($,{display:"flex",justifyContent:"center",children:n.jsx(Ue,{onClick:()=>{i()},children:"Create Channel"})})]})},bl=Hi().shape({channelName:An().required("Required"),channelDesc:An().required("Required"),channelURL:An().required("Required").test("url","Invalid URL",function(e){return new RegExp("^((?:https|http):\\/\\/)((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)})}),ui=e=>e.type.startsWith("image/"),yl=async({provider:e,account:i})=>{let t=await new Bt(ye.pushToken,St.pushToken,e).allowance(i,ye.epnscore);t=t==null?void 0:t.toString();const r=wc(t);return console.log("Number value >>>",r,Number(r)),Number(r)},vl=(e,i)=>{console.log("Cropped Image",e),ci(e,function(t){di(t).success&&(console.log("Cropped Image....",e),i(e))})},Cl=({view:e,croppedImage:i,setView:t,setCroppedImage:r,setActiveStepIndex:a,handleNextStep:c})=>{const d=R.useRef(),o=Hi().shape({image:Wc().required("Image is required")}),l=Wi({initialValues:{image:null,imageSrc:"",imageType:""},validationSchema:o,onSubmit:g=>{}}),p=async g=>{var f;const h=(f=g.currentTarget.files)==null?void 0:f[0];t(!1),r(void 0),h&&ui(h)&&await s(h)},u=async g=>{var f;g.preventDefault(),g.stopPropagation(),t(!1),r(void 0);const h=(f=g.dataTransfer.files)==null?void 0:f[0];h&&ui(h)&&await s(h)},s=async g=>{l.setFieldValue("image",g);const h=new FileReader;h.readAsDataURL(g),h.onloadend=()=>{l.setFieldValue("imageSrc",h.result),l.setFieldValue("imageType",g.type)},t(!0)};return n.jsxs($,{display:"flex",flexDirection:"column",gap:"s8",alignItems:"center",alignSelf:"stretch",children:[n.jsxs($,{display:"flex",flexDirection:"column",alignItems:"center",gap:"s8",children:[n.jsx(V,{variant:"bes-regular",color:"text-tertiary",children:"Upload a PNG, JPG upto 1MB. Crop the image to resize to 128px."}),n.jsx("form",{onSubmit:l.handleSubmit,children:n.jsxs($,{width:{initial:"500px",ml:"325px"},padding:"spacing-xxl spacing-none",display:"flex",flexDirection:"column",alignItems:"center",border:{light:"1px dashed gray-300",dark:"1px dashed gray-700"},borderRadius:"r6",backgroundColor:"surface-secondary",gap:"s6",onDragOver:g=>g.preventDefault(),onDrop:u,children:[e?i?n.jsx($,{width:"128px",height:"128px",borderRadius:"r5",children:n.jsx("img",{style:{borderRadius:"inherit"},width:"100%",height:"100%",src:i,alt:"Cropped Img"})}):n.jsx(Vn,{width:"200px",height:"200px",imageSrc:l.values.imageSrc,imageType:l.values.imageType,onImageCropped:g=>r(g),ref:d}):n.jsx(Ji,{size:50}),n.jsxs($,{display:"flex",gap:"s1",children:[n.jsx(V,{variant:"bs-semibold",color:{light:"gray-1000",dark:"gray-600"},children:" Drag and Drop or"}),n.jsx("label",{htmlFor:"file-upload",children:n.jsx(V,{variant:"bs-semibold",color:{light:"pink-600",dark:"pink-400"},css:Re`cursor:pointer;`,children:"Browse to Choose"})})]}),n.jsx("input",{id:"file-upload",accept:"image/*",name:"file-upload",hidden:!0,onChange:p,type:"file",readOnly:!0})]})})]}),!i&&e?n.jsx(Ue,{onClick:()=>{d.current.showCroppedImage()},children:"Crop Image"}):n.jsx(Ue,{disabled:!e&&!i,onClick:()=>{c(),a(2)},children:"Next"})]})},Il=({channelInfoFormik:e})=>n.jsx($,{display:"flex",flexDirection:"column",alignSelf:"stretch",children:n.jsx("form",{onSubmit:e.handleSubmit,children:n.jsxs($,{display:"flex",flexDirection:"column",gap:"spacing-xl",alignSelf:"stretch",children:[n.jsxs($,{display:"flex",flexDirection:"column",gap:"spacing-sm",alignSelf:"stretch",children:[n.jsx(Pi,{required:!0,label:"Channel Name",value:e.values.channelName,onChange:i=>{const t=i.target.value.slice(0,32);e.setFieldValue("channelName",t)},error:e.touched.channelName&&!!e.errors.channelName,errorMessage:e.touched.channelName?e.errors.channelName:"",totalCount:32}),n.jsx(bc,{required:!0,label:"Channel Description",placeholder:"Get notified about ...",description:"Enter a Brief description of the notifications the user will receive",error:e.touched.channelDesc&&!!e.errors.channelDesc,errorMessage:e.touched.channelDesc?e.errors.channelDesc:"",totalCount:250,value:e.values.channelDesc,onChange:i=>{const t=i.target.value.slice(0,250);e.setFieldValue("channelDesc",t)}}),n.jsx(Pi,{required:!0,label:"Channel Website URL",value:e.values.channelURL,onChange:e.handleChange("channelURL"),error:e.touched.channelURL&&!!e.errors.channelURL,errorMessage:e.touched.channelURL?e.errors.channelURL:""})]}),n.jsx($,{display:"flex",justifyContent:"center",children:n.jsx(Ue,{disabled:!e.isValid,children:"Next"})})]})})}),El=({channelCreationError:e})=>n.jsxs($,{gap:"s2",display:"flex",flexDirection:"row",backgroundColor:"surface-danger-subtle",borderRadius:"radius-xs",padding:"s2",width:"100%",children:[n.jsx(qc,{color:{light:"red-600",dark:"red-300"},size:24}),n.jsxs($,{color:{light:"red-700",dark:"red-300"},children:[n.jsx(V,{variant:"h5-semibold",color:"text-danger-bold",children:e.txError}),e.txErrorStatus===2&&n.jsxs(n.Fragment,{children:[n.jsx(V,{variant:"bs-regular",children:"1. Not enough Push tokens in your wallet."}),n.jsx(V,{variant:"bs-regular",children:"2. Gas price increased due to network congestion. Adjust gas limit manually."})]})]})]}),jl=()=>n.jsxs($,{display:"flex",flexDirection:"column",alignItems:"center",gap:"s1",alignSelf:"stretch",children:[n.jsx(V,{variant:"h3-semibold",color:"text-primary",display:{ml:"none",dp:"block"},children:"Create Your Channel"}),n.jsx(V,{variant:"bs-regular",color:"text-tertiary",display:{ml:"none",dp:"block"},children:"Creating your own notification channel to manage, send and notify users."}),n.jsx(V,{variant:"h4-semibold",color:"text-primary",display:{ml:"block",dp:"none"},children:"Create Your Channel"}),n.jsx(V,{variant:"bes-regular",color:"text-tertiary",display:{ml:"block",dp:"none"},textAlign:"center",children:"Creating your own notification channel to manage, send and notify users."})]}),Bl=({progressState:e})=>n.jsxs($,{display:"flex",flexDirection:"column",alignSelf:"stretch",gap:"spacing-xl",alignItems:"center",children:[n.jsx($,{padding:"s6",backgroundColor:"surface-secondary",borderRadius:"radius-sm",width:"-webkit-fill-available",children:n.jsx(V,{textAlign:"center",variant:"h5-semibold",color:"text-brand-medium",children:e.progressInfo})}),n.jsx($,{width:"400px",children:n.jsx(yc,{percent:e.progress,color:"#D548EC",backgroundColor:"#F3AEFF",height:"4px"})}),n.jsxs($,{display:"flex",flexDirection:"row",alignItems:"center",gap:"spacing-xxxs",children:[n.jsx(sn,{type:vc.PROCESSING,size:16,color:"#D548EC"}),n.jsx(V,{variant:"bs-semibold",color:"text-secondary",children:e.processingInfo})]})]}),Sl=()=>{const{switchChain:e}=we();return n.jsxs(n.Fragment,{children:[n.jsx($,{display:"flex",flexDirection:"column",padding:"spacing-md",backgroundColor:"surface-secondary",borderRadius:"radius-sm",width:"-webkit-fill-available",children:n.jsx(V,{textAlign:"center",variant:"h5-semibold",color:"text-brand-medium",children:"Please select Ethereum Sepolia Network in your Wallet to create a channel."})}),n.jsx($,{display:"flex",justifyContent:"center",children:n.jsx(Ue,{onClick:()=>e(fe.coreContractChain),children:"Change Network"})})]})},Tl=()=>$i({mutationKey:[Cc],mutationFn:Xi}),kl=()=>$i({mutationKey:[Ic],mutationFn:Ki}),pi=[0],gi=dn(en.toString(),18),It={progress:null,progressInfo:"",processingInfo:""},fi={txErrorStatus:0,txError:""},_l=()=>{const{account:e,provider:i,isWalletConnected:t,chainId:r,connect:a}=we(),c=fe.coreContractChain===r,{mutate:d,isPending:o}=Tl(),{mutate:l,isPending:p}=kl(),[u,s]=R.useState(0),g=Wi({initialValues:{channelName:"",channelDesc:"",channelURL:""},validationSchema:bl,onSubmit:B=>{console.log("Values ",B),S(),s(1)}}),[h,f]=R.useState(!1),[A,x]=R.useState(void 0),[w,v]=R.useState(It),[b,j]=R.useState(fi),S=()=>{if(u<2){const B=u+1;pi.push(B),s(B)}};R.useEffect(()=>{A&&vl(A,x)},[A]);const _=(B,O,U)=>{v(F=>({...F,progress:B,progressInfo:O,processingInfo:U}))},I=(B,O)=>{j(U=>({...U,txErrorStatus:B,txError:O}))},C=(B,O)=>{d({noOfTokenToApprove:gi,signer:B},{onSuccess:U=>{U.status===1&&(_(60,"Please complete the transaction in your wallet to continue.","Approving PUSH"),Q(B,O))},onError:U=>(console.log("Error in approving PUSH Token",U),U.code===4001||U.code==="ACTION_REJECTED"?(console.log("Signature error ",U),I(1,"User Rejected Signature. Please try again.")):I(2,"Transaction failed due to one of the following reasons:"),v(It),!1)})},Q=(B,O)=>{let U=Dt.GENERAL;const F="1+"+O,P=un(F);_(70,"Please complete the transaction in your wallet to continue.","Creating Channel..."),l({channelType:U,identityBytes:P,fees:gi,signer:B},{onSuccess:m=>{m.status===0?I(2,"Transaction failed due to one of the following reasons:"):(_(80,"Please wait while we confirm the transaction..","Transaction Confirmed.."),setTimeout(()=>{_(90,"Creating your channel, Aligning pixels, adjusting padding... This may take some time.","Redirecting... Please do not refresh")},2e3),setTimeout(()=>{_(100,"Creating your channel, Aligning pixels, adjusting padding... This may take some time.","Redirecting... Please do not refresh"),window.location.reload()},3e3))},onError:m=>{console.log("Error in transaction from query >>>>",m),m.code===4001||m.code==="ACTION_REJECTED"?(console.log("Signature error ",m),I(1,"User Rejected Signature. Please try again."),v(It)):(console.error("Error in creating channel--> %o",m),console.error({error:m}),_(0,"There was an error in creating the Channel","Kindly Contact support@epns.io to resolve the issue."))}})},T=async()=>{if(v(It),j(fi),!t){a();return}if(!g.isValid){s(0);return}if(!A){s(1);return}_(10,"Checking for PUSH Token Approval","Loading...");const B=await yl({provider:i,account:e});let O={name:g.values.channelName,info:g.values.channelDesc,url:g.values.channelURL,icon:A};const U=JSON.stringify(O);_(20,"Please wait, payload is getting uploaded to IPFS","Loading...");let F=await Ui(U);console.debug("IPFS storagePointer:",F),_(40,"Please complete the transaction in your wallet to continue.","Payload Uploaded...");var P=i.getSigner(e);console.debug(P),B<50?C(P,F):Q(P,F)};return n.jsxs($,{padding:{initial:"spacing-lg",ml:"spacing-sm"},backgroundColor:"surface-primary",borderRadius:"radius-md",display:"flex",width:{initial:"648px",ml:"325px"},flexDirection:"column",alignItems:"center",gap:"s10",children:[n.jsx(jl,{}),c?n.jsxs(n.Fragment,{children:[b.txErrorStatus!==0&&n.jsx(El,{channelCreationError:b}),w.progress===null?n.jsxs($,{display:"flex",flexDirection:"column",gap:"s8",alignItems:"center",alignSelf:"stretch",children:[n.jsx(Yi,{steps:xl,completedSteps:pi,setActiveStepIndex:s}),u==0&&n.jsx(Il,{channelInfoFormik:g}),u===1&&n.jsx(Cl,{view:h,croppedImage:A,setView:f,setCroppedImage:x,setActiveStepIndex:s,handleNextStep:S}),u===2&&n.jsx(wl,{channelStakeFees:en,handleCreateNewChannel:T})]}):n.jsx(Bl,{progressState:w})]}):n.jsx(Sl,{})]})},Ml=10;let mi=null;const Rl=()=>{he();const{account:e,chainId:i}=we(),{channelDetails:t,delegatees:r,aliasDetails:{aliasAddr:a,aliasEthAddr:c,isAliasVerified:d,aliasAddrFromContract:o}}=X(T=>T.admin),{processingState:l}=X(T=>T.channelCreation),{epnsWriteProvider:p}=X(T=>T.contracts);X(T=>T.user),R.useContext(hn);const u=t&&t!=="unfetched",s=Ce(),g=qe(),[h,f]=R.useState(!1);R.useState(!0);const[A,x]=R.useState(!1),w=fe.coreContractChain===i,v=Je(600);R.useEffect(()=>{if(!w||!t||o||t==="unfetched")return;const{address:T,chainId:B}=Ec(t);T?(g(jc(T)),g(Bc(B))):g(Ye(0))},[t,o]);const b=async T=>{let{aliasAddress:B=null,isAliasVerified:O=null}=await Mi.getInstance().getChannelDetailsFromAddress(T);return B=="NULL"&&(B=null),{aliasAddress:B,aliasVerified:O}};R.useEffect(()=>{!w||!o||l===0||(mi=setInterval(async()=>{const{aliasAddress:T,aliasVerified:B}=await b(e);T?(g(Sc(T)),B?(g(fn(!0)),g(Ye(0))):(g(Ye(2)),g(fn(!1)))):l!=0&&l!=1&&g(Ye(1))},Ml*1e3))},[o]),a!==null&&clearInterval(mi);const j=async()=>{try{s.showLoaderToast({loaderMessage:"Waiting for Confirmation..."});const T=await p.destroyTimeBoundChannel(e,{gasLimit:1e6});console.debug(T),console.debug("Check: "+e),await T.wait(),s.showMessageToast({toastTitle:"Success",toastMessage:"Successfully deleted the channel",toastType:"SUCCESS",getToastIcon:B=>n.jsx(oe,{size:B,color:"green"})}),g(cn(null))}catch(T){console.error(T),T.code=="ACTION_REJECTED"?s.showMessageToast({toastTitle:"Error",toastMessage:"User denied message signature.",toastType:"ERROR",getToastIcon:B=>n.jsx(oe,{size:B,color:"red"})}):s.showMessageToast({toastTitle:"Error",toastMessage:"There was an error in deleting the channel",toastType:"ERROR",getToastIcon:B=>n.jsx(oe,{size:B,color:"red"})})}},S=()=>{x(!0)},_=()=>{x(!1)},{isModalOpen:I,showModal:C,ModalComponent:Q}=Qe();return n.jsxs(ne,{children:[(t==="unfetched"||l===null)&&n.jsx(Bn,{}),t!=="unfetched"&&n.jsxs(ce,{justifyContent:l===0&&"flex-start",height:"fit-content",children:[!t&&l===0&&n.jsx(_l,{}),u&&l!==null&&n.jsx(Ql,{children:A?n.jsx(nl,{closeEditChannel:_,UploadLogoComponent:Q,displayUplaodLogoModal:C,isUploadLogoModalOpen:I}):n.jsxs(n.Fragment,{children:[t&&!v&&n.jsxs(ne,{zIndex:"1",justifyContent:"end",children:[!h&&w&&n.jsx(Ul,{onClick:S,children:"Edit Channel"}),!h&&n.jsx(Qn,{}),h&&w&&n.jsx(Dl,{onClick:j,background:"#E93636",color:"#fff",height:"36px",width:"123px",borderRadius:"8px",fontSize:"14px",children:"Delete Channel"})]}),t?n.jsx(Oa,{isChannelExpired:h,setIsChannelExpired:f,showEditChannel:S,destroyChannel:j}):""]})}),l!==0&&l!==null&&u&&!A&&n.jsx(n.Fragment,{children:n.jsx(Or,{aliasEthAccount:c,setAliasVerified:fn})})]})]})},Ql=E(ce)`
  align-items: center;
  align-self: center;
  background: ${e=>e.theme.default.bg};
  display: flex;
  flex-direction: column;
  flex: initial;
  justify-content: center;
  max-width: 1200px;
  border-radius: ${Z.ADJUSTMENTS.RADIUS.LARGE} ${Z.ADJUSTMENTS.RADIUS.LARGE}
    ${Z.ADJUSTMENTS.RADIUS.LARGE} ${Z.ADJUSTMENTS.RADIUS.LARGE};
  width: calc(
    100% - ${Se.MINI_MODULES.DESKTOP.RIGHT} - ${Se.MINI_MODULES.DESKTOP.LEFT} -
      ${Z.ADJUSTMENTS.PADDING.HUGE} - ${Z.ADJUSTMENTS.PADDING.HUGE}
  );
  padding: ${Z.ADJUSTMENTS.PADDING.DEFAULT};
  position: relative;
  margin: ${Z.ADJUSTMENTS.MARGIN.MINI_MODULES.DESKTOP};

  @media ${K.laptop} {
    margin: ${Z.ADJUSTMENTS.MARGIN.MINI_MODULES.TABLET};
    padding: ${Z.ADJUSTMENTS.PADDING.BIG};
    width: calc(
      100% - ${Se.MINI_MODULES.TABLET.RIGHT} - ${Se.MINI_MODULES.TABLET.LEFT} -
        ${Z.ADJUSTMENTS.PADDING.BIG} - ${Z.ADJUSTMENTS.PADDING.BIG}
    );
  }

  @media ${K.mobileL} {
    margin: ${Z.ADJUSTMENTS.MARGIN.BIG_MODULES.MOBILE};
    padding: ${Z.ADJUSTMENTS.PADDING.DEFAULT};
    width: calc(
      100% - ${Se.MINI_MODULES.MOBILE.RIGHT} - ${Se.MINI_MODULES.MOBILE.LEFT} -
        ${Z.ADJUSTMENTS.PADDING.DEFAULT} - ${Z.ADJUSTMENTS.PADDING.DEFAULT}
    );
    min-height: calc(100vh - ${Z.CONSTANTS.HEADER_HEIGHT}px - ${Se.BIG_MODULES.MOBILE.TOP});
    overflow-y: scroll;
    border-radius: ${Z.ADJUSTMENTS.RADIUS.LARGE} ${Z.ADJUSTMENTS.RADIUS.LARGE} 0 0;
  }
`,Dl=E(ki)`
  height: ${e=>e.height||"100%"};
  width: ${e=>e.width||"100%"};
`,Ul=E(Ie)`
  width: 7rem;
  background: #cf1c84;
  color: #fff;
  z-index: 0;
  font-family: 'FK Grotesk Neu';
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  line-height: 17px;
  margin-right: 20px;
  border-radius: 8px;
  padding: 11px 10px;
  @media (min-width: 600px) and (max-width: 700px) {
    margin-right: 9px;
  }
`;fe.coreContractChain;function Pl(){Tc.pageview("/channel_dashboard");const[e,i]=ee.useState(!0),[t,r]=ee.useState(null),a=()=>r(null);return ee.useEffect(()=>{t&&a()},[t]),n.jsxs(n.Fragment,{children:[e?n.jsx(Rl,{}):n.jsx(Bn,{}),t&&n.jsx(Rc,{notification:t,clearToast:a})]})}E.div`
  flex: 1;
  display: flex;

  margin-bottom: 15px;
  overflow: hidden;
`;let Ai;qi=()=>n.jsx(Ai,{children:n.jsx(Pl,{})}),Ai=E(kc)`
  flex: 1;
  flex-direction: column;
  align-self: stretch;
  justify-content: flex-start;
`});export{Zc as __tla,qi as default};
